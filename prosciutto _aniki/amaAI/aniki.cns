;===========================================================================
; コンスタンツ（定数）
;===========================================================================
;---------------------------------------------------------------------------
; ここがキャラの心臓部とも言うべき場所。
; １キャラ単位のライフや大きさなど、標準のステータスを予め決めておく部分。
; このコーナー自体省略出来ません。
;---------------------------------------------------------------------------
; 基本データ
;---------------------------------------------------------------------------
[Data]
life              = 1000   ;ライフ（体力ゲージ）最大値
power             = 10000   ;パワーゲージ最大値（オプション・デフォルトは3000=Lv.3）
attack            = 90    ;攻撃力（デフォルトは１００％）
defence           = 100    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に倒れている時間（フレーム）
airjuggle         = 999     ;ジャグルポイント限界値（「小ネタ.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパーク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガードスパーク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 0      ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex  = 56,59
FloatPersistIndex = 40
;---------------------------------------------------------------------------
; ※１：変数のラウンド持ち越し方法
;
; 　変数を次のラウンドへ持ち越したい場合は、↑の
; 　「IntPersistIndex」と「FloatPersistIndex」を使う。
; 　そのやり方はM.U.G.E.Nの説明書にすら載ってないので、ここで例を元に解説。
;
; 　①IntPersistIndex = 23　（Var(23)～Var(59)までを全て次のラウンドへ持ち越せる）
; 　②FloatPersistIndex = 18（FVar(18)～FVar(39)までを全て次のラウンドへ持ち越せる）
;
; 　つまり「Var(**)（Fvar(**)）以降全ての変数を持ち越す」という命令になる。
; 　それ以前のアドレスの変数は全て持ち越さなくなる。
;
; 　全ての変数を持ち越さない場合は、
; 　IntPersistIndexは60以上、FloatPersistIndexは40以上にしておこう。
;
; 　×これはダメ×
; 　　①IntPersistIndex = 10,15,20,25　（15,20,25の部分は意味無し）
; 　　②FloatPersistIndex = 4,16 　　　（16の部分は意味無し）
; 　　これらは最初の数字以外全て無効。
; 
;---------------------------------------------------------------------------
; 改訂前の和訳ＫＦＭではPersistIndexの解釈が無茶苦茶間違ってました。
; 大変失礼致しました。(人・ω・｀)ごめんなさい
; 今回はちゃんと調べて正確な情報を載せてるんで安心してください（苦笑
;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale = 0.95;0.833			;水平方向の縮尺（通常１）
yscale = 1.00			;垂直方向の縮尺（通常１）
ground.back      = 15      ;地上にいる時の「後方の物理的な幅」
ground.front     = 16      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 160     ;相手がガード態勢に入る最低の距離
proj.attack.dist = 90      ;自分の「Projectile」に対して相手がガード態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = -5,-90  ;キャラの標準の頭の座標（Bind系で適用される）
mid.pos          = -5,-60  ;キャラの標準の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標4
draw.offset      = 0,0     ;キャラの表示座標（Ｘ軸,Ｙ軸）

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.2       ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -1.58        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 7,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back = -3,0   ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu     = 0,-8.8      ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back    = -3.4       ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd     = 3.4        ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -3.5,-10.8  ;後方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
runjump.fwd  = 4.5,8.8      ;前方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
airjump.neu  = 0,-8.0      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -3.4       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 3.4         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; 運動関係
;---------------------------------------------------------------------------
[Movement]
airjump.num     = 0       ;空中ジャンプが出来る回数
airjump.height  = 35       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel          = .5      ;Ｙ軸加速度（重力）
stand.friction  = 0.85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = 0.82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "『ブッ殺した』なら、使ってもいいッ！"
victory2 = "まだわかんねーのか、\nママッ子野郎のペッシ！"
victory3 = "見えるッ！　のろいぞ！"
;===========================================================================
; ステート
;===========================================================================
;---------------------------------------------------------------------------
; ここからはキャラのそれぞれの行動（ステート）を設定する。
; 番号（ステートナンバー）に気を付ければ良いだけで、
; 行動の決め方もステートの数も作りたいキャラによって自由。
;
; 本来ステートは別のファイルとして扱っているものだけど、
; このようにコンスタンツファイルと一緒にまとめる事も可能。
;
; ステートの基本的な設定はおまけフォルダの「テンプレート.txt」を参照。
;===========================================================================
; 基本行動
;===========================================================================
;---------------------------------------------------------------------------
;タイムオーバー（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1 ;トリガーを何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利ポーズ分岐（common1.cnsには無いけど、これもコモンステート）
[Statedef 180]
type = S

[State 180, ステート変更]
type = ChangeState
triggerall = Time = 0
trigger1 = matchover
value = 183

[State 180, ステート変更]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 181]
type = S
ctrl = 0
anim = 181+var(49)
velset = 0,0

[State 1000, 7]
type = Helper
trigger1 = Time = 5
helpertype = normal
name = "mammone"
stateno = 184
id = 184
pos = 0, 0
postype = left
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, 7]
type = Helper
trigger1 = Time = 5
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 191, Wood 1]
type = Explod
triggerall = !var(49)
trigger1 = time = 0
anim = 10180
id = 10180
postype = p1
pos = 30,0
sprpriority = 3
bindtime = -1
ownpal = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;勝利ポーズ（マッチ勝利時）
[Statedef 183]
type = S
ctrl = 0
anim = 183+var(49)
velset = 0,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 3, 10

[State 1000, 7]
type = Helper
trigger1 = Time = 5
helpertype = normal
name = "mammone"
stateno = 186
id = 186
pos = 0, 0
postype = left
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 191, 2] 
type = AssertSpecial
trigger1 = matchover
trigger1 = Time = [0,350]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マンモーニ　兄貴勝利時
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 9, 1

[State 0, hitvel]
type = velset
trigger1 = rootdist x < 30
x = 0

[State 0, hitvel]
type = velset
trigger1 = rootdist x > 30
x = 8

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マンモーニ 兄貴敗北時
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 9, 3

[State 0, hitvel]
type = velset
trigger1 = rootdist x < 70
x = 0

[State 0, hitvel]
type = velset
trigger1 = rootdist x > 70
x = 8

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マンモーニ　兄貴マッチ勝利時
[Statedef 186]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 9, 4

[State 0, hitvel]
type = velset
trigger1 = root,facing = -1
trigger1 = rootdist x < 70
x = 0

[State 0, hitvel]
type = velset
trigger1 = root,facing = -1
trigger1 = rootdist x > 70
x = 8

[State 0, hitvel]
type = velset
trigger1 = root,facing = 1
trigger1 = rootdist x < 30
x = 0

[State 0, hitvel]
type = velset
trigger1 = root,facing = 1
trigger1 = rootdist x > 30
x = 8

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
;trigger1 = p2name != "mista" 
value = 191
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = p2name != "Bruno"
trigger1 = p2name != "kimorati" 
trigger1 = animelem = 4
value = 3, 17

[State 200, 音を鳴らす]
type = PlaySnd
triggerall = animelem = 4
trigger1 = p2name = "Bruno"
trigger2 = p2name = "kimorati" 
value = 3, 18

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; ※２：AssertSpecial
;
; 　他のコントローラでは設定出来ない『特殊な効果』を指定する命令。
; 　設定したトリガーが有効になってる間だけ一時的に適用される。
;
; 　適用出来るパラメータはこのコントローラを一つ設置する場合、最大３つまで。
; 　書式としては「flag」「flag2」「flag3」を順に加えていく形。
; 　flag2とflag3はオプション。ではその特殊効果を全て紹介。
;
; 　Intro          = イントロ（試合開始前の登場演出アクション）の状態になる。イントロステート専用。
; 　Invisible      = 自分の姿を消す。しかし残像（AfterImage）は消せない。
; 　RoundNotOver   = 現在のラウンドを過ぎない。勝利ポーズ専用。
; 　NoBarDisplay   = ライフバーを非表示にする。
; 　NoBG           = ステージの奥の画像を非表示にし、「真っ黒の背景」にする。
; 　NoFG           = ステージの手前の画像を非表示にする。
; 　NoStandGuard   = 立ちガードが出来なくなる。
; 　NoCrouchGuard  = しゃがみガードが出来なくなる。
; 　NoAirGuard     = 空中ガードが出来なくなる。
; 　NoAutoTurn     = 自動で振り向かない。
; 　NoJuggleCheck  = ジャグルをチェックしない。（ジャグルポイントが減らなくなる）
; 　NoKOSnd        = ＫＯ時の音声（11,0）を鳴らさないようにする。画面中に存在する全員に有効なので注意。
; 　NoKOSlow       = ＫＯ時のスローモーションを無効にする。（ＫＯ直前に有効にしないといけない）
; 　NoShadow       = 自分の影を消す。
; 　GlobalNoShadow = 画面中に存在する全てのプレイヤー（ヘルパーとProjectileも含む）の影を消す。
; 　NoMusic        = 演奏しているＢＧＭを止める。（プラグインによってはＢＧＭがバグるので要注意）
; 　NoWalk         = 歩かない。（前か後ろのキーを入力中コントロールが可能の時に勝手に[Statedef 20]にならない）
; 　TimerFreeze    = タイムカウント（制限時間）を停止する。
; 　UnGuardable    = 自分の全ての攻撃が『ガード不可』になる。
;
;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195+var(49)
velset = 0,0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 3, 11

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;===========================================================================
; 通常攻撃技
;===========================================================================
;---------------------------------------------------------------------------
; 通常技はそんなに難しいテクニックは使ってないから、
; テンプレートを見ながら確認すれば覚えやすいと思う。
; 基本忘るべからず。
;
; ステートナンバーは、立ち技が２００～２９９、しゃがみ技が４００～４９９、
; ジャンプ技が６００～６９９の間で決めて作るのが一般的。
; しかし強制じゃないので自由に作っちゃってＯＫ。
;---------------------------------------------------------------------------
;立ち弱
[Statedef 200]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd= 10*!(var(54)=1)
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 17*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
Trigger1 = EnemyNear,stateno = [120,160] 
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = random < 100
trigger1 = time = 5
value = 240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = frontedgebodydist<=100
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 5
value = 100001

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,40] 
trigger1 = movehit
trigger1 = time >= 5

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [-20,40] 
trigger2 = P2BodyDist Y = [-50,0] 
trigger2 = movecontact
trigger2 = time >= 5
value = 210

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = EnemyNear,StateType = A
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = P2BodyDist Y = [-50,-100] 
trigger1 = movecontact
trigger1 = time >= 5
value = 220

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact
trigger1 = time >= 5
value = 410

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 下の「立ち強パンチ」のステートを見てみましょ。
;
;「Width」のコントローラは相手や画面端を押すための『物理的な幅』を
; 一時的に伸ばしたり縮ませたりする命令。
; キャラの幅はバトル中に「Ctrl+C」を押して「判定ボックス」を表示させてる時に
; 一緒に確認出来る。「軸位置から伸びる黄緑色の線」がその幅。
;
; 後は「ChangeAnim」を使って５枚目で攻撃を当てたらすぐに６枚目に
; コマを進ませる命令をしてたり、
;『画像表示優先度』で「振りかぶる時は奥」「振り切った直後から手前」に
; モーション表示の操作をしてるくらいで、難しくない処理。
;
; これは余談だけど、Widthの読み方は「ウィッズ」。
; この解説文書いた時に初めて読み方知ったよ！　｡ﾟ(ﾟつД`ﾟ)ﾟ｡
;---------------------------------------------------------------------------
;立ち中
[Statedef 210]
type    = S
movetype= A
physics = S
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 210
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 211

[State 0, snd]
type = playsnd
trigger1 = animelem = 1
value = 2,1
channel = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno != 105
trigger1 = animelem = 2
x = 4

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 43*fvar(3)
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50*!(var(54)=1)
givepower = 20
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8,0
guard.velocity = -12
air.type = Low
air.velocity = -4,-2.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -12
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
triggerall = NumHelper(1001) = 0
trigger1 = life <= 10000
trigger1 = random < 500
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 8
value = 10270

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = power >= 2000 
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time = 8

trigger2 = enemynear,statetype = A
trigger2 = power >= 2000 
trigger2 = random < 900
trigger2 = P2BodyDist Y = [-60,20] 
trigger2 = P2BodyDist X = [-20,60] 
trigger2 = movehit && time = 8
value = 3300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = power >= 1000 
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time = 8

trigger2 = enemynear,statetype = A
trigger2 = power >= 1000 
trigger2 = random < 800
trigger2 = P2BodyDist Y = [-60,20] 
trigger2 = P2BodyDist X = [-20,60] 
trigger2 = movehit && time = 8
value = 3200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
Trigger1 = EnemyNear,StateType = A
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact && time >= 8
value = 220

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
trigger1 = P2BodyDist X = [-20,70]
trigger1 = P2BodyDist Y = [-30,0]
trigger1 = movecontact && time >= 8
trigger1 = random < 400
trigger2 = P2BodyDist X = [70,120]
trigger2 = P2BodyDist Y = [-30,0]
trigger2 = movecontact && time >= 8
value = 10300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact && time >= 8
value = 1220

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強
[Statedef 220]
type    = S
movetype= A
physics = S
poweradd= 50*!(var(54)=1)
ctrl = 0
anim = 220
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 225
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強　スタンド
[Statedef 225]
type = S
movetype = A
physics = N
anim = 225
velset = 0,0
sprpriority = 3

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 75*root,fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50*!(var(54)=1)
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -8
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 226
;---------------------------------------------------------------------------
;D立ち強
[Statedef 250]
type    = S
movetype= A
physics = S
poweradd= 45*!(var(54)=1)
ctrl = 0
anim = 250
sprpriority = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 255
id = 255
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 440, 3]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 65,9
hitflag = MAF
guardflag = MA
animtype = hard
priority = 4, Hit
pausetime = 8,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1, 6
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 15
guard.slidetime = 15
ground.velocity = -8*const(size.xscale),0
air.velocity = -6*const(size.xscale),0
guard.kill = 0
fall = 0
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = -15
sprpriority = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = power >= 2000 
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = movehit && time = 8

trigger2 = frontedgebodydist<=100
trigger2 = enemynear,statetype = A
trigger2 = power >= 2000 
trigger2 = random < 500
trigger2 = P2BodyDist Y = [-60,20] 
trigger2 = P2BodyDist X = [-20,50] 
trigger2 = movehit && time = 8
value = 3300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = power >= 1000 
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = movehit && time = 8

trigger2 = frontedgebodydist<=100
trigger2 = enemynear,statetype = A
trigger2 = power >= 1000 
trigger2 = random < 500
trigger2 = P2BodyDist Y = [-60,20] 
trigger2 = P2BodyDist X = [-20,50] 
trigger2 = movehit && time = 8
value = 3200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = FrontEdgeBodyDist <= 120
trigger1 = enemynear,statetype != A
trigger1 = power >= 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time = 8
value = 100002

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
Triggerall = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70]
trigger1 = movecontact && time >= 8
trigger1 = random < 400
trigger2 = P2BodyDist X = [70,120]
trigger2 = movecontact && time >= 8
value = 10300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact && time >= 8
value = 1220

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈強　スタンド
[Statedef 255]
type = S
movetype = A
physics = N
anim = 255
velset = 0,0
sprpriority = 2

[State 200, 7]
type = playsnd
trigger1 = animelem = 4
value = 0,1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 20,-70

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 440, 3]
type = null;HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 0,0
hitflag = MAF
guardflag = M
animtype = hard
priority = 4, Hit
pausetime = 5,14
sparkno = -1
guard.sparkno = -1
sparkxy = 50,-85
hitsound = -1
guardsound = -1
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 18
guard.slidetime = 18
ground.velocity = -8*const(size.xscale),0
air.velocity = -6*const(size.xscale),0
fall = 0
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = -15
numhits = 0
sprpriority = 2

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 250
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5997]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[state 301, ]
type=parentvarset
trigger1 = !time 
var(54) = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3014
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3015
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3016
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3017
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3018
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,hitshakeover
trigger2 = root,hitshakeover
trigger2 = root,prevstateno = [5000,5099]
value = 5998
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5998]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5999
sprpriority = 0

[State 1000, 2]
type = Varset
trigger1 = !hitshakeover
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = hitshakeover
v = 13
value = 1

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 9500]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9500
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[state 301, ]
type=parentvarset
trigger1 = !time 
var(54) = 0

[State 0, var]
type = parentvarset
trigger1 = !time
var(9) = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 9520

;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 9520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9501
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 0

[State 0, hitvel]
type = null;hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 29999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
;---------------------------------------------------------------------------
; 立ち強終了 (スタンド)
[Statedef 226]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 226
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;立ち強（スタンド出てる場合）
[Statedef 230]
type    = S
movetype= A
physics = S
poweradd= 40*!(var(54)=1)
ctrl = 0
anim = 230
sprpriority = 2

[State 0, snd]
type = playsnd
trigger1 = animelem = 1
value = 2,2
channel = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 0, hitvel]
type = velset
trigger1 = animelem = 2
x = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 55*fvar(3)
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50*!(var(54)=1)
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,0
guard.velocity = -12
air.type = Low
air.velocity = -6,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち強
[Statedef 240]
type    = S
movetype= A
physics = S
poweradd= 65*!(var(54)=1)
ctrl = 0
anim = 240
sprpriority = 2

[State 240, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 245
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち強　スタンド
[Statedef 245]
type = S
movetype = A
physics = N
anim = 245
velset = 0,0
sprpriority = 3

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 75*root,fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 13
ground.hittime = 13
guard.slidetime = 6
guard.hittime = 6
guard.ctrltime = 6
ground.velocity = -8
guard.velocity = -8
air.type = Low
air.velocity = -8,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 626
id = 626
pos = 85,-50
postype = p1
sprpriority = 3
bindtime = -1
removetime = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 246
;---------------------------------------------------------------------------
;前立ち強終了 (スタンド)
[Statedef 246]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 246
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;===========================================================================
;---------------------------------------------------------------------------
; ２Ｄ格ゲーでのしゃがみ通常攻撃は空中ガードが不可な作品が結構多い。
; カンフーマンも例外ではなかったみたい。
; ↓のしゃがみ弱パンチのguardflagが「L」のみになってるのに注目。
; 意味は「Low」。相手はこのしゃがみ弱パンチをガードする場合、
; 「しゃがみガードだけしか出来ない」という事になる。
;
; それ以外は簡単。
;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 400]
type    = C
movetype= A
physics = C
poweradd= 15*!(var(54)=1)
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 401

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = C, NA
damage = 13*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -5
air.type = Low
air.velocity = -4,-1
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 400

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
Trigger1 = EnemyNear,stateno = [120,160] 
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = random < 500
trigger1 = time = 5
value = 240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = frontedgebodydist<=100
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 4
value = 100001

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,40] 
trigger1 = movehit
trigger1 = time >= 5

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [-20,40] 
trigger2 = P2BodyDist Y = [-60,0] 
trigger2 = movecontact
trigger2 = time >= 5
value = 210

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact
trigger1 = time >= 5
value = 410

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1
;---------------------------------------------------------------------------
; 効果の違う攻撃を連続でヒットさせる場合は、複数のHitDefが必要。
; ↓のしゃがみ強パンチのguardflagの効果がそれぞれ別々（MとMA）なように、
; パラメータが数値じゃなければ特に。こればかりはどうしようもない。
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 410]
type    = C
movetype= A
physics = C
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 410
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 411

[State 420, ヒット定義]
type = HitDef  
trigger1 = animelem = 3
attr = C, NA
damage = 27*fvar(3)
hitflag = MAF
guardflag = L
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -25,-15
hitsound = s1,1
guardsound = s1,6
getpower = 30*!(var(54)=1)
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -1.5,ifelse(var(40)<8,-6+(var(40)*.02),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
guard.velocity = -8
air.guard.velocity = -8
air.fall = 1
fall.recovertime = 30
sprpriority = 3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 1
channel = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
triggerall = NumHelper(1001) = 0
trigger1 = life <= 10000
trigger1 = random < 500
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 8
value = 10270

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = power >= 2000 
trigger1 = random < 500
trigger1 = P2BodyDist Y = [-60,20] 
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time = 5
value = 3300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = power >= 1000 
trigger1 = random < 500
trigger1 = P2BodyDist Y = [-60,20] 
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time = 5
value = 3200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
trigger1 = P2BodyDist X = [-20,120]
trigger1 = P2BodyDist Y = [-30,0]
trigger1 = movecontact && time >= 5
trigger1 = random < 400
trigger2 = P2BodyDist X = [100,120]
trigger2 = P2BodyDist Y = [-30,0]
trigger2 = movecontact && time >= 5
value = 10300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,100]
trigger1 = movecontact && time >= 5
value = 1220

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;---------------------------------------------------------------------------
; 誰もが攻撃手段としてお世話になる「足払い」はダウン属性の攻撃。
; 実際に足払いの効果にするにはground.typeを「Trip」に、
; fallを「1」にする必要がある。もちろん当たればジャグルポイントも消費。
;
; ここで一つ補足。ground.typeが「Trip」になっている場合、
; 攻撃力や防御力に関係無く転ばした後に続く攻撃（「コンボ」など）が
;『全て無条件でダメージに補正が掛かる』。
; 必ず通常の半分のダメージ量に下がるので注意。
;---------------------------------------------------------------------------
;屈み強
[Statedef 420]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 420
sprpriority = 0

[State 200, 7]
type = playsnd
trigger1 = animelem = 3
value = 2,2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 425
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 80*fvar(3),8
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 0,8
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 3
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
guard.slidetime = 14
ground.velocity = -2*const(size.xscale),-2
air.velocity = -2*const(size.xscale),-3
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈強　スタンド
[Statedef 425]
type = S
movetype = A
physics = N
anim = 421
velset = 0,0
sprpriority = 2

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 7]
type = playsnd
trigger1 = animelem = 4
value = 0,1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 30,-30

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 420
;===========================================================================
;---------------------------------------------------------------------------
; ジャンプ通常攻撃にChangeStateのコントローラが無いのは、
; Physicsを「A」にしているから。
; おまけフォルダの「小ネタ.txt」を参照。（Physicsの仕組み）
;
; しゃがみ通常技とは逆に、ジャンプ通常技は基本的に「中段属性」の攻撃。
; しゃがみガードが出来ないのが普通なので、guardflagを「HA」にしておくのが定石。
;「立ちガードの需要性」と「空対地のガードの揺さぶりによる駆け引き」を
; プレイヤーに楽しんでもらうための先人達の知恵だね。
;---------------------------------------------------------------------------
;ジャンプ弱
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd= 10*!(var(54)=1)
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 1
attr = A, NA
damage = 24*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = H
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s810
sparkxy = -11,-34
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6
guard.velocity = -5
air.type = High
air.velocity = -5,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36

[State 600, コントロール]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 610
sprpriority = 2

[State 200, 7]
type = statetypeset
trigger1 = time = 13
movetype = I

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 2, 1
channel = 0

[State 420, ヒット定義]
type = HitDef  
trigger1 = animelem = 2
attr = A, NA
damage = 40*fvar(3)
hitflag = MAF
guardflag = HA
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -10,-25
hitsound = s1,1
guardsound = s1,6
getpower = 30*!(var(54)=1)
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,0
air.velocity = -6,-3
guard.velocity = -3
guard.kill = 0
air.guard.velocity = -3
sprpriority = 2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recovertime = 36
;---------------------------------------------------------------------------
;空中強
[Statedef 620]
type    = A
movetype= A
physics = A
poweradd= 45*!(var(54)=1)
ctrl = 0
anim = 620
sprpriority = 0

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 0, hit]
type = hitdef
trigger1= var(40) < 10
trigger1 = time = 0
attr = S, NA
damage = 65*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -30,-24
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50*!(var(54)=1)
givepower = 20
ground.type = Low
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,22)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,22)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
ground.velocity = -2,-6
guard.velocity = -18
air.type = Low
air.velocity = -2,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
guard.kill = 0
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 0

[State 0, hit]
type = hitdef
trigger1= var(40) >= 10
trigger1 = time = 0
attr = S, NA
damage = 65*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -30,-24
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50*!(var(54)=1)
givepower = 20
ground.type = Low
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -2,-6
guard.velocity = -18
air.type = Low
air.velocity = -2,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
guard.kill = 0
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 625
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0
;---------------------------------------------------------------------------
;空中強　スタンド
[Statedef 625]
type = S
movetype = A
physics = N
anim = 625
velset = 0,0
sprpriority = 2

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, hit]
type = hitdef
trigger1= parent,var(40) < 10
trigger1 = time = 0
attr = S, NA
damage = 0
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = -1
sparkxy = -10,-64
guard.sparkno = -1
hitsound = -1
guardsound = -1
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -2,-6
guard.velocity = -18
air.type = Low
air.velocity = -2,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 2
numhits = 0

[State 0, hit]
type = hitdef
trigger1= parent,var(40) >= 10
trigger1 = time = 0
attr = S, NA
damage = 0
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = -1
sparkxy = -10,-64
guard.sparkno = -1
hitsound = -1
guardsound = -1
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -2,-6
guard.velocity = -18
air.type = Low
air.velocity = -2,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 2
numhits = 0

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 626
id = 626
pos = 85,-40
postype = p1
sprpriority = 3
bindtime = -1
removetime = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 10,-20

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 620
trigger2 = root,stateno != 100102
;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
; エレクバイトが「作るのが退屈と感じる時もあるよ」って言ってるけど、
; 作り出したら意外とハマって楽しくなる投げ技。
; 投げる相手の正確な座標取りは面倒臭いけどね（コラ
; 投げ用のHitDefはテンプレートと見比べて確認すればわかるはず。
;---------------------------------------------------------------------------
;投げ　掴み
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 900

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(command = "holdfwd", 1, -1)
p2facing = 1
p2stateno = 950
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 950
value = 930
persistent = 0

[State 0, end]
type = changestate
trigger1 = NumHelper(1001) = 0 
trigger1 = !animtime
value = 220

[State 0, end]
type = changestate
trigger1 = NumHelper(1001) != 0 
trigger1 = !animtime
value = 210
;---------------------------------------------------------------------------
; 投げ終了 (スタンド)
[Statedef 902]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 902
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 902
id = 902
pos = 30,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 902
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;投げ 成功
[Statedef 930]
type = S
movetype = A
physics = N
anim = 930
velset = 0,0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 960

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 940
id = 1001
pos = 10, 20
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 20, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time = 15
value = -40

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 16
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 80,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,ctrl = 0
trigger1 = numtarget
trigger1 = animtime = 0
value = 200

[State -2, ヒット数加算]
type=varadd
trigger1=time=0
var(40)=10

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ スタンド
[Statedef 940]
type = S
movetype = A
physics = N
anim = 901
velset = 0,0
sprpriority = 4

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 930
time = 1
pos = 0,-5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 15
value = 6, 8

[State 10820,]
type = Explod
trigger1 = Time = 15
facing = 1
postype = p1
pos = 30,-100
anim = 830
sprpriority = 5
ownpal = 1

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
trigger2 = root,stateno = 960
value = 902
;---------------------------------------------------------------------------
;相手側
[Statedef 950]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 0, PosSet]
type = PosSet
Trigger1 = 1
y = -25

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1060, 2]
type = changeanim2
trigger1 = time = 1
value = 911

[State 1061, 2]
type = Velset
trigger1 = time = 21
x = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 40
value = 5050
ctrl = 0
;---------------------------------------------------------------------------
;投げぬけ 自分（y.y氏製作）
[Statedef 960]
type = A
movetype = I
physics = A
anim = Ifelse(var(49)=10000,15040,5210)
velset = -3,-5

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 970

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　相手
[Statedef 970]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
;---------------------------------------------------------------------------
;ON投げ　掴み
[Statedef 10900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 10900

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(command = "holdfwd", 1, -1)
p2facing = 1
p2stateno = 950
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 950
value = 10930
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 10220
;---------------------------------------------------------------------------
;ON投げ 成功
[Statedef 10930]
type = S
movetype = A
physics = N
anim = 10930
velset = 0,0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 960

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 20, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time = 15
value = -40

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 15
value = 6, 8

[State 10820,]
type = Explod
trigger1 = Time = 15
facing = 1
postype = p1
pos = 30,-100
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 16
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 80,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,ctrl = 0
trigger1 = numtarget
trigger1 = animtime = 0
value = 830

[State -2, ヒット数加算]
type=varadd
trigger1=time=0
var(40)=10

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
;兄貴GUN道
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 80*!(var(54)=1)
anim = 1000
ctrl = 0
sprpriority = 2

[state 3003　弾丸]
type = helper
trigger1 = animelem = 4
name = "bullet"
helpertype = normal
stateno = 1001
id = 1000
pos = 35,-45
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[state 3003　弾丸2]
type = helper
trigger1 = animelem = 7
name = "bullet"
helpertype = normal
stateno = 1002
id = 1000
pos = 45,-50
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[state 3003　弾丸3]
type = helper
trigger1 = animelem = 10
name = "bullet"
helpertype = normal
stateno = 1003
id = 1000
pos = 40,-45
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 6
y = 12

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,8
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー2
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 12
y = 12

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,8
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー3
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 5
y = 10

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,8
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;弾痕消えます
[Statedef 1005]
type    = S
movetype= I
physics = S
poweradd= 0
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ON 兄貴GUN道 弱
[Statedef 11000]
type    = S
movetype= A
physics = S
poweradd= 80*!(var(54)=1)
anim = 11000
ctrl = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-36
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200

[state 3003　発砲代理人]
type = helper
trigger1 = time = 0
name = "dairi"
helpertype = normal
stateno = 11001
id = 11001
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発砲代理人
[Statedef 11001]
type    = S
movetype= A
physics = S
poweradd= 80*!(var(54)=1)
anim = 11001
ctrl = 0
sprpriority = 2

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Invisible

[state 3003　弾丸]
type = helper
trigger1 = animelem = 4
name = "bullet"
helpertype = normal
stateno = 11002
id = 1000
pos = 35,-45
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[state 3003　弾丸2]
type = helper
trigger1 = animelem = 7
name = "bullet"
helpertype = normal
stateno = 11003
id = 1000
pos = 45,-50
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[state 3003　弾丸3]
type = helper
trigger1 = animelem = 10
name = "bullet"
helpertype = normal
stateno = 11004
id = 1000
pos = 40,-45
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 0, end]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno != [11000,11020]
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー
[Statedef 11002]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 6
y = 12

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,8
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー2
[Statedef 11003]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 12
y = 12

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,2
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;銃 弾丸ヘルパー3
[Statedef 11004]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1100, Velocity]
type = VelSet
trigger1 = 1
x = 5
y = 10

[State 420, ヒット定義]
type = HitDef  
trigger1 = time= 0
attr = S, SP
damage = 30*root,fvar(3),5
hitflag = MAFD
guardflag = L
pausetime = 0,2
animtype = hard
sparkno = s810
sparkxy = 10,-15
hitsound = s1,0
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s6040
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -1,0
guard.velocity = -10
air.guard.velocity = -3
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 410, 0
channel = 0

[State 1000, ステート変更]
type = destroyself
trigger1 = movecontact

[State 1000, ステート変更]
type = ChangeState
trigger1 = Pos Y >= -5
value = 1005
;---------------------------------------------------------------------------
;ON 兄貴GUN道 中
[Statedef 11010]
type    = S
movetype= A
physics = S
poweradd= 80*!(var(54)=1)
anim = 11010
ctrl = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 61*fvar(3)
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6.5,0
guard.velocity = -12
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230

[state 3003　発砲代理人]
type = helper
trigger1 = time = 0
name = "dairi"
helpertype = normal
stateno = 11001
id = 11001
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON 兄貴GUN道 強
[Statedef 11020]
type    = S
movetype= A
physics = S
poweradd= 80*!(var(54)=1)
anim = 11020
ctrl = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
attr = S, NA
damage = 75*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -8
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[state 3003　発砲代理人]
type = helper
trigger1 = time = 0
name = "dairi"
helpertype = normal
stateno = 11001
id = 11001
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;朽ち果てろ！
[Statedef 1100]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1100

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 900, 1]
type = HitDef
triggerall = enemynear,Statetype != A
triggerall = P2bodydist X = [-const(size.ground.front),40]
trigger1 = AnimElem = 1
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p2stateno = 1150
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 1150
value = 1130
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 終了 (スタンド)
[Statedef 1102]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1102
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;朽ち果てろ！成功
[Statedef 1130]
type = S
movetype = A
physics = N
anim = 1130
velset = 0,0
sprpriority = 2

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1140
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 901,1]
type = targetBind
rigger1 = Time = 1
trigger1 = target,stateno = 1150
pos = 75, -100
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = Time = 0
trigger1 = target,stateno = 1160
pos = 75,0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = Time >= 65
trigger1 = target,stateno = 1150
pos = 75,0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time >= 15
trigger1 = Time <= 50
value = -3
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) <= 3
trigger1 = Time = 50
value = -20

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 3
triggerall = var(56) <= 6
trigger1 = Time = 50
value = -50

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 6
trigger1 = Time = 50
value = -100

[State 16010]  
type = varadd
triggerall = var(56) != 8
trigger1 = time = 50
v = 56
value = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 3, 6
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 80,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;朽ち果てろ！　スタンド
[Statedef 1140]
type = S
movetype = A
physics = N
anim = 1101
velset = 0,0
sprpriority = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 8, 0
channel = 8

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 6, 9

[State 1000, 7]
type = Helper
trigger1 = Time = 12
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 25, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, 7]
type = Helper
trigger1 = Time = 8
helpertype = normal
name = "Smork2"
stateno = 300010
id = 300000
pos = 105, -100
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1130
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 1102
;---------------------------------------------------------------------------
;相手側
[Statedef 1150]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 0, PosSet]
type = PosSet
Trigger1 = time = 0
y = 0

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1060, 2]
type = changeanim2
trigger1 = time = 1
value = 1111

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add=(Time*-3),(Time*-3),(Time*-3)
mul = 128,128,128
invertall = 0
color = 256

[State 820, 4]
type = changeState;キャラのコントロールを相手に返しません
trigger1 = time = 65
value = 1151
ctrl = 0

[State 820, 4]
type = SelfState
Trigger1 = Time = 65 && !alive
value = 5110

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 65
value = 5110
;---------------------------------------------------------------------------
;相手ダウン
[Statedef 1151]
anim  = 5000
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 5

[State 100, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 3321

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 0 && !alive
trigger1 = !alive
value = 5150
ctrl = 0

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 20
value = 5120
ctrl = 0
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1160]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE
;---------------------------------------------------------------------------
;ON朽ち果てろ！つかむ
[Statedef 11100]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 11100

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 900, 1]
type = HitDef
triggerall = enemynear,Statetype != A
triggerall = P2bodydist X = [-const(size.ground.front),75]
trigger1 = !time
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p2stateno = 1150
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 1150
value = 11101
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON朽ち果てろ！
[Statedef 11101]
type = S
movetype = A
physics = N
anim = 11102
velset = 0,0
sprpriority = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 8, 0
channel = 8

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 6, 9

[State 1000, 7]
type = Helper
trigger1 = Time = 12
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 25, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, 7]
type = Helper
trigger1 = Time = 8
helpertype = normal
name = "Smork2"
stateno = 300010
id = 300000
pos = 105, -100
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901,1]
type = targetBind
rigger1 = Time = 1
trigger1 = target,stateno = 1150
pos = 50, -100
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = Time = 0
trigger1 = target,stateno = 1160
pos = 50,0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time >= 15
trigger1 = Time <= 50
value = -3
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) <= 3
trigger1 = Time = 50
value = -20

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 3
triggerall = var(56) <= 6
trigger1 = Time = 50
value = -50

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 6
trigger1 = Time = 50
value = -100

[State 16010]  
type = varadd
triggerall = var(56) != 8
trigger1 = time = 50
v = 56
value = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 3, 6
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 80,0

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;けむり
[Statedef 300000]
type = S
movetype = I
physics = N
anim = 876
velset = 0,0
sprpriority = 0

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;けむり2
[Statedef 300010]
type = S
movetype = I
physics = N
anim = 877
velset = 0,0
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;けむり3
[Statedef 300020]
type = S
movetype = I
physics = N
anim = 878
velset = 0,0
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = changeanim
triggerall = anim != 10878
trigger1 = root,movetype = H
value = 10878

[State 901, Ctrl]
type = destroyself
trigger1 = anim = 878
trigger1 = animtime = 0
trigger2 = anim = 10878
trigger2 = animtime = 0

;---------------------------------------------------------------------------
;けむり3.5
[Statedef 300021]
type = S
movetype = I
physics = N
anim = 878
velset = 0,0
sprpriority = 0

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;けむり4
[Statedef 300030]
type = S
movetype = I
physics = N
anim = 879
velset = 0,0
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;けむり5
[Statedef 300050]
type = S
movetype = I
physics = N
anim = 874
velset = 0,0
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 92, 28

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,255
mul = 128,128,128
invertall = 0
color = 256

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Ctrl]
type = changeanim
triggerall = anim != 10878
trigger1 = root,movetype = H
value = 10878

[State 901, Ctrl]
type = destroyself
trigger1 = anim = 874
trigger1 = animtime = 0
trigger2 = anim = 10878
trigger2 = animtime = 0

;---------------------------------------------------------------------------
;連打 弱
[Statedef 1200]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 1200
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1201
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
triggerall = var(59)=1
trigger1 = AnimTime = 0
trigger1 = !numtarget
value = 105

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;連打　弱　スタンド
[Statedef 1201]
type = S
movetype = A
physics = N
anim = 1201
velset = 0,0
sprpriority = 3

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 0,0

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
trigger2 = animelem = 9
attr = S, NA
damage = 25*root,fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 13
attr = S, NA
damage = 35*root,fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 1202
;---------------------------------------------------------------------------
;連打 中
[Statedef 1210]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 1210
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1211
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
triggerall = var(59)=1
trigger1 = AnimTime = 0
trigger1 = !numtarget
value = 105

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;連打中　スタンド
[Statedef 1211]
type = S
movetype = A
physics = N
anim = 1211
velset = 0,0
sprpriority = 3

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 10,0

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
trigger2 = animelem = 9
attr = S, NA
damage = 25*root,fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
guard.kill = 0
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 13
attr = S, NA
damage = 35*root,fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 225
sprpriority = 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 1202
;---------------------------------------------------------------------------
;連打 強
[Statedef 1220]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 1220
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1221
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;連打強　スタンド
[Statedef 1221]
type = S
movetype = A
physics = N
anim = 1221
velset = 0,0
sprpriority = 3

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 15
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 0, hit]
type = hitdef
trigger1 = animelem = 7
trigger2 = animelem = 11
attr = S, NA
damage = 25*root,fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 15
attr = S, NA
damage = 35*root,fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 40
yaccel = .36
id = 225
sprpriority = 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
triggerall = var(59)=1
trigger1 = AnimTime = 0
trigger1 = !numtarget
value = 105

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 1202
;---------------------------------------------------------------------------
; 立ち強終了 (スタンド)
[Statedef 1202]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1202
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;カウンター
[Statedef 1300]
type    = S
movetype= I
physics = S
poweradd= 0
anim = 1300
ctrl = 0
sprpriority = 0

[State 200, 7]
type = playsnd
trigger1 = animelem = 2
value = 3,3
channel = 0

[State 800, 1]
type = ReversalDef
trigger1 = time = 0
attr = S, SA
reversal.attr = SCA, AA
sparkno = -1
pausetime = 0,0
numhits = 0
p1stateno = 1320
ID = 1310

[state 3003　スタンド]
type = helper
trigger1 = numhelper(1001) = 0
trigger1 = animelem = 2
name = "gf"
helpertype = normal
stateno = 1310
id = 1001
pos = 20,-20
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター スタンド
[Statedef 1310]
type    = S
movetype= I
physics = S
poweradd= 0
anim = 1310
ctrl = 0
sprpriority = 2

[State 191, Wood 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1065, 3]
type = bindtoparent
trigger1 = root,stateno = 1300
pos = 20,-20
time = 1
ignorehitpause = 1

[State 1065, 3]
type = bindtoparent
trigger1 = root,stateno = 1340
pos = 20,-5
time = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, ステート変更]
type = destroyself
trigger1 = time >= 20
trigger2 = root,stateno != 1300 && root,stateno != 1340
;---------------------------------------------------------------------------
;カウンター成功
[Statedef 1320]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1320

[State 191, Wood 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 1311
id = 1311
pos = 20,-20
postype = p1
removetime = 1
scale = 1.0,1.0
sprpriority = 2
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 865
id = 865
pos = 0,-60
postype = p1
removetime = 13
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 840
id = 840
pos = 20,-60
postype = p1
removetime = 12
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 200, 7]
type = playsnd
trigger1 = time = 0
value = 410,1

[state 3000]
type = pause
trigger1 = time = 0
time = 10
movetime = 0

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 900, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
hitflag = MAF
priority = 3, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p2stateno = 1150
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 1150
value = 1330
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター 大成功
[Statedef 1330]
type = S
movetype = A
physics = N
anim = 1130
velset = 0,0
sprpriority = 2

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1140
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 901,1]
type = targetBind
rigger1 = Time = 1
trigger1 = target,stateno = 1150
pos = 75, -100
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = Time = 0
trigger1 = target,stateno = 1160
pos = 75,0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time >= 15
trigger1 = Time <= 50
value = -2
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) <= 3
trigger1 = Time = 50
value = -20

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 3
triggerall = var(56) <= 6
trigger1 = Time = 50
value = -40

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(56) >= 6
trigger1 = Time = 50
value = -80

[State 16010]  
type = varadd
triggerall = var(56) != 8
trigger1 = time = 50
v = 56
value = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 3, 2
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 80,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
trigger2 = numtarget = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター中
[Statedef 1340]
type    = S
movetype= I
physics = S
poweradd= 0
anim = 1305
ctrl = 0
sprpriority = 0

[State 200, 7]
type = playsnd
trigger1 = animelem = 2
value = 3,3
channel = 0

[State 800, 1]
type = ReversalDef
trigger1 = time = 0
attr = S, SA
reversal.attr = SCA, AA
sparkno = -1
pausetime = 0,0
numhits = 0
p1stateno = 1345
ID = 1310

[state 3003　スタンド]
type = helper
trigger1 = numhelper(1001) = 0
trigger1 = animelem = 2
name = "gf"
helpertype = normal
stateno = 1310
id = 1001
pos = 20,-5
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター中成功
[Statedef 1345]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1320

[State 191, Wood 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 1311
id = 1311
pos = 20,-5
postype = p1
removetime = 1
scale = 1.0,1.0
sprpriority = 2
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 865
id = 865
pos = 0,-60
postype = p1
removetime = 13
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 840
id = 840
pos = 20,-60
postype = p1
removetime = 12
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 200, 7]
type = playsnd
trigger1 = time = 0
value = 410,1

[state 3000]
type = pause
trigger1 = time = 0
time = 10
movetime = 0

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 900, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
hitflag = MAF
priority = 3, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p2stateno = 1150
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 1150
value = 1330
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈カウンター
[Statedef 1350]
type    = C
movetype= I
physics = C
poweradd= 0
anim = 1350
ctrl = 0
sprpriority = 0

[State 200, 7]
type = playsnd
trigger1 = animelem = 2
value = 3,3
channel = 0

[State 800, 1]
type = ReversalDef
trigger1 = time = 0
attr = S, SA
reversal.attr = SCA, AA
sparkno = -1
pausetime = 0,0
numhits = 0
p1stateno = 1370
ID = 1310

[state 3003　スタンド]
type = helper
trigger1 = numhelper(1001) = 0
trigger1 = animelem = 2
name = "gf"
helpertype = normal
stateno = 1360
id = 1001
pos = 20,20
postype = p1
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈カウンター スタンド
[Statedef 1360]
type    = S
movetype= I
physics = S
poweradd= 0
anim = 1310
ctrl = 0
sprpriority = 2

[State 191, Wood 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 20,20
time = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000, ステート変更]
type = destroyself
trigger1 = time >= 20
trigger2 = root,stateno != 1350
;---------------------------------------------------------------------------
;屈カウンター成功
[Statedef 1370]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1370

[State 191, Wood 1]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 1311
id = 1311
pos = 20,20
postype = p1
removetime = 1
scale = 1.0,1.0
sprpriority = 2
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 865
id = 865
pos = 0,-60
postype = p1
removetime = 13
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 840
id = 840
pos = 20,-60
postype = p1
removetime = 12
scale = 1.0,1.0
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 200, 7]
type = playsnd
trigger1 = time = 0
value = 410,1

[state 3000]
type = pause
trigger1 = time = 0
time = 10
movetime = 0

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 900, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
hitflag = MAF
priority = 3, Miss
sparkno = -1
p1facing = 1
p2facing = 1
p2stateno = 1150
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 1150
value = 1330
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;空中連打 弱
[Statedef 1400]
type    = A
movetype= A
physics = A
poweradd= 65
ctrl = 0
anim = 1400
sprpriority = 2

[State 0, 2]
type = VelSet
trigger1 = time <= 31
x = 0
y = 0

[State 0, 2]
type = Velset
trigger1 = time = 32
x = 0
y = -2

[State 0, 2]
type = Veladd
trigger1 = time >= 33
x = 0
y = 0.1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1401
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0
;---------------------------------------------------------------------------
;空中連打　弱　スタンド
[Statedef 1401]
type = A
movetype = A
physics = N
anim = 1401
velset = 0,0
sprpriority = 3

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 10,-20

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
trigger2 = animelem = 9
attr = S, NA
damage = 20*root,fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 13
attr = S, NA
damage = 30*root,fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -4,-3
guard.velocity = -8
air.type = Low
air.velocity = -5,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 空中連打終了 (スタンド)
[Statedef 1402]
type    = A
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1402
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ガーキャン
[Statedef 1800]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1800
velset = 0,0
poweradd= -1000
sprpriority = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s3,2
channel = 0

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 30,0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1801
id = 1001
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ガーキャン　スタンド
[Statedef 1801]
type = S
movetype = A
physics = N
anim = 1801
velset = 0,0
sprpriority = 3

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s6,10

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300050
id = 300020
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.5

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300050
id = 300020
pos = -30, 0
postype = p1
ownpal = 1
facing = -1
size.xscale = 1.5
size.yscale = 1.5

[State 0, hit]
type = hitdef
trigger1 = time = 0
attr = S, NA
damage = 30,0
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = -1
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -12,-6
guard.velocity = -18
air.type = Low
air.velocity = -12,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
id = 3000
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 3002
;---------------------------------------------------------------------------
;ONガーキャン
[Statedef 11800]
type = S
movetype = A
physics = S
anim = 11800
velset = 0,0
sprpriority = 3
ctrl = 0

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 14

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s3,2
channel = 0

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s6,10

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300050
id = 300020
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.5

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300050
id = 300020
pos = -30, 0
postype = p1
ownpal = 1
facing = -1
size.xscale = 1.5
size.yscale = 1.5

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 30,0
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = -1
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -12,-6
guard.velocity = -18
air.type = Low
air.velocity = -12,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
id = 3000
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
; 超必殺技
;===========================================================================
;---------------------------------------------------------------------------
; 最初のM.U.G.E.Nから存在するカンフーマンの超必殺技。
; 超必なので攻撃を当ててもゲージを増やさないようにする事に気を付けるだけで、
; 後は結構簡単な処理にまとめられてる。
; 超必時の暗転用の処理（SuperPause）にも刮目せよ！m9っ｀Д´)
;---------------------------------------------------------------------------

;===========================================================================
;スパコン背景
[Statedef 23101]
ctrl = 0
anim = 9999

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = time <= 29
flag = NoFG
flag2 = NoBG

[State 0, explod]
type = explod
trigger1 = !time
anim = 3101
id = 3101
pos = -1,0
postype = back
removetime = 30
scale = 1.0,1.35
sprpriority = -20
pausemovetime = 30
supermovetime = 30

;cut in
[State 0, explod]
type = explod
trigger1 = time = 7
anim = 3100
id = 7000
pos = -50,120
postype = back
removetime = 23
sprpriority = -10
pausemovetime = 23
supermovetime = 23

[State 8000, ModifyExplod-3]
type = ModifyExplod
trigger1 = Numexplod(7000)
Id = 7000
postype = back
pos = ceil(-20+((random%16)*ifelse((time%6=[1,3]),-1,1))),ceil(170+((random%16)*ifelse((time%6=[1,3]),-1,1)))
scale = ifelse(time>=22,2,.2+((time-6)*.125))*1,ifelse(time>=22,2,.2+((time-6)*.125))*1

[State 0, end]
type = DestroySelf
trigger1 = time = 31
;---------------------------------------------------------------------------
;老化けむり
[Statedef 3000]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3000
velset = 0,0
poweradd= -1000
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s4,0

[state 3000]
type = pause
trigger1 = time = 5
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = anim = 3000
trigger1 = time = 5
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 3001
id = 1001
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 7
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;老化けむり　スタンド
[Statedef 3001]
type = S
movetype = A
physics = N
anim = 3001
velset = 0,0
sprpriority = 3

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 10

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 50,0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s6,9

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300020
id = 300020
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.5

[State 1000, 7]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "Smork"
stateno = 300020
id = 300020
pos = -30, 0
postype = p1
ownpal = 1
facing = -1
size.xscale = 1.5
size.yscale = 1.5

[State 0, hit]
type = hitdef
trigger1 = time = 0
attr = S, NA
damage = 60,5
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = -1
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -12,-6
guard.velocity = -18
air.type = Low
air.velocity = -12,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
id = 3000
sprpriority = 3

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 5
trigger2 = time = 10
trigger3 = time = 15
trigger4 = time = 20
time = 5
add = 32,0,32
invertall = 0
color = 200
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 25
trigger2 = time = 30
trigger3 = time = 35
trigger4 = time = 40
time = 5
add = 32,0,32
invertall = 0
color = 100
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 45 
trigger2 = time = 50 
trigger3 = time = 55
trigger4 = time = 60
time = 5
add = 32,0,32
invertall = 0
color = 50
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 65 
trigger2 = time = 70
trigger3 = time = 75
trigger4 = time = 80
time = 5
add = 32,0,32
invertall = 0
color = 25
ignorehitpause = 1

[State 16010]  
type = parentvaradd
triggerall = roundstate = 2
triggerall = parent,var(56) != 8
trigger1 = time = 50
trigger2 = time = 85
v = 56
value = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 3002
;---------------------------------------------------------------------------
; 老化けむり終了 (スタンド)
[Statedef 3002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;直は素早いんだぜ！
[Statedef 3200]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3200
velset = 0,0
poweradd= -1000
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 45

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s4,0

[state 3000]
type = pause
trigger1 = time = 5
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = anim = 3200
trigger1 = time = 5
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 3210
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 13
channel = 0

[State 240, 4]
type = ChangeState
trigger1 = helper(1001),stateno = 3210
trigger1 = helper(1001),movehit
value = 3201

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;直は素早いんだぜ！ 成功時本体
[Statedef 3201]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3202
velset = 0,0
poweradd= 0
sprpriority = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 30

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 80,0

[State 240, 4]
type = ChangeState
trigger1 = helper(1001),stateno = 3212
value = 3202
ctrl = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
trigger2 = numhelper(1001) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;直は素早いんだぜ！ 成功時本体2
[Statedef 3202]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3202
velset = 0,0
poweradd= 0
sprpriority = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 20
value = 3, 9
channel = 0

[state 0, helper 背景]
type = helper
trigger1 = Time = 20
helpertype = normal
name = "haikei"
stateno = 9300
id = 9300
postype = back

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 30,0

[State 40, 6]
type = ChangeState
trigger1 = var(59)=1
trigger1 = var(58)>=7
trigger1 = animtime = 0
Trigger1 = EnemyNear,MoveType = H
trigger1 = P2BodyDist X = [-20,60]
value = 1000

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
;超必背景（縦）
[Statedef 9300]
ctrl = 0
anim = 29999

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = NoBG
flag2 = NoFG

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8210
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8215
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8211
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8216
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8212
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8217
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8213
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8218
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8210)
id = 8210
pos = 0,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8211)
id = 8211
pos = 107,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8212)
id = 8212
pos = 214,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8213)
id = 8213
postype = back
pos = 320,-(time*8)%512
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8215)
id = 8215
pos = 0,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8216)
id = 8216
pos = 107,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8217)
id = 8217
pos = 214,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8218)
id = 8218
pos = 320,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8210

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8211

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8212

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8213

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8215

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8216

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8217

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
id = 8218

[State 0, end]
type = DestroySelf
trigger1 = roundstate = 4
trigger2 = root,stateno != 3202
trigger2 = root,stateno != 13202
;---------------------------------------------------------------------------
;素早いんだぜ！　スタンド
[Statedef 3210]
type = S
movetype = A
physics = N
anim = 3210
velset = 0,0
sprpriority = 3

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, HA
damage = 30*root,fvar(3),5
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s850
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,4
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
guard.kill = 0
id = 3200
sprpriority = 3
p2facing = 1
P2stateno = 3220

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
trigger1 = movehit
value = 3211

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 226
;---------------------------------------------------------------------------
;素早いんだぜ！　スタンド つかむ
[Statedef 3211]
type = S
movetype = A
physics = N
anim = 3211
velset = 0,0
sprpriority = 3

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
attr = S, HA
damage = 0*root,fvar(3),0
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,7
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
id = 3211
sprpriority = 3
P1stateno = 3212
p2facing = 1
P2stateno = 3221

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 1202
;---------------------------------------------------------------------------
;素早いんだぜ！　スタンド 老化
[Statedef 3212]
type = S
movetype = A
physics = N
anim = 3212
velset = 0,0
sprpriority = 1

[State -2, scale]
type = null;AngleDraw
trigger1 = 1
scale = 1.5,1.5

[State -2, BG]
type = Helper
trigger1 = animelem = 5
ID = 8750
stateno = 8750
postype = left
pos = -999,-999
pausemovetime = 99999999
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 23
value = 8, 0
channel = 8

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 23
value = 6, 9

[State 1000, 7]
type = Helper
trigger1 = Time = 27
trigger2 = Time = 54
trigger3 = Time = 81
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 1000, 7]
type = Helper
trigger1 = Time = 23
helpertype = normal
name = "Smork2"
stateno = 300030
id = 300000
pos = 80, -100
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 80,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 901, Hurt]
type = null;TargetLifeAdd
trigger1 = root,var(40) <= 3
trigger1 = Time >= 60
trigger1 = Time <= 100
value = -3
kill = 0

[State 901, Hurt]
type = null;TargetLifeAdd
trigger1 = root,var(40) >= 4
trigger1 = Time >= 60
trigger1 = Time <= 100
value = -2
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time = 100
value = -160*root,fvar(3)

[State 16010]  
type = parentvaradd
triggerall = parent,var(56) = 7
triggerall = parent,var(40) <= 1
trigger1 = Time = 100
v = 56
value = 1

[State 16010]  
type = parentvaradd
triggerall = parent,var(56) <= 6
triggerall = parent,var(40) <= 1
trigger1 = Time = 100
v = 56
value = 2

[State 16010]  
type = parentvaradd
triggerall = parent,var(56) != 8
triggerall = parent,var(40) > 1
trigger1 = Time = 100
v = 56
value = 1

[State 200, 7]
type = TargetBind
trigger1 = time = 12
trigger1 = numtarget
pos = 70,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 14
trigger1 = numtarget
pos = 60,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 16
trigger1 = numtarget
pos = 50,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 18
trigger1 = numtarget
pos = 40,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 20
trigger1 = numtarget
pos = 20,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1130
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 3213
;---------------------------------------------------------------------------
; 終了 (スタンド)
[Statedef 3213]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3213
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;相手側 打ちあげられる
[Statedef 3220]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 100, 1]
type = VelSet
trigger1 = time = 0
y = -8

[State 100, 1]
type = Veladd
trigger1 = time >= 5
y = 1

[State 1060, 2]
type = changeanim2
trigger1 = time = 1
value = 3220

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 10
trigger1 = pos y >= 0
value = 5110
ctrl = 0
;---------------------------------------------------------------------------
;相手側2　掴まれる
[Statedef 3221]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 0, PosSet]
type = PosSet
Trigger1 = time = 0
y = 0

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1060, 2]
type = changeanim2
trigger1 = time = 1
value = 3221

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[state 3000]
type = PalFX
trigger1 = 1
time = 1
add=(Time*-3),(Time*-3),(Time*-3)
mul = 128,128,128
invertall = 0
color = 256

[State 820, 4]
type = changeState;キャラのコントロールを相手に返しません
trigger1 = time >= 110
value = 1151
ctrl = 0

[State 820, 4]
type = SelfState
Trigger1 = Time >= 110 && !alive
value = 5110

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返しません。
trigger1 = time >= 110
value = 5110

[State 820, 4]
type = null;ChangeState;キャラのコントロールを相手に返しません。
trigger1 = time >= 110
value = 1160
;---------------------------------------------------------------------------
;直に叩き込む！
[Statedef 3300]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3300
velset = 0,0
poweradd= -2000
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 45

[state 3000]
type = nothitby
trigger1 = helper(1001),numtarget != 0
value = SCA
time = 1

[State 610, 3]
type = playsnd
trigger1 = time = 3
value = s4,0

[state 3000]
type = pause
trigger1 = time = 3
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 18
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = anim = 3300
trigger1 = time = 3
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 1000, 7]
type = Helper
trigger1 = Time = 3
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 3310
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 240, 4]
type = ChangeState
trigger1 = helper(1001),stateno = 3311
value = 3301

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;直に叩き込む！ 成功時本体
[Statedef 3301]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3301
velset = 0,0
poweradd= 0
sprpriority = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
trigger2 = numhelper(1001) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;叩き込む！　スタンド
[Statedef 3310]
type = S
movetype = A
physics = N
anim = 3310
velset = 0,0
sprpriority = 3

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, HA
damage = 30*root,fvar(3),5
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s850
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,4
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
guard.kill = 0
kill = 0
id = 3300
sprpriority = 3
p2facing = 1
P2stateno = 3320

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
trigger1 = movehit
value = 3311

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 226
;---------------------------------------------------------------------------
;叩き込む！　スタンド 腕振り下ろす
[Statedef 3311]
type = S
movetype = A
physics = N
anim = 3311
velset = 0,0
sprpriority = 3

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 50,0
time = 10
ignorehitpause = 1
persistent = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 100, 2]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = time = 50
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 1000, 7]
type = Helper
trigger1 = animelem = 8
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.2
supermovetime = 9999999
pausemovetime = 9999999

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1, 9

[State 1060, 5]
type = envshake
trigger1 = animelem = 8
time = 10
frep = 130
ampl = 7

[State 181, EnvColor]
type = Bgpalfx
trigger1 = animelem = 8
time = 5
add = 32,0,32
invertall = 1
color = 100
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 8
anim = 850
id = 850
postype = p2
pos = 0,-10
sprpriority = 3
bindtime = -1
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 901, Hurt]
type = TargetLifeAdd
triggerall = root,var(40) < 10
trigger1 = animelem = 8
value = -240*root,fvar(3)
kill = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = root,var(40) >= 10
triggerall = root,var(40) < 30
trigger1 = animelem = 8
value = -240*(root,fvar(3)+(root,fvar(3)*0.5))
kill = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = root,var(40) >= 30
trigger1 = animelem = 8
value = -240*(root,fvar(3)+(root,fvar(3)*2))
kill = 1

[State 16010]  
type = parentvaradd
triggerall = parent,var(56) = 7
;triggerall = parent,var(40) <= 1
trigger1 = animelem = 8
v = 56
value = 1

[State 16010]  
type = parentvaradd
triggerall = parent,var(56) <= 6
;triggerall = parent,var(40) <= 1
trigger1 = animelem = 8
v = 56
value = 2

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 3301
time = 1
pos = 30,0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 3313
;---------------------------------------------------------------------------
; 終了 (スタンド)
[Statedef 3313]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3313
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = (time = [8,20]) && !(time%2)
flag = invisible

[State 0, scale]
type = angledraw
trigger1 = time > 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 10
value = 6,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;相手側 打ちあげられる
[Statedef 3320]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 100, 1]
type = VelSet
trigger1 = time = 0
y = -8

[State 100, 1]
type = Veladd
trigger1 = time >= 5
y = .8

[State 1060, 2]
type = changeanim2
trigger1 = time = 1
value = 3220

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 820, 4]
type = changeState;キャラのコントロールを相手に返しません
trigger1 = time >= 20
trigger1 = pos y >= 0
trigger2 = time >= 30
value = 3321
ctrl = 0
;---------------------------------------------------------------------------
;相手側 のけぞる
[Statedef 3321]
anim  = 5000
type    = L
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 75

[State 100, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 3321

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 45
time = 20
add = -55,-255,-55
invertall = 0
color = 0

[state 3000]
type = pause
trigger1 = Time = 45
time = 20
movetime = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 100 && !alive
trigger1 = !alive
value = 5150
ctrl = 0

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time >= 100
value = 5120
ctrl = 0
;---------------------------------------------------------------------------
;直に叩き込む！
[Statedef 3300]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3300
velset = 0,0
poweradd= -2000
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[state 3000]
type = nothitby
trigger1 = helper(1001),numtarget != 0
value = SCA
time = 1

[State 610, 3]
type = playsnd
trigger1 = time = 3
value = s4,0

[state 3000]
type = pause
trigger1 = time = 3
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 18
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = anim = 3300
trigger1 = time = 3
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 1000, 7]
type = Helper
trigger1 = Time = 3
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 3310
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 240, 4]
type = ChangeState
trigger1 = helper(1001),stateno = 3311
value = 3301

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;直に叩き込む！ 成功時本体
[Statedef 3301]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3301
velset = 0,0
poweradd= 0
sprpriority = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
trigger2 = numhelper(1001) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON叩き込む！
[Statedef 13300]
type = S
movetype = A
physics = S
anim = 13300
velset = 0,0
sprpriority = 3
poweradd = -2000
ctrl = 0

[State 610, 3]
type = playsnd
trigger1 = time = 3
value = s4,0

[state 3000]
type = pause
trigger1 = time = 3
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 18
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 3
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 45
value = 0, 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[state 3000]
type = nothitby
trigger1 = numtarget != 0
value = SCA
time = 1

[State 0, hitvel]
type = velset
trigger1 = animelem = 3
x = 6

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, HA
damage = 30*fvar(3),5
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s850
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,4
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
guard.kill = 0
kill = 0
id = 3300
sprpriority = 3
p2facing = 1
P2stateno = 3320

[State 901, Ctrl]
type = ChangeState
trigger1 = time = 60
trigger1 = movehit
value = 13310

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON叩き込む！　スタンド 腕振り下ろす
[Statedef 13310]
type = S
movetype = A
physics = N
anim = 13310
velset = 0,0
sprpriority = 3
ctrl = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 50,0
time = 10
ignorehitpause = 1
persistent = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 1000, 7]
type = Helper
trigger1 = animelem = 8
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.2
supermovetime = 9999999
pausemovetime = 9999999

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1, 9

[State 1060, 5]
type = envshake
trigger1 = animelem = 8
time = 10
frep = 130
ampl = 7

[State 181, EnvColor]
type = Bgpalfx
trigger1 = animelem = 8
time = 5
add = 32,0,32
invertall = 1
color = 100
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 8
anim = 850
id = 850
postype = p2
pos = 0,-10
sprpriority = 3
bindtime = -1
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(40) < 10
trigger1 = animelem = 8
value = -240*fvar(3)
kill = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(40) >= 10
triggerall = var(40) < 30
trigger1 = animelem = 8
value = -240*(fvar(3)+(fvar(3)*0.5))
kill = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = var(40) >= 30
trigger1 = animelem = 8
value = -240*(fvar(3)+(fvar(3)*2))
kill = 1

[State 16010]  
type = varadd
triggerall = var(56) = 7
;triggerall = var(40) <= 1
trigger1 = animelem = 8
v = 56
value = 1

[State 16010]  
type = varadd
triggerall = var(56) <= 6
;triggerall = var(40) <= 1
trigger1 = animelem = 8
v = 56
value = 2

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
以下ON時用記述
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;ON立ち弱
[Statedef 10200]
type = S
movetype = A
physics = S
anim = ifelse((prevstateno=[100,105]),10205,10200)
sprpriority = 3
ctrl = 0

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 0, hit]
type = hitdef
triggerall = anim = 10200
trigger1 = animelem = 4
attr = S, NA
damage = 27*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-36
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200
guard.kill = 0

[State 0, hit]
type = hitdef
triggerall = anim = 10205
trigger1 = animelem = 4
attr = S, NA
damage = 34*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-36
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [70,100] 
trigger1 = moveguarded
trigger1 = random < 700
trigger1 = time = 7
value = 10220

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = moveguarded
trigger1 = random < 500
trigger1 = time = 7
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact
trigger1 = time >= 7
value = 10410

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [60,100] 
trigger1 = movecontact
trigger1 = time >= 7

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [60,100] 
trigger2 = P2BodyDist Y = [-40,0] 
trigger2 = movecontact
trigger2 = time >= 7
value = 10210

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発現立ち弱
[Statedef 10215]
type = S
movetype = A
physics = S
anim = 10200
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 27*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-36
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [70,100] 
trigger1 = moveguarded
trigger1 = random < 700
trigger1 = time = 7
value = 220

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = moveguarded
trigger1 = random < 500
trigger1 = time = 7
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact
trigger1 = time >= 7
value = 10410

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [60,100] 
trigger1 = movecontact
trigger1 = time >= 7

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [60,100] 
trigger2 = P2BodyDist Y = [-40,0] 
trigger2 = movecontact
trigger2 = time >= 7
value = 10210

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON立ち中
[Statedef 10210]
type = S
movetype = A
physics = S
anim = ifelse((prevstateno=[100,105]),10215,10210)
sprpriority = 3
ctrl = 0

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 200, 速度]
type = velset
trigger1 = animelem = 2
x = 4

[State 0, hit]
type = hitdef
triggerall = anim = 10210
trigger1 = animelem = 2
attr = S, NA
damage = 61*fvar(3),4
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,0
guard.velocity = -10
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 14
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230
guard.kill = 0

[State 0, hit]
type = hitdef
triggerall = anim = 10215
trigger1 = animelem = 2
attr = S, NA
damage = 65*fvar(3),4
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -5,0
guard.velocity = -10
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 15
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230
guard.kill = 0

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,40] 
trigger1 = moveguarded
trigger1 = random < 500
trigger1 = time = 7
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [80,90] 
trigger1 = movecontact
trigger1 = time >= 10
trigger1 = random < 500
value = 10220

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact
trigger1 = time >= 10

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [-20,70] 
trigger2 = P2BodyDist Y = [-40,0] 
trigger2 = movecontact
trigger2 = time >= 10
value = 11220

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発現立ち中
[Statedef 10250]
type = S
movetype = A
physics = S
anim = 10210
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 200, 速度]
type = velset
trigger1 = animelem = 2
x = 4

[State 10820, おまけ]
type = Explod
trigger1 = !time
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 61*fvar(3),4
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,0
guard.velocity = -10
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230
guard.kill = 0

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON立ち強
[Statedef 10220]
type = S
movetype = A
physics = S
anim = ifelse((prevstateno=[100,105]),10225,10220)
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 240, 音を鳴らす]
type = Velset
trigger1 = prevstateno != [100,105]
trigger1 = animelem = 3
x = 12

[State 240, 音を鳴らす]
type = Velset
trigger1 = prevstateno = [100,105]
trigger1 = animelem = 3
x = 15

[State 0, hit]
type = hitdef
triggerall = anim = 10220
trigger1 = !time
attr = S, NA
damage = 72*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 14,14
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
guard.slidetime = 12
guard.hittime = 12
ground.velocity = -12,0
guard.velocity = -14
air.type = Low
air.velocity = -12,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
triggerall = anim = 10225
trigger1 = !time
attr = S, NA
damage = 78*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 14,14
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 14
guard.hittime = 14
ground.velocity = -12,0
guard.velocity = -14
air.type = Low
air.velocity = -12,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(4657) = 0
triggerall = power >= 2000
trigger1 = life <= 10000
trigger1 = random < 500
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact
value = 3900

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発現立ち強
[Statedef 10270]
type = S
movetype = A
physics = S
anim = 10220
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 240, 音を鳴らす]
type = Velset
trigger1 = animelem = 3
x = 12

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 75*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,14
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -12,0
guard.velocity = -14
air.type = Low
air.velocity = -12,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(4657) = 0
trigger1 = movecontact
trigger1 = numtarget
trigger1 = power >= 2000
value = 3900

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON後立ち強
[Statedef 10230]
type = S
movetype = A
physics = S
anim = 10230
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 200, 速度]
type = velset
trigger1 = animelem = 5
x = 4

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
attr = S, NA
damage = 75*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -8
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON前立ち強
[Statedef 10240]
type = S
movetype = A
physics = S
anim = 10240
velset = 0,0
sprpriority = 3
ctrl = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1

[State 200, 速度]
type = velset
trigger1 = animelem = 5
x = 5

[State 0, hit]
type = hitdef
trigger1 = animelem = 5
attr = S, NA
damage = 75*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 13
ground.hittime = 13
guard.slidetime = 6
guard.hittime = 6
guard.ctrltime = 6
ground.velocity = -8
guard.velocity = -8
air.type = Low
air.velocity = -8,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 626
id = 626
pos = 85,-50
postype = p1
sprpriority = 3
bindtime = -1
removetime = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 0

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発現攻撃
[Statedef 10300]
type = S
movetype = A
physics = S
anim = 10300
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 4
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 240, 音を鳴らす]
type = Velset
trigger1 = animelem = 3
x = 15

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 75*fvar(3),9
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,14
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -6,-8
guard.velocity = -8
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
guard.kill = 0
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ONしゃがみ弱
[Statedef 10400]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10405,10400)
sprpriority = 2
facep2 = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
triggerall = anim = 10400
trigger1 = !time
attr = C, NA
damage = 22*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -10,-15
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -5
air.type = Low
air.velocity = -4,-1
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 400
guard.kill = 0

[State 0, hit]
type = hitdef
triggerall = anim = 10405
trigger1 = !time
attr = C, NA
damage = 28*fvar(3),3
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -10,-15
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5
guard.velocity = -5
air.type = Low
air.velocity = -4,-1
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 400
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [70,100] 
trigger1 = moveguarded
trigger1 = random < 700
trigger1 = time = 5
value = 10220

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = moveguarded
trigger1 = random < 500
trigger1 = time = 5
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact
trigger1 = time >= 5
value = 10410

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [60,100] 
trigger1 = movecontact
trigger1 = time >= 5

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [60,100] 
trigger2 = P2BodyDist Y = [-40,0] 
trigger2 = movecontact
trigger2 = time >= 5
value = 10210

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1
;---------------------------------------------------------------------------
;ONしゃがみ中
[Statedef 10410]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10415,10410)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 420, ヒット定義]
type = HitDef
triggerall = anim = 10410
trigger1 = !time
attr = C, NA
damage = 38*fvar(3),3
hitflag = MAF
guardflag = L
pausetime = 6,12
animtype  = hard
sparkno = s820
sparkxy = -25,-45
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,0
air.velocity = -1.5,ifelse(var(40)<8,-6+(var(40)*.02),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
guard.velocity = -8
air.guard.velocity = -8
air.fall = 1
fall.recovertime = 30
sprpriority = 3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 420, ヒット定義]
type = HitDef
triggerall = anim = 10415
trigger1 = !time
attr = C, NA
damage = 42*fvar(3),4
hitflag = MAF
guardflag = L
pausetime = 6,12
animtype  = hard
sparkno = s820
sparkxy = -25,-45
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6,0
air.velocity = -1.5,ifelse(var(40)<8,-6+(var(40)*.02),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
guard.velocity = -8
air.guard.velocity = -8
air.fall = 1
fall.recovertime = 30
sprpriority = 3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 1
channel = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
triggerall = NumHelper(1001) = 0
trigger1 = life <= 10000
trigger1 = random < 500
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 8
value = 10270

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,30] 
trigger1 = moveguarded
trigger1 = random < 500
trigger1 = time = 7
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [80,95] 
trigger1 = movecontact
trigger1 = time >= 10
trigger1 = random < 500
value = 10220

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact
trigger1 = time >= 10

trigger2 = EnemyNear,StateType = A
trigger2 = P2BodyDist X = [-20,70] 
trigger2 = P2BodyDist Y = [-40,0] 
trigger2 = movecontact
trigger2 = time >= 10
value = 11220

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;---------------------------------------------------------------------------
;しゃがみ強
[Statedef 10420]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
anim = ifelse((prevstateno=[100,105]),10425,10420)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 440, 3]
type = HitDef
triggerall = anim = 10420
trigger1 = Time = 0
attr = C, NA
damage = 80*fvar(3),8
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 8,8
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 3
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
guard.slidetime = 14
ground.velocity = -2*const(size.xscale),-2
air.velocity = -2*const(size.xscale),-3
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0

[State 440, 3]
type = HitDef
triggerall = anim = 10425
trigger1 = Time = 0
attr = C, NA
damage = 82*fvar(3),8
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 8,8
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 3
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
guard.slidetime = 14
ground.velocity = -2*const(size.xscale),-2
air.velocity = -2*const(size.xscale),-3
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0

[State 240, 音を鳴らす]
type = Velset
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
x = 6

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 2, 2
channel = 0

[State 410, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;発現しゃがみ弱
[Statedef 10415]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2
facep2 = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9997
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 240, ステート変更]
type = null;Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 401

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = C, NA
damage = 22*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -10,-15
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -5
air.type = Low
air.velocity = -4,-1
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 400
guard.kill = 0

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1
;---------------------------------------------------------------------------
;発現しゃがみ中
[Statedef 10450]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
anim = 10410
sprpriority = 2

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9997
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 240, ステート変更]
type = null;Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 411

[State 420, ヒット定義]
type = HitDef  
trigger1 = !time
attr = C, NA
damage = 38*fvar(3),4
hitflag = MAF
guardflag = L
pausetime = 6,12
animtype  = hard
sparkno = s820
sparkxy = -25,-45
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,0
air.velocity = -1.5,ifelse(var(40)<8,-6+(var(40)*.02),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
guard.velocity = -8
air.guard.velocity = -8
air.fall = 1
fall.recovertime = 30
sprpriority = 3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;---------------------------------------------------------------------------
;発現しゃがみ強
[Statedef 10470]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
anim = 10420
sprpriority = 2

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9997
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 80*fvar(3),8
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 0,8
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 3
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 17
guard.slidetime = 17
ground.velocity = -2*const(size.xscale),-2
air.velocity = -2*const(size.xscale),-3
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0

[State 240, 音を鳴らす]
type = Velset
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
x = 6

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 410, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;ON空中弱
[Statedef 10600]
type    = A
movetype= A
physics = A
poweradd= 10*!(var(54)=1)
ctrl = 0
anim = 10600
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = A, NA
damage = 24*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = H
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 8,8
sparkno = s810
sparkxy = -11,-34
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6
guard.velocity = -5
air.type = High
air.velocity = -5,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
;---------------------------------------------------------------------------
;ON空中中
[Statedef 10610]
type    = A
movetype= A
physics = A
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 10610
sprpriority = 2

[State 200, 7]
type = statetypeset
trigger1 = time = 13
movetype = I

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 420, ヒット定義]
type = HitDef  
trigger1 = !time
attr = A, NA
damage = 40*fvar(3)
hitflag = MAF
guardflag = HA
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -10,-25
hitsound = s1,5
guardsound = s1,6
getpower = 30*!(var(54)=1)
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,0
air.velocity = -6,-2
guard.velocity = -3
guard.kill = 0
air.guard.velocity = -3
sprpriority = 2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recovertime = 30
;---------------------------------------------------------------------------
;ON空中強
[Statedef 10620]
type = A
movetype = A
physics = A
anim = 10620
sprpriority = 2
ctrl = 0

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 65*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -30,-24
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
ground.velocity = -8,0
guard.velocity = -18
air.type = Low
air.velocity = -6,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
guard.kill = 0
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 0

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 626
id = 626
pos = 85,-40
postype = p1
sprpriority = 3
bindtime = -1
removetime = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 0
;---------------------------------------------------------------------------
;発現空中弱
[Statedef 10615]
type    = A
movetype= A
physics = A
poweradd= 10*!(var(54)=1)
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = A, NA
damage = 24*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = H
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 8,8
sparkno = s810
sparkxy = -11,-34
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6
guard.velocity = -5
air.type = High
air.velocity = -5,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
;---------------------------------------------------------------------------
;発現空中中
[Statedef 10650]
type    = A
movetype= A
physics = A
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 10610
sprpriority = 2

[State 200, 7]
type = statetypeset
trigger1 = time = 13
movetype = I

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 420, ヒット定義]
type = HitDef  
trigger1 = !time
attr = A, NA
damage = 40*fvar(3)
hitflag = MAF
guardflag = HA
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -10,-25
hitsound = s1,5
guardsound = s1,6
getpower = 30*!(var(54)=1)
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,0
air.velocity = -6,-2
guard.velocity = -3
guard.kill = 0
air.guard.velocity = -3
sprpriority = 2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recovertime = 30
;---------------------------------------------------------------------------
;発現空中強
[Statedef 10670]
type = A
movetype = A
physics = A
anim = 10620
sprpriority = 2
ctrl = 0

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 65*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -30,-24
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -8,0
guard.velocity = -18
air.type = Low
air.velocity = -6,3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 0
air.fall = 1
guard.kill = 0
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 0

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 626
id = 626
pos = 85,-40
postype = p1
sprpriority = 3
bindtime = -1
removetime = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 0
;---------------------------------------------------------------------------
;ON連打弱
[Statedef 11200]
type = S
movetype = A
physics = S
anim = 11200
velset = 0,0
sprpriority = 2
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 8
attr = S, NA
damage = 25*fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 12
attr = S, NA
damage = 35*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON連打中
[Statedef 11210]
type = S
movetype = A
physics = S
anim = 11210
velset = 0,0
sprpriority = 2
ctrl = 0

[State 240, 進めぃ]
type = velset
trigger1 = animelem = 3
x = 4

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 8
attr = S, NA
damage = 31*fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 12
attr = S, NA
damage = 42*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON連打強
[Statedef 11220]
type = S
movetype = A
physics = S
anim = 11220
velset = 0,0
sprpriority = 2
ctrl = 0

[State 240, 進めぃ]
type = velset
trigger1 = animelem = 3
x = 8

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 8
attr = S, NA
damage = 31*fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 12
attr = S, NA
damage = 42*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-4
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON空中連打
[Statedef 11400]
type = A
movetype = A
physics = A
anim = 11400
velset = 0,0
sprpriority = 2
ctrl = 0

[State 0, 2]
type = VelSet
trigger1 = time <= 31
x = 0
y = 0

[State 0, 2]
type = Velset
trigger1 = time = 32
x = 0
y = -2

[State 0, 2]
type = Veladd
trigger1 = time >= 33
x = 0
y = 0.1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
value = 0, 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
trigger2 = animelem = 8
attr = S, NA
damage = 26*fvar(3),6
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
guard.pausetime = 0,5
sparkno = s830
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -6,0
guard.velocity = -8
air.type = Low
air.velocity = -3,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 0
air.fall = 0
yaccel = .36
id = 225
sprpriority = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 12
attr = S, NA
damage = 37*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -4,-3
guard.velocity = -8
air.type = Low
air.velocity = -5,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recovertime = 20
yaccel = .36
id = 225
sprpriority = 3
;---------------------------------------------------------------------------
;対空弱
[Statedef 11300]
type = S
movetype = A
physics = S
anim = 11300
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10820, けむり]
type = Explod
trigger1 = animtime = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 876
sprpriority = 4
ownpal = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 11301
;---------------------------------------------------------------------------
;対空弱2
[Statedef 11301]
type = S
movetype = A
physics = S
anim = 11302
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 1

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 4
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,64,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 0
channel = 0

[State 204, 3]
type = StateTypeSet
trigger1 = time = 1
value = A

[State 1000, velset]
type = velset
trigger1 = time = 1
x = 12
y = -15

[State 1000, velset]
type = velset
trigger1 = time = 2
x = 6
y = -6

[State 1000, velset]
type = velset
trigger1 = time = 5
x = 3
y = -3

[State 1000, vels]
type = VelAdd
trigger1 = animelemtime(2) >= 0
y = 0.45

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 35*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -3,-6
guard.velocity = -8
air.type = Low
air.velocity = -3,-3.5
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = P2BodyDist Y = [-90,0]
trigger1 = pos Y <= -20 
trigger1 = numtarget
trigger1 = time >= 10
value = 11400

[State 1200, ステート変更]
type = ChangeState
trigger1 = animelemtime(2) >= 0
trigger1 = Pos Y >= 0 
value = 52
;---------------------------------------------------------------------------
;対空中
[Statedef 11310]
type = S
movetype = A
physics = S
anim = 11300
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10820, けむり]
type = Explod
trigger1 = animtime = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 876
sprpriority = 4
ownpal = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 11311
;---------------------------------------------------------------------------
;対空中2
[Statedef 11311]
type = S
movetype = A
physics = S
anim = 11302
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 2

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 4
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,64,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 0
channel = 0

[State 204, 3]
type = StateTypeSet
trigger1 = time = 1
value = A

[State 1000, velset]
type = velset
trigger1 = time = 1
x = 15
y = -20

[State 1000, velset]
type = velset
trigger1 = time = 3
x = 7.5
y = -8

[State 1000, velset]
type = velset
trigger1 = time = 6
x = 4
y = -4

[State 1000, vels]
type = VelAdd
trigger1 = animelemtime(3) >= 0
y = 0.45

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 35*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-8
guard.velocity = -8
air.type = Low
air.velocity = -3.5,-4.5
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = P2BodyDist Y = [-90,0]
trigger1 = pos Y <= -20 
trigger1 = numtarget
trigger1 = time >= 10
value = 11400

[State 1200, ステート変更]
type = ChangeState
trigger1 = animelemtime(2) >= 0
trigger1 = Pos Y >= 0 
value = 52
;---------------------------------------------------------------------------
;対空強
[Statedef 11320]
type = S
movetype = A
physics = S
anim = 11300
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10820, けむり]
type = Explod
trigger1 = animtime = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 876
sprpriority = 4
ownpal = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 11321
;---------------------------------------------------------------------------
;対空強2
[Statedef 11321]
type = S
movetype = A
physics = S
anim = 11302
velset = 0,0
sprpriority = 2
ctrl = 0

[State 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 4

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 4
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,64,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 0
channel = 0

[State 204, 3]
type = StateTypeSet
trigger1 = time = 1
value = A

[State 1000, velset]
type = velset
trigger1 = time = 1
x = 18
y = -22

[State 1000, velset]
type = velset
trigger1 = time = 3
x = 9
y = -11

[State 1000, velset]
type = velset
trigger1 = time = 6
x = 4.5
y = -5.5

[State 1000, vels]
type = VelAdd
trigger1 = animelemtime(4) >= 0
y = 0.45

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 35*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -7,-9.5
guard.velocity = -8
air.type = Low
air.velocity = -4,-6
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = P2BodyDist Y = [-90,0]
trigger1 = pos Y <= -20 
trigger1 = numtarget
trigger1 = time >= 10
value = 11400

[State 1200, ステート変更]
type = ChangeState
trigger1 = animelemtime(2) >= 0
trigger1 = Pos Y >= 0 
value = 52
;---------------------------------------------------------------------------
;ON老化けむり
[Statedef 13000]
type = S
movetype = A
physics = N
anim = 13000
velset = 0,0
sprpriority = 3
poweradd = -1000
ctrl = 0

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s4,0

[state 3000]
type = pause
trigger1 = time = 5
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 5
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 7
channel = 0

[State 610, 3]
type = playsnd
trigger1 = time = 45
value = s6,9

[State 1000, 7]
type = Helper
trigger1 = Time = 41
helpertype = normal
name = "Smork"
stateno = 300020
id = 300020
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.5
size.yscale = 1.5

[State 1000, 7]
type = Helper
trigger1 = Time = 41
helpertype = normal
name = "Smork"
stateno = 300020
id = 300020
pos = -30, 0
postype = p1
ownpal = 1
facing = -1
size.xscale = 1.5
size.yscale = 1.5

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, HA
damage = 60,5
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = -1
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -12,-6
guard.velocity = -18
air.type = Low
air.velocity = -12,-8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0
id = 3000
sprpriority = 3

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 45
trigger2 = time = 43
trigger3 = time = 43
trigger4 = time = 44
time = 5
add = 32,0,32
invertall = 0
color = 200
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 45
trigger2 = time = 50
trigger3 = time = 55
trigger4 = time = 60
time = 5
add = 32,0,32
invertall = 0
color = 100
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 65 
trigger2 = time = 70 
trigger3 = time = 75
trigger4 = time = 80
time = 5
add = 32,0,32
invertall = 0
color = 50
ignorehitpause = 1

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 85 
trigger2 = time = 90
trigger3 = time = 95
trigger4 = time = 100
time = 5
add = 32,0,32
invertall = 0
color = 25
ignorehitpause = 1

[State 16010]
type = varadd
triggerall = roundstate = 2
triggerall = var(56) != 8
trigger1 = time = 70
trigger2 = time = 105
v = 56
value = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON素早いんだぜ！
[Statedef 13200]
type = S
movetype = A
physics = S
anim = 13200
velset = 0,0
sprpriority = 3
poweradd = -1000
ctrl = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s4,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 13
channel = 0

[state 3000]
type = pause
trigger1 = time = 5
time = 40
movetime = 40

[state 3000]
type = nothitby
trigger1 = time = 0
trigger2 = numtarget
value = SCA
time = 50

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 5
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 0, hitvel]
type = velset
trigger1 = animelem = 3
x = 6

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, HA
damage = 30*fvar(3),5
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = s850
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,4
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .36
guard.kill = 0
id = 3200
sprpriority = 3
p2facing = 1
P2stateno = 3220

[State 901, Ctrl]
type = ChangeState
trigger1 = animelem = 8
trigger1 = movehit
value = 13201

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;素早いんだぜ！　スタンド つかむ
[Statedef 13201]
type = S
movetype = A
physics = N
anim = 3211
velset = 0,0
sprpriority = 3

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
attr = S, HA
damage = 0*fvar(3),0
priority = 4,Hit
hitflag = MAF
guardflag = M
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 0,10
sparkno = -1
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,7
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -8,-3
guard.velocity = -18
air.type = Low
air.velocity = -8,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
id = 3211
sprpriority = 3
P1stateno = 13202
p2facing = 1
P2stateno = 3221

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;素早いんだぜ！　スタンド 老化
[Statedef 13202]
type = S
movetype = A
physics = N
anim = 3212
velset = 0,0
sprpriority = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 20
value = 3, 9
channel = 0

[state 0, helper 背景]
type = helper
trigger1 = Time = 20
helpertype = normal
name = "haikei"
stateno = 9300
id = 9300
postype = back

[State -2, scale]
type = null;AngleDraw
trigger1 = 1
scale = 1.5,1.5

[State -2, BG]
type = Helper
trigger1 = animelem = 5
ID = 8750
stateno = 8750
postype = left
pos = -999,-999
pausemovetime = 99999999
ignorehitpause = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 23
value = 8, 0
channel = 8

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 23
value = 6, 9

[State 1000, 7]
type = Helper
trigger1 = Time = 27
trigger2 = Time = 54
trigger3 = Time = 81
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 1000, 7]
type = Helper
trigger1 = Time = 23
helpertype = normal
name = "Smork2"
stateno = 300030
id = 300000
pos = 80, -100
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 80,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 901, Hurt]
type = null;TargetLifeAdd
trigger1 = var(40) <= 3
trigger1 = Time >= 60
trigger1 = Time <= 100
value = -3
kill = 0

[State 901, Hurt]
type = null;TargetLifeAdd
trigger1 = var(40) >= 4
trigger1 = Time >= 60
trigger1 = Time <= 100
value = -2
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = Time = 100
value = -160*fvar(3)

[State 16010]  
type = varadd
triggerall = var(56) = 7
triggerall = var(40) <= 2
trigger1 = Time = 100
v = 56
value = 1

[State 16010]  
type = varadd
triggerall = var(56) <= 6
triggerall = var(40) <= 2
trigger1 = Time = 100
v = 56
value = 2

[State 16010]  
type = varadd
triggerall = var(56) != 8
triggerall = var(40) > 2
trigger1 = Time = 100
v = 56
value = 1

[State 200, 7]
type = TargetBind
trigger1 = time = 12
trigger1 = numtarget
pos = 70,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 14
trigger1 = numtarget
pos = 60,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 16
trigger1 = numtarget
pos = 50,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 18
trigger1 = numtarget
pos = 40,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 7]
type = TargetBind
trigger1 = time = 20
trigger1 = numtarget
pos = 20,-110
time = 10
ignorehitpause = 1
persistent = 0

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
;アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14000]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14005]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,1
channel = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,8

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;--------------------------------------------------------------------------
;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(5) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(5) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(5)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(5) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(5)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(5) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(5) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
triggerall = NumHelper(20026) = 0
trigger1 = parent,stateno = [10820,10822];スタンド発現ｽﾃｰﾄ
trigger2 = parent,stateno = [16001,16002];スタンド発現ｽﾃｰﾄ
trigger3 = parent,stateno = 10215 || parent,stateno = 10250 || parent,stateno = 10270
trigger4 = parent,stateno = 10415 || parent,stateno = 10450 || parent,stateno = 10470
trigger5 = parent,stateno = 10615 || parent,stateno = 10650 || parent,stateno = 10670
trigger6 = parent,stateno = 10300
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999

;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5001]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 12     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0       
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 6, 0     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 35
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 35
value = 5071;足払いでこけるｽﾃｰﾄへ
ctrl = 1;これはいらないかも。

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = time >= 50
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = time >= 50
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16011]
type = PlaySnd
trigger1 = time = 0
value = 6, 12     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 6, 0     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 35;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 35
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;===========================================================================
;回り込み
[Statedef 300]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
sprpriority = -1

[State 3900 e];禁止
type = Helper
trigger1 = animtime = 0
helpertype = normal
stateno = 310
id = 310
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, hitby]
type = hitby
trigger1 = time <= 31
value = SCA,AT

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,3
channel = 0

[State 0, vel]
type = velset
trigger1 = !time
x = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[state 0, helper]
type = helper
trigger1 = animelemtime(2) = 4
helpertype = normal
name = "Image"
stateno = 305
id = 305
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(7) <= 0
x = .41

[State 0, vel]
type = velmul
trigger1 = animelemtime(8) > 0
x = .42

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 305]
type = S
movetype = I
physics = N
anim = 301
ctrl = 0
sprpriority = -3

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, assert]
type = assertspecial
trigger1 = !(time%2)
flag = Invisible

[State 0, vel]
type = velset
trigger1 = !time
x = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(6) <= 0
x = .41

[State 0, vel]
type = velmul
trigger1 = animelemtime(7) > 0
x = .42

[State 0, end]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,movetype = H
;---------------------------------------------------------------------------
[Statedef 310];回り込み禁止時間
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 15
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 2
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-70
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 6,13
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 721
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;-------------------------------------------------------------------
;『WIN』ヘルパー
[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 7, 2

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2;バトル中
;---------------------------
;『to be continued』ヘルパー
[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)
;---------------------------------------------------------------------------
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 0,0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 0,30

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 15,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------------------------
;老化ゲージ
[Statedef 8000]
type = S
sprpriority = -2
anim = 29999

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 0
trigger1 = !NumExplod(8000)
trigger1 = 1
anim = ifelse(facing=1,8000,8020)
id = 8000
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 1
trigger1 = !NumExplod(8001)
trigger1 = 1
anim = ifelse(facing=1,8001,8021)
id = 8001
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 2
trigger1 = !NumExplod(8002)
trigger1 = 1
anim = ifelse(facing=1,8002,8022)
id = 8002
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 3
trigger1 = !NumExplod(8003)
trigger1 = 1
anim = ifelse(facing=1,8003,8023)
id = 8003
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 4
trigger1 = !NumExplod(8004)
trigger1 = 1
anim = ifelse(facing=1,8004,8024)
id = 8004
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 5
trigger1 = !NumExplod(8005)
trigger1 = 1
anim = ifelse(facing=1,8005,8025)
id = 8005
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 6
trigger1 = !NumExplod(8006)
trigger1 = 1
anim = ifelse(facing=1,8006,8026)
id = 8006
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5


[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 7
trigger1 = !NumExplod(8007)
trigger1 = 1
anim = ifelse(facing=1,8007,8027)
id = 8007
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,var(56) = 8
trigger1 = !NumExplod(8008)
trigger1 = 1
anim = ifelse(facing=1,8008,8028)
id = 8008
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0];以下2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 0
trigger1 = !NumExplod(8000)
trigger1 = 1
anim = ifelse(facing=1,8020,8000)
id = 8000
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 1
trigger1 = !NumExplod(8001)
trigger1 = 1
anim = ifelse(facing=1,8021,8001)
id = 8001
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 2
trigger1 = !NumExplod(8002)
trigger1 = 1
anim = ifelse(facing=1,8022,8002)
id = 8002
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 3
trigger1 = !NumExplod(8003)
trigger1 = 1
anim = ifelse(facing=1,8023,8003)
id = 8003
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 4
trigger1 = !NumExplod(8004)
trigger1 = 1
anim = ifelse(facing=1,8024,8004)
id = 8004
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 5
trigger1 = !NumExplod(8005)
trigger1 = 1
anim = ifelse(facing=1,8025,8005)
id = 8005
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 6
trigger1 = !NumExplod(8006)
trigger1 = 1
anim = ifelse(facing=1,8026,8006)
id = 8006
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5


[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 7
trigger1 = !NumExplod(8007)
trigger1 = 1
anim = ifelse(facing=1,8027,8007)
id = 8007
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 8000, 0]
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,var(56) = 8
trigger1 = !NumExplod(8008)
trigger1 = 1
anim = ifelse(facing=1,8028,8008)
id = 8008
pos = 50,219;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = .5, .5

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 20026, 0]
type = DestroySelf
trigger1 = roundstate != 2
;---------------------------------------------------------------------------
;グレイト…フル…デッド…
[Statedef 16050]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 16050
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
value = 3, 15
channel = 0

[State 230, 2]
type = assertspecial
trigger1 = time >= 25 && !(time%2)
flag = invisible

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 7
anim = 16051
id = 16051
postype = p1
pos = 0,-40
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1000, 7]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Smork"
stateno = 300000
id = 300000
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.0

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,stateno != 5150
;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 1
anim = 10001
velset = 0,0

;腕消し
[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 22
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 23
ignorehitpause = 1

[State 810,]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.95, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,12
channel = 0

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 10820, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 16001]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 810,]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-0
anim = 9997
scale = 0.95, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0]
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,12
channel = 0

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 10820, 3]
type = ChangeState
trigger1 = Time = 60
value = 11
ctrl = 1
;-----------------------------------
;スタンド発現（空中）
[Statedef 16002]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10043;10122
poweradd = 0
;velset = 0,0

[State 810,]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
scale = 0.95, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,12
channel = 0

[State 10820,]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;---------------------------------------------------------------------------
;スタンド解除不可時間
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(44) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(44) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 41      
;---------------------------------------------------------------------------
;スタンド解除不可時間
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(43) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201    
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 830]
type = S
physics = S
ctrl = 0
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

;腕消し
[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 22
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 23
ignorehitpause = 1

[State 8500, 1]
type = varset
trigger1 = !time
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = !time
x = -10

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = prevstateno = 10930
trigger1 = numtarget
trigger1 = !time
value = 200

[State 8500, 1]
type = ctrlset
trigger1 = !time
value = 1

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1

;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself
trigger1 = parent,var(49) = 0
trigger2 = parent,movetype = H && parent,stateno != [5000,5210]
trigger2 = parent,movetype = H && parent,anim != [10000,15210]

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,anim = [10041,10046]
trigger11 = parent,anim = 10100
trigger12 = parent,anim = 10101
trigger13 = parent,anim = 10105
trigger15 = parent,anim = [15020,15027]
trigger16 = parent,anim = 15030
trigger17 = parent,anim = 15040
trigger18 = parent,anim = 15050
trigger19 = parent,anim = 15051
trigger20 = parent,anim = 15061
trigger21 = parent,anim = [15070,15071]
trigger22 = parent,anim = 10101
trigger23 = parent,anim = 10047
trigger24 = parent,anim = 10048
trigger25 = parent,anim = 15005
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 47
trigger1 = parent,stateno = 52
value = 47

[State 10000]
type = ChangeAnim
triggerall = anim != 210
trigger1 = parent,anim = 195
value = 210

[State 10000]
type = ChangeAnim
triggerall = anim != 9992
trigger1 = parent,anim = 10122
trigger2 = parent,anim = 10132
trigger3 = parent,anim = 10142
trigger4 = parent,anim = 10152
value = 9992

[State 10000]
type = ChangeAnim
triggerall = anim != 9993
trigger1 = parent,anim = 10121
trigger2 = parent,anim = 10131
trigger3 = parent,anim = 10141
trigger4 = parent,anim = 10151
value = 9993

[State 10000]
type = ChangeAnim
triggerall = anim != 9994
trigger1 = parent,anim = 10120
trigger2 = parent,anim = 10130
trigger3 = parent,anim = 10140
trigger4 = parent,anim = 10150
value = 9994

[State 10000]
type = ChangeAnim
triggerall = anim != 9995
trigger1 = parent,anim = 10820
value = 9995

[State 10000]
type = ChangeAnim
triggerall = anim != 10182
trigger1 = parent,anim = 10181
value = 10182

[State 10000]
type = ChangeAnim
triggerall = anim != 10184
trigger1 = parent,anim = 10183
value = 10184

[State 10000]
type = ChangeAnim
triggerall = anim != 10196
trigger1 = parent,anim = 10195
value = 10196

[State 10000]
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10200
value = 10201

[State 10000]
type = ChangeAnim
triggerall = anim != 10206
trigger1 = parent,anim = 10205
value = 10206

[State 10000]
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10210
value = 10211

[State 10000]
type = ChangeAnim
triggerall = anim != 10216
trigger1 = parent,anim = 10215
value = 10216

[State 10000]
type = ChangeAnim
triggerall = anim != 10221
trigger1 = parent,anim = 10220
value = 10221

[State 10000]
type = ChangeAnim
triggerall = anim != 10226
trigger1 = parent,anim = 10225
value = 10226

[State 10000]
type = ChangeAnim
triggerall = anim != 10231
trigger1 = parent,anim = 10230
value = 10231

[State 10000]
type = ChangeAnim
triggerall = anim != 10241
trigger1 = parent,anim = 10240
value = 10241

[State 10000]
type = ChangeAnim
triggerall = anim != 10301
trigger1 = parent,anim = 10300
value = 10301

[State 10000]
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,anim = 10400
value = 10401

[State 10000]
type = ChangeAnim
triggerall = anim != 10406
trigger1 = parent,anim = 10405
value = 10406

[State 10000]
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,anim = 10410
value = 10411

[State 10000]
type = ChangeAnim
triggerall = anim != 10416
trigger1 = parent,anim = 10415
value = 10416

[State 10000]
type = ChangeAnim
triggerall = anim != 10421
trigger1 = parent,anim = 10420
value = 10421

[State 10000]
type = ChangeAnim
triggerall = anim != 10426
trigger1 = parent,anim = 10425
value = 10426

[State 10000]
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10600
value = 10601

[State 10000]
type = ChangeAnim
triggerall = anim != 10611
trigger1 = parent,anim = 10610
value = 10611

[State 10000]
type = ChangeAnim
triggerall = anim != 10621
trigger1 = parent,anim = 10620
value = 10621

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000]
type = ChangeAnim
triggerall = anim != 10931
trigger1 = parent,anim = 10930
value = 10931

[State 10000]
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11000
trigger2 = parent,anim = 11010
trigger3 = parent,anim = 11020
value = 11001

[State 10000]
type = ChangeAnim
triggerall = anim != 11101
trigger1 = parent,anim = 11100
value = 11101

[State 10000]
type = ChangeAnim
triggerall = anim != 11103
trigger1 = parent,anim = 11102
value = 11103

[State 10000]
type = ChangeAnim
triggerall = anim != 11201
trigger1 = parent,anim = 11200
trigger2 = parent,anim = 11210
trigger3 = parent,anim = 11220
value = 11201

[State 10000]
type = ChangeAnim
triggerall = anim != 11301
trigger1 = parent,anim = 11300
trigger2 = parent,anim = 11310
trigger3 = parent,anim = 11320
value = 11301

[State 10000]
type = ChangeAnim
triggerall = anim != 11303
trigger1 = parent,anim = 11302
trigger2 = parent,anim = 11312
trigger3 = parent,anim = 11322
value = 11303

[State 10000]
type = ChangeAnim
triggerall = anim != 11401
trigger1 = parent,anim = 11400
value = 11401

[State 10000]
type = ChangeAnim
triggerall = anim != 11801
trigger1 = parent,anim = 11800
value = 11801

[State 10000]
type = ChangeAnim
triggerall = anim != 13001
trigger1 = parent,anim = 13000
value = 13001

[State 10000]
type = ChangeAnim
triggerall = anim != 13201
trigger1 = parent,anim = 13200
value = 13201

[State 10000]
type = ChangeAnim
triggerall = anim != 13211
trigger1 = parent,anim = 3211
value = 13211

[State 10000]
type = ChangeAnim
triggerall = anim != 13221
trigger1 = parent,anim = 3212
value = 13221

[State 10000]
type = ChangeAnim
triggerall = anim != 13301
trigger1 = parent,anim = 13300
value = 13301

[State 10000]
type = ChangeAnim
triggerall = anim != 13311
trigger1 = parent,anim = 13310
value = 13311

[State 10000]
type = ChangeAnim
triggerall = anim != 5070
trigger1 = parent,anim = 15070
value = 5070

[State 10000]
type = ChangeAnim
triggerall = anim != 6000
trigger1 = parent,anim = 15000
value = 6000

[State 10000]
type = ChangeAnim
triggerall = anim != 6001
trigger1 = parent,anim = 15001
value = 6001

[State 10000]
type = ChangeAnim
triggerall = anim != 6002
trigger1 = parent,anim = 15002
value = 6002

[State 10000]
type = ChangeAnim
triggerall = anim != 6010
trigger1 = parent,anim = 15010
value = 6010

[State 10000]
type = ChangeAnim
triggerall = anim != 6011
trigger1 = parent,anim = 15011
value = 6011

[State 10000]
type = ChangeAnim
triggerall = anim != 6012
trigger1 = parent,anim = 15012
value = 6012

[State 10000]
type = ChangeAnim
triggerall = anim != 6020
trigger1 = parent,anim = 15020
value = 6020

[State 10000]
type = ChangeAnim
triggerall = anim != 6021
trigger1 = parent,anim = 15021
value = 6021

[State 10000]
type = ChangeAnim
triggerall = anim != 6022
trigger1 = parent,anim = 15022
value = 6022

[State 10000]
type = ChangeAnim
triggerall = anim != 5030
trigger1 = parent,anim = 15030
value = 5030

[State 10000]
type = ChangeAnim
triggerall = anim != 5035
trigger1 = parent,anim = 15035
value = 5035

[State 10000]
type = ChangeAnim
triggerall = anim != 5040
trigger1 = parent,anim = 15040
value = 5040

[State 10000]
type = ChangeAnim
triggerall = anim != 10002
trigger1 = parent,anim = 10001
value = 10002

[State 10000,]
type = SprPriority
trigger1 = anim != 11001
value = 0

[State 10000,]
type = SprPriority
trigger1 = anim = 11001
value = 3
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
[Statedef -2]

;コンボ補正
[State -2, 補正リセット]
type=varset
trigger1=!var(54)
trigger1=!numtarget
var(40)=0

[State -2, ヒット数加算]
type=varadd
triggerall=numtarget
triggerall=enemynear,movetype=h
triggerall=enemynear,gethitvar(hitcount)>var(40)
;triggerall=stateno != 13150 && stateno != 13000
trigger1=movehit
trigger2=projhittime(0)=0
;ヘルパー用
trigger3=numhelper(1001)
trigger3=helper(1001),movehit=1+(movetype!=a)
var(40)=1


;補正値
[State -2, 補正レベル1]
type=varset
trigger1= var(40) = 0
fvar(1) = 1

[State -2, 補正レベル2]
type=varset
trigger1= var(40) >= 1
fvar(1) = 0.95

[State -2, 補正レベル3]
type=varset
trigger1= var(40) >= 3
fvar(1) = 0.8

[State -2, 補正レベル4]
type=varset
trigger1= var(40) >= 5
fvar(1) = 0.7

[State -2, 補正レベル5]
type=varset
trigger1= var(40) >= 7
fvar(1) = 0.6

[State -2, 補正レベル6]
type=varset
trigger1= var(40) >= 10
fvar(1) = 0.5

[State -2, 補正レベル7]
type=varset
trigger1= var(40) >= 20
fvar(1) = 0.3

[State -2, 補正レベル8]
type=varset
trigger1= var(40) >= 30
fvar(1) = 0.1

[State -2, 老化補正]
type=varset
trigger1= var(56) = 0
fvar(2) = 1.0

[State -2, 老化補正]
type=varset
trigger1= var(56) = 1
fvar(2) = 1.1

[State -2, 老化補正]
type=varset
trigger1= var(56) = 2
fvar(2) = 1.2

[State -2, 老化補正]
type=varset
trigger1= var(56) = 3
fvar(2) = 1.3

[State -2, 老化補正]
type=varset
trigger1= var(56) = 4
fvar(2) = 1.4

[State -2, 老化補正]
type=varset
trigger1= var(56) = 5
fvar(2) = 1.5

[State -2, 老化補正]
type=varset
trigger1= var(56) = 6
fvar(2) = 1.6

[State -2, 老化補正]
type=varset
trigger1= var(56) = 7
fvar(2) = 1.7

[State -2, 老化補正]
type=varset
trigger1= var(56) = 8
fvar(2) = 1.8

[State -2, 最終補正]
type=varset
trigger1= 1
fvar(3) = fvar(1)*fvar(2)

[State -2, 補正適用]
type=attackmulset
trigger1=1
value=1.00*fvar(3)
;---------------------------------------------------------------------------
;古い老化ゲージを撤去する
[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 0
ID = 8000

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 1
ID = 8001

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 2
ID = 8002

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 3
ID = 8003

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 4
ID = 8004

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 5
ID = 8005

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 6
ID = 8006

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 7
ID = 8007

[State 20026, 0]
type = RemoveExplod
trigger1 = var(56) != 8
ID = 8008
;---------------------------------------------------------------------------
;腕消し
[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 22
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = stateno != 20
trigger1 = stateno != 10020
id = 23
ignorehitpause = 1
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞを表示する
[State -2]
type = helper
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
[State -2];グレフルを兄貴に戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000
trigger1 = alive = 0
trigger1 = animTime = 0

trigger2 = var(49) = 10000 && movetype = H
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14000,14005]
trigger2 = movetype = H && anim != [15000,15210]
;---------------------------------------------------------------------------
;スタンドが相手にめりこまないようにする
[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = Var(49) = 10000
trigger1 = 1
value = 15,0
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = var(2) = 1
trigger1 = time >= 40
var(2) = 0
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;---------------------------------------------------------------------------
[State -2];本体ダミー
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 0
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000
flag = noshadow
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];老化けむり判定リセット
type = varset
triggerall = NumHelper(1001) = 0 
trigger1 = stateno = 0 || stateno = 11 || movetype = H
trigger2 = !numtarget
var(29) = 0
;---------------------------------------------------------------------------
[State -2,];ガード不可。
type = AssertSpecial
trigger1 = NumHelper(1001) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
;---------------------------------------------------------------------------
[State -2,];保険
type = ctrlset
trigger1 = !alive
value = 0
;---------------------------------------------------------------------------
;Explod消去
[State -2]
type = RemoveExplod
trigger1 = stateno != 626
trigger2 = movetype = H
id = 626
;---------------------------------------------------------------------------
[State -2, 音を止める]
type = StopSnd
trigger1 = stateno != 195
channel = 196

[State -2, 音を止める]
type = StopSnd
trigger1 = stateno != 100
trigger1 = stateno != 10100
channel = 2

[State 1000]
type = varset
trigger1 = movetype = H
trigger1 = anim != [120,159]
!trigger1 = stateno != [4100,4105]
trigger2 = stateno = 7050
var(9) = 0

[State 1000, 音を鳴らす]
type = nothitby
trigger1 = var(9)
value = , NP, SP, HP
;---------------------------------------------------------------------------
;to be continued
[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180            ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2 ; || は、もしくは
trigger1 = matchover                ;ﾗｳﾝﾄﾞ取って、試合が終わったとき。
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999
;---------------------------------------------------------------------------
;WIN
[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180    ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2  ; || は、もしくは
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9
;---------------------------------------------------------------------------
[State -2]
type = AssertSpecial
trigger1 = winko   ;勝ったとき
flag = nobardisplay;ゲージ類を非表示にします。
ignorehitpause = 1
;---------------------------------------------------------------------------
;辻褄合わせたい

[State -2]
type = AngleDraw
trigger1 = stateno = 100
trigger1 = time >= 3
trigger1 = time <= 15
scale = 1.0,1.0
ignorehitpause = 1

[State -2]
type = AngleDraw
trigger1 = stateno = 1000
scale = 0.97,0.97
ignorehitpause = 1
;-----------------------------------
;老化ゲージ 表示
[State -2]
type = helper
triggerall = roundstate = 2 
trigger1 = !Numhelper(8000)
trigger1 = 1
stateno = 8000
id = 8000
pos = 50,15;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
[State -2, 0]
type = helper
triggerall = NumHelper(16050) = 0 
trigger1 = stateno = 5150
trigger1 = matchover
trigger1 = loseko
id = 16050
stateno = 16050
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 3
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
;-----------------------------------
[State 1000, 7]
type = Helper
triggerall = NumHelper(185) = 0
trigger1 = stateno = 5150
trigger1 = life = 0
helpertype = normal
name = "mammone"
stateno = 185
id = 185
pos = 0, 0
postype = left
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0
;-----------------------------------
[State -2, デバック(変数確認)]
Type = DisplayToClipBoard
Trigger1 = 1
Text = "var(49)=%d,var(56)=%d,fvar(1)=%f,fvar(2)=%f,fvar(3)=%f"
Params = var(49),var(56),fvar(1),fvar(2),fvar(3)
IgnoreHitPause = 1

[State -2, クリップボード（追加専用）]
type = AppendToClipboard
trigger1 = 1
text = "Position X=%d,Y=%d, Velocity X=%f,Y=%f, Hit=%d \n"
params = floor(Pos X),floor(Pos Y),(Vel X),(Vel Y),(MoveHit)

;===========================================================================
; 準常時監視ステート（－３）
;===========================================================================
;---------------------------------------------------------------------------
; こちらは通常の食らい状態以外の「P2StateNo」や「TargetState」等で制御された、
; 作成者が任意に指定した相手側の食らいステートに限り、
; 登録したステートコントローラが有効にはなりません。
; －１や－２と上手く使い分けて行きましょう。
;---------------------------------------------------------------------------
[Statedef -3]

;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(5) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 5
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(5) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 5
value = -(gethitvar(damage)/4)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(5) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 5
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(5) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(5) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(5) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 5
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(5) > 80
fv = 5
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(5) < 0
fv = 5
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(5) >= 10
var(7) = 0
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = A
value = 15020
ctrl = 0
;-----------------------------------
;ここは「ジャンプ」か「バックステップ」をした後に
;着地する音を鳴らす設定をしています。

[State -3, 音を鳴らす]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52  ;着地ステート
trigger2 = stateno = 106 ;バックステップ後の着地ステート
value = 40, 0
;-----------------------------------
; 飛び道具検知用ヘルパー
[State -3,]
type=helper
trigger1=!NumHelper(40005)
trigger1=roundstate=2
trigger1=alive
helpertype=normal
name="AI"
stateno=40005
ID=40005
pos=9999,9999
keyctrl=0
pausemovetime=0
supermovetime=0
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(40005)
trigger1= stateno!=40005
value=40005
;-----------------------------------
[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(50000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[190,194])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(50000)
trigger1= stateno!=50000
value=50000
;-------------------------------------------------------------------------
;-AIフラグ-
[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58) 
triggerall = RoundState = [1,2]
trigger1 = Command = "AI_60"
trigger2 = Command = "AI_01"
trigger3 = Command = "AI_02"
trigger4 = Command = "AI_03"
trigger5 = Command = "AI_04"
trigger6 = Command = "AI_05"
trigger7 = Command = "AI_06"
trigger8 = Command = "AI_07"
trigger9 = Command = "AI_08"
trigger10 = Command = "AI_09"
trigger11 = Command = "AI_10"
trigger12 = Command = "AI_11"
trigger13 = Command = "AI_12"
trigger14 = Command = "AI_13"
trigger15 = Command = "AI_14"
trigger16 = Command = "AI_15"
trigger17 = Command = "AI_16"
trigger18 = Command = "AI_17"
trigger19 = Command = "AI_18"
trigger20 = Command = "AI_19"
trigger21 = Command = "AI_20"
trigger22 = Command = "AI_21"
trigger23 = Command = "AI_22"
trigger24 = Command = "AI_23"
trigger25 = Command = "AI_24"
trigger26 = Command = "AI_25"
trigger27 = Command = "AI_26"
trigger28 = Command = "AI_27"
trigger29 = Command = "AI_28"
trigger30 = Command = "AI_29"
trigger31 = Command = "AI_30"
trigger32 = Command = "AI_31"
trigger33 = Command = "AI_32"
trigger34 = Command = "AI_33"
trigger35 = Command = "AI_34"
trigger36 = Command = "AI_35"
trigger37 = Command = "AI_36"
trigger38 = Command = "AI_37"
trigger39 = Command = "AI_38"
trigger40 = Command = "AI_39"
trigger41 = Command = "AI_40"
trigger42 = Command = "AI_41"
trigger43 = Command = "AI_42"
trigger44 = Command = "AI_43"
trigger45 = Command = "AI_44"
trigger46 = Command = "AI_45"
trigger47 = Command = "AI_46"
trigger48 = Command = "AI_47"
trigger49 = Command = "AI_48"
trigger50 = Command = "AI_49"
trigger51 = Command = "AI_50"
trigger52 = Command = "AI_51"
trigger53 = Command = "AI_52"
trigger54 = Command = "AI_53"
trigger55 = Command = "AI_54"
trigger56 = Command = "AI_55"
trigger57 = Command = "AI_56"
trigger58 = Command = "AI_57"
trigger59 = Command = "AI_58"
trigger60 = Command = "AI_59"
Trigger61 = Helper(20000),var(59)
;trigger62 = RoundState = 2  ;常時AI起動トリガー　
var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58	
Value =11 ;1～11の値で変更
;---------------------------------------------------------------------------
[Statedef 40005];飛び道具検出用ヘルパー
type = A
ctrl = 0
anim = 29999
movetype = I
physics = N
sprpriority = 1

;保険等---------------------
[State 40005]
type = SelfState
trigger1 = !IsHelper
Value = 0
[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible
[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------

[State 40005];スイッチリセット
type = parentvarset
trigger1 = 1
var(47)=0

[State 40005, 検出P];相手projが存在するときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = Enemy(0),numproj > 0
trigger2 = Enemy(numenemy=2),numproj > 0
var(47)=1

[State 40005, 検出H];相手ヘルパーが攻撃判定を持つときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = playerIDexist(ID-1)=1 ;このヘルパーの１つ前のプレイヤーIDが存在するとき。
trigger1 = (playerID(ID-1),hitdefattr = SCA,AA,AT,AP || playerID(ID-1),movetype = A) && playerID(ID-1),teamside != root,teamside && playerID(ID-1),ishelper
trigger2 = playerIDexist(ID-2)=1 ;このヘルパーの２つ前のプレイヤーIDが存在するとき。以下同様
trigger2 = (playerID(ID-2),hitdefattr = SCA,AA,AT,AP || playerID(ID-2),movetype = A) && playerID(ID-2),teamside != root,teamside && playerID(ID-2),ishelper
trigger3 = playerIDexist(ID-3)=1
trigger3 = (playerID(ID-3),hitdefattr = SCA,AA,AT,AP || playerID(ID-3),movetype = A) && playerID(ID-3),teamside != root,teamside && playerID(ID-3),ishelper
trigger4 = playerIDexist(ID-4)=1
trigger4 = (playerID(ID-4),hitdefattr = SCA,AA,AT,AP || playerID(ID-4),movetype = A) && playerID(ID-4),teamside != root,teamside && playerID(ID-4),ishelper
trigger5 = playerIDexist(ID-5)=1
trigger5 = (playerID(ID-5),hitdefattr = SCA,AA,AT,AP || playerID(ID-5),movetype = A) && playerID(ID-5),teamside != root,teamside && playerID(ID-5),ishelper
trigger6 = playerIDexist(ID-6)=1
trigger6 = (playerID(ID-6),hitdefattr = SCA,AA,AT,AP || playerID(ID-6),movetype = A) && playerID(ID-6),teamside != root,teamside && playerID(ID-6),ishelper
trigger7 = playerIDexist(ID-7)=1
trigger7 = (playerID(ID-7),hitdefattr = SCA,AA,AT,AP || playerID(ID-7),movetype = A) && playerID(ID-7),teamside != root,teamside && playerID(ID-7),ishelper
trigger8 = playerIDexist(ID-8)=1
trigger8 = (playerID(ID-8),hitdefattr = SCA,AA,AT,AP || playerID(ID-8),movetype = A) && playerID(ID-8),teamside != root,teamside && playerID(ID-8),ishelper
trigger9 = playerIDexist(ID-9)=1
trigger9 = (playerID(ID-9),hitdefattr = SCA,AA,AT,AP || playerID(ID-9),movetype = A) && playerID(ID-9),teamside != root,teamside && playerID(ID-9),ishelper
trigger10= playerIDexist(ID-10)=1
trigger10= (playerID(ID-10),hitdefattr = SCA,AA,AT,AP || playerID(ID-10),movetype = A) && playerID(ID-10),teamside != root,teamside && playerID(ID-10),ishelper
trigger11= playerIDexist(ID-11)=1
trigger11= (playerID(ID-11),hitdefattr = SCA,AA,AT,AP || playerID(ID-11),movetype = A) && playerID(ID-11),teamside != root,teamside && playerID(ID-11),ishelper
trigger12= playerIDexist(ID-12)=1
trigger12= (playerID(ID-12),hitdefattr = SCA,AA,AT,AP || playerID(ID-12),movetype = A) && playerID(ID-12),teamside != root,teamside && playerID(ID-12),ishelper
trigger13= playerIDexist(ID-13)=1
trigger13= (playerID(ID-13),hitdefattr = SCA,AA,AT,AP || playerID(ID-13),movetype = A) && playerID(ID-13),teamside != root,teamside && playerID(ID-13),ishelper
trigger14= playerIDexist(ID-14)=1
trigger14= (playerID(ID-14),hitdefattr = SCA,AA,AT,AP || playerID(ID-14),movetype = A) && playerID(ID-14),teamside != root,teamside && playerID(ID-14),ishelper
trigger15= playerIDexist(ID-15)=1
trigger15= (playerID(ID-15),hitdefattr = SCA,AA,AT,AP || playerID(ID-15),movetype = A) && playerID(ID-15),teamside != root,teamside && playerID(ID-15),ishelper
trigger16= playerIDexist(ID-16)=1
trigger16= (playerID(ID-16),hitdefattr = SCA,AA,AT,AP || playerID(ID-16),movetype = A) && playerID(ID-16),teamside != root,teamside && playerID(ID-16),ishelper
trigger17= playerIDexist(ID-17)=1
trigger17= (playerID(ID-17),hitdefattr = SCA,AA,AT,AP || playerID(ID-17),movetype = A) && playerID(ID-17),teamside != root,teamside && playerID(ID-17),ishelper
trigger18= playerIDexist(ID-18)=1
trigger18= (playerID(ID-18),hitdefattr = SCA,AA,AT,AP || playerID(ID-18),movetype = A) && playerID(ID-18),teamside != root,teamside && playerID(ID-18),ishelper
trigger19= playerIDexist(ID-19)=1
trigger19= (playerID(ID-19),hitdefattr = SCA,AA,AT,AP || playerID(ID-19),movetype = A) && playerID(ID-19),teamside != root,teamside && playerID(ID-19),ishelper
trigger20= playerIDexist(ID-20)=1
trigger20= (playerID(ID-20),hitdefattr = SCA,AA,AT,AP || playerID(ID-20),movetype = A) && playerID(ID-20),teamside != root,teamside && playerID(ID-20),ishelper
var(47)=ceil(playerID(ID-1),p2bodydist x)

[State 40005];検出にかからなかったら消滅
type = destroyself
trigger1 = root,var(47)=0
;-------------------------------------------------------------------------
;AI起動用ヘルパー
[Statedef 50000]
anim=29999;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible

[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------------------------------------------------------------
; AIフラグセット
;----------------------------------------------------------------------------------
[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,ﾌﾗｸﾞON]
type=parentvarset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1
;----------------------------------------------------------------------------------
; 暗転計測
;----------------------------------------------------------------------------------
[State -1]
type = VarSet
trigger1 = root,var(59) > 0
trigger1 = enemynear,time = 1
v = 15
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = root,var(59)
v = 15
value = 1
ignorehitpause = 1
;----------------------------------------------------------------------------------
; ガードしている時間の計測(ガーキャン条件用)
;----------------------------------------------------------------------------------
[State -1]
type = Varadd
trigger1 = root,var(59)
trigger1 = (root,stateno = [150,153]) || root,stateno = 710
var(16) = 1
ignorehitpause = 1

[State -1]
type = Varset
trigger1 = root,stateno != [150,153]
trigger1 = root,stateno != 710
var(16) = 0
ignorehitpause = 1
;----------------------------------------------------------------------------------
;特殊コンボ
;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 100000]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 401

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = C, NA
damage = 22*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -10,-44
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -5
air.type = Low
air.velocity = -4,-1
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 400

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,100] 
trigger1 = movecontact
trigger1 = time = 5
value = 100000

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 100001]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 411

[State 420, ヒット定義]
type = HitDef  
trigger1 = animelem = 3
attr = C, NA
damage = 46*fvar(3)
hitflag = MAF
guardflag = L
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -25,-15
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -1.5,ifelse(var(40)<8,-6+(var(40)*.02),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
guard.velocity = -8
air.guard.velocity = -8
air.fall = 1
fall.recovertime = 55
sprpriority = 3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 1
channel = 0

[State 240, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
triggerall = NumHelper(1001) = 0 
trigger1 = P2BodyDist X = [-30,150] 
trigger1 = movecontact
trigger1 = time >= 5
value = 100002

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;---------------------------------------------------------------------------
;連打 強
[Statedef 100002]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 1220
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 1221
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,120] 
trigger1 = enemynear,movetype = H
trigger1 = AnimTime = 0
value = 100003

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Jump Start
[Statedef 100003]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 41, HitBy]
triggerall = var(59) = 1 && RoundState = 2 
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)=1
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100004
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 100004]
type    = A
physics = A
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 40, 6]
type = ChangeState
trigger1 = time >= 13
value = 100005
ctrl = 1
;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 100005]
type    = A
movetype= A
physics = A
poweradd= 40
ctrl = 0
anim = 610
sprpriority = 2

[State 200, 7]
type = statetypeset
trigger1 = time = 13
movetype = I

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 2, 1
channel = 0

[State 420, ヒット定義]
type = HitDef  
trigger1 = animelem = 2
attr = A, NA
damage = 55*fvar(3)
hitflag = MAF
guardflag = HA
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -10,-25
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,0
air.velocity = -6,-2
guard.velocity = -3
guard.kill = 0
air.guard.velocity = -3
sprpriority = 2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recovertime = 20
;---------------------------------------------------------------------------
;立ち弱
[Statedef 100006]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 200

[State 200,崩したるッ！]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
Trigger1 = EnemyNear,stateno = [120,160] 
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = random < 500
trigger1 = time = 5
value = 240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = movecontact
trigger1 = time = 5
value = 100007

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱
[Statedef 100007]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = movecontact
trigger1 = time = 5
value = 100008

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中
[Statedef 100008]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 210
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 211

[State 0, snd]
type = playsnd
trigger1 = animelem = 1
value = 2,1
channel = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno != 105
trigger1 = animelem = 2
x = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 43*fvar(3)
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8,0
guard.velocity = -12
air.type = Low
air.velocity = -6,-2
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -12
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
triggerall = power >= 1000
triggerall = enemynear,statetype = A
trigger1 = movehit
trigger1 = P2BodyDist X = [-30,150] 
trigger1 = movecontact
trigger1 = time >= 5
value = 100009

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
triggerall = movehit
trigger1 = enemynear,statetype != A
trigger1 = power >= 1000 
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time = 8

trigger2 = frontedgebodydist<=150
trigger2 = enemynear,statetype = A
trigger2 = power >= 1000 
trigger2 = random < 500
trigger2 = P2BodyDist Y = [-80,20] 
trigger2 = P2BodyDist X = [-30,120] 
trigger2 = movehit && time = 8
value = 3200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
Trigger1 = EnemyNear,StateType = A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 8
value = 220

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0 
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time >= 8
value = 1220

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;老化けむり
[Statedef 100009]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3000
velset = 0,0
poweradd= -1000
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[State 610, 3]
type = playsnd
trigger1 = time = 5
value = s4,0

[state 3000]
type = pause
trigger1 = time = 5
time = 40
movetime = 40

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(30*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = anim = 3000
trigger1 = time = 5
helpertype = normal
name = "super"
stateno = 23101
id = 3101
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999
facing = 1

[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = 1
value = 50,0

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "GF"
stateno = 3001
id = 1001
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 3, 12
channel = 0

[State 195, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = animTime = 0
value = 100010
ctrl = 1

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Jump Start
[Statedef 100010]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 41, HitBy]
triggerall = var(59) = 1 && RoundState = 2 
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100011
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 100011]
type    = A
physics = A
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 40, 6]
type = ChangeState
trigger1 = time >= 24
value = 100012
ctrl = 1
;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 100012]
type    = A
movetype= A
physics = A
poweradd= 40
ctrl = 0
anim = 610
sprpriority = 2

[State 200, 7]
type = statetypeset
trigger1 = time = 13
movetype = I

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 2, 1
channel = 0

[State 420, ヒット定義]
type = HitDef  
trigger1 = animelem = 2
attr = A, NA
damage = 55*fvar(3)
hitflag = MAF
guardflag = HA
pausetime = 12,12
animtype  = hard
sparkno = s820
sparkxy = -10,-25
hitsound = s1,1
guardsound = s1,6
getpower = 0
givepower = 10
guard.sparkno = s840
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,0
air.velocity = -6,-2
guard.velocity = -3
guard.kill = 0
air.guard.velocity = -3
sprpriority = 2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recovertime = 20
;---------------------------------------------------------------------------
;立ち弱
[Statedef 100013]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 25
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = movecontact
trigger1 = time = 8
value = 100014

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱
[Statedef 100014]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 25
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = movecontact
trigger1 = time = 8
value = 100016

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱
[Statedef 100015]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 27*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = movecontact
trigger1 = time = 5
value = 100016

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中
[Statedef 100016]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
anim = 210
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 211

[State 0, snd]
type = playsnd
trigger1 = animelem = 1
value = 2,1
channel = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno != 105
trigger1 = animelem = 2
x = 3

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 43*fvar(3)
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-64
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8,0
guard.velocity = -12
air.type = Low
air.velocity = -6,-2
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -12
air.hittime = 16
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = power >= 2000 
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time = 8

trigger2 = frontedgebodydist<=150
trigger2 = enemynear,statetype = A
trigger2 = power >= 2000 
trigger2 = P2BodyDist Y = [-100,20] 
trigger2 = P2BodyDist X = [-20,120] 
trigger2 = movehit && time >= 8
value = 3300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = NumHelper(1001) = 0
trigger1 = enemynear,statetype != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movecontact && time = 8

trigger2 = frontedgebodydist<=150
trigger2 = enemynear,statetype = A 
trigger2 = P2BodyDist Y = [-100,20] 
trigger2 = P2BodyDist X = [-20,120] 
trigger2 = movehit && time >= 8
value = 220

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Jump Start(空中強始動コンボ)
[Statedef 100100]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 41, HitBy]
triggerall = var(59) = 1 && RoundState = 2 
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)=1
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100101
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 100101]
type    = A
physics = A
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 40, 6]
type = ChangeState
triggerall = NumHelper(1001) = 0
trigger1 = time >= 10
value = 100102
ctrl = 1
;---------------------------------------------------------------------------
;ジャンプ強
[Statedef 100102]
type    = A
movetype= A
physics = A
poweradd= 65
ctrl = 0
anim = 620
sprpriority = 0

[State 0, hit]
type = hitdef
trigger1 = time = 0
attr = S, NA
damage = 65*fvar(3),8
priority = 4,Hit
hitflag = MAF
guardflag = HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 12,12
sparkno = s830
sparkxy = -30,-24
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -2,-6
guard.velocity = -18
air.type = Low
air.velocity = -2,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 16
fall = 1
air.fall = 1
guard.kill = 0
fall.recover = 0
yaccel = .36
id = 225
sprpriority = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "GF"
stateno = 625
id = 620
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中
[Statedef 100200]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)～var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "b"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 34 || time = 55 || time = 76 || time = 97
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];後ろ立ち強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger1 = parent,command = "holdback"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前立ち強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger1 = parent,command = "holdfwd"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "holddown"
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "b"
trigger3 = parent,var(59)=1
trigger3 = time = 20 || time = 41 || time = 62 || time = 84
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 27 || time = 48 || time = 69 || time = 90
v = 0+ceil(fvar(1))
value = 12

[State 3910];しゃがみ強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 13

[State 3910];連打
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "HD_x" || parent,command = "HD_y"|| parent,command = "HD_z"
v = 0+ceil(fvar(1))
value = 200

[State 3910];けむり
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "GHD_xy" || command = "GHD_yz" || command = "GHD_xz"
v = 0+ceil(fvar(1))
value = 500
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 27 || time = 34 || time = 41
trigger6 = parent,var(59)=1
trigger6 = time = 48 || time = 55 || time = 62 || time = 69
trigger7 = parent,var(59)=1
trigger7 = time = 76 || time = 83 || time = 90 || time = 97
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 27 || time = 34 || time = 41
trigger6 = parent,var(59)=1
trigger6 = time = 48 || time = 55 || time = 62 || time = 69
trigger7 = parent,var(59)=1
trigger7 = time = 76 || time = 83 || time = 90 || time = 97
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 20 || time = 41 || time = 62 || time = 84
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger2 = parent,var(59)=1
trigger2 = time = 27 || time = 48 || time = 69 || time = 90
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger2 = parent,var(59)=1
trigger2 = time = 34 || time = 55 || time = 76 || time = 97
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;デム後距離詰める
[Statedef 100300]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 1
x =ifelse((!var(49)),(const(velocity.run.fwd.x)-3),((const(velocity.run.fwd.x)-3)*0.7))
;x = const(velocity.run.fwd.x)-3

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x =ifelse((!var(49)),const(velocity.run.fwd.x),const(velocity.run.fwd.x)*0.7)
;x = const(velocity.run.fwd.x)

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x =ifelse((!var(49)),(const(velocity.run.fwd.x)-3),((const(velocity.run.fwd.x)-3)*0.7))
;x = const(velocity.run.fwd.x)-3

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
x =ifelse((!var(49)),(const(velocity.run.fwd.x)-3),((const(velocity.run.fwd.x)-3)*0.7))
;x = const(velocity.run.fwd.x) -6

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
triggerall = var(59)=0
trigger1 = time> 5  && command = "holdup"
value = 40

[State 200,回り込む]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = !animtime
value = 100301

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;===========================================================================
;デム回り込み
[Statedef 100301]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
sprpriority = -1

[State 3900 e];禁止
type = Helper
trigger1 = animtime = 0
helpertype = normal
stateno = 310
id = 310
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, hitby]
type = hitby
trigger1 = 1
value = SCA,AT

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 3,3
channel = 0

[State 0, vel]
type = velset
trigger1 = !time
x = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[state 0, helper]
type = helper
trigger1 = animelemtime(2) = 4
helpertype = normal
name = "Image"
stateno = 305
id = 305
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(7) <= 0
x = .41

[State 0, vel]
type = velmul
trigger1 = animelemtime(8) > 0
x = .42

[State 30]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X <= -10
trigger1 = !animtime
value = 100310

[State 30]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = !animtime
value = 100302

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;デム挑発
[Statedef 100310]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195+var(49)
velset = 0,0
sprpriority = 2

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 3, 11

[State 195, ステート変更]
type = ChangeState
trigger1 = animTime = 0
value = 100302
;---------------------------------------------------------------------------
;デム時立ち回り
[Statedef 100302]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 0
sprpriority = 2

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 400, 4]
type = ChangeState
triggerall = numhelper(1001) != 0
trigger1 = Time >= 1
trigger1 = P2BodyDist X >= 60
value = 100301

[State 400, 4]
type = ChangeState
triggerall = numhelper(1001) != 0
trigger1 = Time >= 1
trigger1 = P2BodyDist X = [-20,60]
value = 100303

[State 400, 4]
type = ChangeState
trigger1 = numhelper(1001) = 0
trigger2 = RoundState != 2 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;デム立ち弱
[Statedef 100303]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd= 10*!(var(54)=1)
sprpriority = 2

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 17*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200

[State 400, 4]
type = ChangeState
triggerall = RoundState = 2
triggerall = var(21) != 0
trigger1 = P2BodyDist X = [-20,55] 
trigger1 = movecontact
trigger1 = Time >= 6
value = 100303

[State 400, 4]
type = ChangeState
triggerall = var(21) = 0
triggerall = RoundState = 2
trigger1 = P2BodyDist X = [-20,55]
trigger1 = movecontact
trigger1 = Time >= 7
value = 100304

[State 400, 4]
type = ChangeState
triggerall = RoundState != 2 
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 100302
ctrl = 1
;---------------------------------------------------------------------------
;デム後コンボ
[Statedef 100304]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd= 10*!(var(54)=1)
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 17*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = movecontact
trigger1 = time >= 7
value = 100305

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;デム後コンボ 立弱2
[Statedef 100305]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
poweradd= 10*!(var(54)=1)
sprpriority = 2

[State 240, ステート変更]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 100 || prevstateno = 105
value = 201

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = S, NA
damage = 17*fvar(3)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-63
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20*!(var(54)=1)
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,50] 
trigger1 = movecontact
trigger1 = time >= 7
value = 100306

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;デム後コンボ 発現立ち弱
[Statedef 100306]
type = S
movetype = A
physics = S
anim = 10200
velset = 0,0
sprpriority = 3
ctrl = 0

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 12
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,11

[State 0, hit]
type = hitdef
trigger1 = animelem = 4
attr = S, NA
damage = 27*fvar(3),2
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,8
sparkno = s810
sparkxy = -8,-36
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 20
givepower = 10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
guard.velocity = -8
air.type = High
air.velocity = -4,-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 30
yaccel = .36
id = 200
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,110] 
trigger1 = movecontact
trigger1 = time >= 7
value = 100307

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;デム後コンボ ON立ち中
[Statedef 100307]
type = S
movetype = A
physics = S
anim = ifelse((prevstateno=[100,105]),10215,10210)
sprpriority = 3
ctrl = 0

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 200, 速度]
type = velset
trigger1 = animelem = 2
x = 4

[State 0, hit]
type = hitdef
triggerall = anim = 10210
trigger1 = animelem = 2
attr = S, NA
damage = 61*fvar(3),4
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,0
guard.velocity = -10
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 14
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230
guard.kill = 0

[State 0, hit]
type = hitdef
triggerall = anim = 10215
trigger1 = animelem = 2
attr = S, NA
damage = 65*fvar(3),4
priority = 4,Hit
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s830
sparkxy = -10,-36
guard.sparkno = s840
hitsound = s1,3
guardsound = s1,6
getpower = 50
givepower = 20
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -5,0
guard.velocity = -10
air.type = Low
air.velocity = -6,-4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
air.hittime = 15
fall = 0
air.fall = 1
fall.recovertime = 30
yaccel = .36
id = 230
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 2000
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = time >= 10
value = 13300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = time >= 10
value = 13200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
trigger1 = time >= 10
value = 11220

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;タンデムテンプレート
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中
[Statedef 100200]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)～var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "b"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];後ろ立ち強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger1 = parent,command = "holdback"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前立ち強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger1 = parent,command = "holdfwd"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "holddown"
trigger1 = parent,command = "x"
trigger2 = parent,command = "b"
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 12

[State 3910];しゃがみ強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 13

[State 3910];連打
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "HD_x" || parent,command = "HD_y"|| parent,command = "HD_z"
v = 0+ceil(fvar(1))
value = 200

[State 3910];けむり
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "GHD_xy" || command = "GHD_yz" || command = "GHD_xz"
v = 0+ceil(fvar(1))
value = 500
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ■最後に『コモンステート』について■
; コモンステートとは、全キャラ共通の基本動作のステートです。
; 通常は特に変更しない限り、M.U.G.E.N本体のdataフォルダにある
;「common1.cns（コモンステートファイル）」を使います。
;
; しかし、もしもあなたのキャラのステートファイルでcommon1.cnsと同じ番号の
; 基本動作のステートを作った場合は処理が上書きされ、
; common1.cns側の同じ番号のステートは無効になります。
;
; common1.cnsのプログラム優先度は最低に属しているので、
; ステートの作成には番号に注意しないといけません。
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
