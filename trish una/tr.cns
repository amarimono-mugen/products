; これはカンフーマンのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

; これはKFMの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
life = 1000
;パワーゲージの最大値
power = 10000 
  ;攻撃力（これ以上に設定すると強くなる）
attack = 100
  ;防御力（これ以上に設定すると強くなる）
defence = 95
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 25
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 0
  IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 0.93;.833			水平方向の縮尺（通常１）
yscale = 1.02
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 16    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 12       ;キャラの幅(前方,空中)
height = 60          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -90   ;頭の大体の座標
mid.pos = -5, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.4      ;前進の速度
walk.back = -2.2     ;後退の速度
run.fwd  = 7, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -7,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5    ;垂直ジャンプの速度
jump.back = -2.55    ;後ジャンプの速度
jump.fwd = 2.5       ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 0  ;空中でジャンプする最低限の高さ
yaccel = .5         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "そう……一味………\n違うのね…………"
victory2 = "アリーヴェ　デルチ（さよならよ）"
victory3 = "良しッ！くそ野郎ッ！！"
;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空
/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 200, 1]
type = Changeanim
triggerall = var(49) = 10000  
trigger1 = time = 0
value = 10000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
type = S
ctrl = 0
anim = 181+var(49)
velset = 0,0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
triggerall = var(49) = 0
trigger1 = time = 10
facing = 1                 
postype = p1
pos = 20,-30
anim = 182
sprpriority = 0
ownpal = 1
scale = 1, 1
removetime = -1

[State 191, 99] 
type = AssertSpecial
trigger1 = life <= 100
trigger1 = Time = [0,230]
flag = roundnotover

[State 191, 2] 
type = AssertSpecial
triggerall = var(49) = 10000 
trigger1 = Time = [0,230]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 0, var]
type = varrandom
trigger1 = !time
v = 9
range = 0,1

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = var(9) = 0
trigger1 = Time = 0
trigger1 = p2name != "diavolo" 
value = 191

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = var(9) = 1
trigger1 = Time = 0
trigger1 = p2name != "diavolo" 
value = 193

[State 190, 2] ;Go straight to intro.
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "diavolo" 
value = 192
;---------------------------------------------------------------------------
; 開始前の動作
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 13
value = 0, 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 13
value = 0, 3

;[State 200, 1]
;type = PlaySnd
;trigger1 = animelem = 4
;value = 100, 21
;channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = animelem = 13
helpertype = normal
name = "moppu"
stateno = 999190
id = 191
pos = 0, -50
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = animelem = 13
helpertype = normal
name = "bandana"
stateno = 999191
id = 191
pos = 0, -95
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = animelem = 13
helpertype = normal
name = "uwagi"
stateno = 999192
id = 191
pos = 0, -60
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = animelem = 13
helpertype = normal
name = "zubon"
stateno = 999193
id = 191
pos = 0, -40
postype = p1
ownpal = 1
facing = 1

[State 191, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] 
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; モップ
[Statedef 999190]
type = S
ctrl = 0
anim = 189
velset = 0,0

[State 1026, Gravity]
type = Velset
trigger1 = time = 0
x = -10
y = -1

[State 1026, Gravity]
type = Velset
trigger1 = time = 5
x = -5

[State 1026, Gravity]
type = Velset
trigger1 = time = 10
x = -1

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .05

[State 191, 4] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; バンダナ
[Statedef 999191]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 1026, ]
type = Velset
trigger1 = time = 0
x = -10
y = .1

[State 1026, Gravity]
type = Velset
trigger1 = time = 5
x = -5

[State 1026, Gravity]
type = Velset
trigger1 = time = 10
x = -1

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 0
y = .05

[State 191, 4] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 上着
[Statedef 999192]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = -10
y = -1

[State 1100, Velocity]
type = VelSet
trigger1 = time = 3
x = -5
y = -.5
[State 1100, Velocity]
type = VelSet
trigger1 = time = 5
x = -2.5
y = 0

[State 1100, Velocity]
type = VelSet
trigger1 = time >= 6
x = -1
y = 0


[State 191, 4] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; ズボン
[Statedef 999193]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = -15
y = -3

[State 1100, Velocity]
type = VelSet
trigger1 = time = 3
x = -10
y = -1

[State 1100, Velocity]
type = VelSet
trigger1 = time = 5
x = -5
y = .5

[State 1100, Velocity]
type = VelSet
trigger1 = time >= 6
x = -1
y = 1

[State 191, 4] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 父親のこと…
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 31
channel = 0

[State 20054]
type = RemoveExplod
trigger1 = time = 0
id = 30006

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 5
value = 100,33

[State 1000, 5]
type = explod
trigger1 = animelem = 5
anim = 30005
pos = -50, -100
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 1,1
pausemovetime = 9999999999999

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 100, 21
channel = 0

[State 191, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 4] 
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; 開始前の動作(旧)
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 21
channel = 0

[State 191, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] 
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 90
value = 1

[State 195, 2]
type = Changeanim
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 10195
ctrl = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) != 10000
trigger1 = Time = 6
value = 100, 0
channel = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) = 10000
trigger1 = Time = 1
value = 100, 15
channel = 0

[State 195, 1]
type = CtrlSet
triggerall = var(49) != 10000
trigger1 = Time = 100
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち弱
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0
anim = 200
poweradd= 0*!(var(23)=1)
sprpriority = 2
velset = 0,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 16, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ダッシュ立ち弱
[Statedef 205]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time >= 0
trigger1 = Time <= 5
x = 3

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time >= 0
trigger1 = Time <= 5
x = -3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 16, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガーキャン soff
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 50
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 1801
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ガーキャンSG
[Statedef 1801]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1201
sprpriority = 0

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,20
channel = 0  

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 30
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 10,10
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-2
air.velocity = -10,-2
p2facing = 1
getpower = 10 
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 32

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 4
value = parent,fvar(4)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(4) < 0
fv = 4
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(4) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(4))

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [0,5]
x = 12*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = animelem = 3
x = 1*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 4
x = 0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 15
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;マッハS 弱
[Statedef 11800]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd = 50 
ctrl = 0
velset = 0,0
anim = 11100
sprpriority = 2
facep2 = 1

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 200, 7]
type = playsnd
trigger1 = Time = 9
value = 0,2

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 0
value = 100,20
channel = 0

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [1,2]
x = 11*const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 52
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 11, 11
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound   = s100, 32
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -10,-2
air.velocity = -10,-2
kill = 1 
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 20,0
guard.kill = 0
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = 32

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱S
[Statedef 10200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = prevstateno = 100
trigger1 = AnimElem = 4
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 4
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = prevstateno != 100
trigger1 = AnimElem = 4
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ダッシュ立ち弱S
[Statedef 10205]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10206
hitcountpersist = 1

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time >= 0
trigger1 = Time <= 5
x = 4

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time >= 0
trigger1 = Time <= 5
x = -4

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = prevstateno = 100
trigger1 = AnimElem = 4
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 4
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = prevstateno != 100
trigger1 = AnimElem = 4
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;立ち弱スタンド出現攻撃
[Statedef 10220]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10200
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 19, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱スタンド出現攻撃
[Statedef 10225]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち中
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 215
sprpriority = -1

[State 0, 移動速度]
type = velset
trigger1 = animelem = 4
x = 4

[State 0, 移動速度]
type = velset
trigger1 = animelem = 5
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 7
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 28
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -6*const(size.xscale)
air.velocity = -3*const(size.xscale),-3
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
triggerall = numhelper(1250) = 0
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = command = "mahha_x"
trigger1 = (stateno = 210) && movecontact
value = 1200

[State 210, 5]
type = ChangeState
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = command = "mahha_y"
trigger1 = (stateno = 210) && movecontact
value = 1210

[State 210, 5]
type = ChangeState
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = command = "mahha_b"
trigger1 = (stateno = 210) && movecontact
value = 1220

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中S
[Statedef 10210]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1100, 速度]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = light
damage    = 32
priority = 3, Hit
guardflag = MA
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
fall.recovertime = 999

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 12
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;発現攻撃
[Statedef 10300]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 1100, 速度]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = light
damage    = 50
priority = 3, Hit
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 12
ground.velocity = -4,-6
air.velocity = -4,-6
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
fall.recovertime = 55
fall = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 12
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 10215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10215

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1100, 速度]
type = VelSet
trigger1 = animelem = 4
x = 4

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = medium
damage    = 28
priority = 3, Hit
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
fall.recovertime = 999

[State 230, 3]
type = changestate
triggerall = command = "y"
trigger1 =Time >= 10
trigger1 = movecontact
value = 10210

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中2S
[Statedef 10221]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10220

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1100, 速度]
type = VelSet
trigger1 = animelem = 3
x = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = hard
damage    = 25
priority = 3, Hit
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-32
hitsound = s1, 1
guardsound = s1,5
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
fall.recovertime = 999
ground.cornerpush.veloff = 0

[State 230, 3]
type = changestate
triggerall = command = "y"
trigger1 =Time >= 5
trigger1 = movecontact
value = 10215

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 10222]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
anim = 10225

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time >= 0
trigger1 = Time <= 10
x = 1

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time >= 0
trigger1 = Time <= 10
x = -1

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time >= 10
trigger1 = Time <= 15
x = 5

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time >= 10
trigger1 = Time <= 15
x = -5

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = medium
damage    = 28
priority = 3, Hit
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.slidetime = 15
ground.hittime  = 13
ground.velocity = -10
air.velocity = -8,-4
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 24

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中スタンド出現攻撃
[Statedef 10250]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10210
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 42
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中スタンド出現攻撃
[Statedef 10255]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
ctrl = 0
anim = 10215
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 38
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 230, 3]
type = changestate
triggerall = command = "y"
trigger1 =Time >= 12
trigger1 = movecontact
value = 10210

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ダッシュ攻撃
[Statedef 230]
type = S
movetype = A
physics = N
juggle = 0
ctrl = 0
anim = 230
poweradd = 30*!(var(23)=1)

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100, 11

[State 200,位置]
type = PosSet
trigger1 = time = 0
y = 0

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time = 0
x = 3

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time = 0
x = -3

[State 1100, 速度]
type = VelSet
trigger1 = animelem = 7
x = 0

[State 200, 3]
type = Hitdef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 21
pausetime = 11,11
guard.pausetime = 6,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,5
ground.type = High
air.type = High
ground.slidetime = 11
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 11
ground.velocity = -6,0
guard.velocity = -5.5
air.velocity = -2.5,-4.2
ground.cornerpush.veloff = -8.3
air.cornerpush.veloff = 0
air.fall = 0
getpower = 30*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち強
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 1

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(241) = 0
helpertype = normal
name = "ge"
stateno = 241
id = 1001
pos = 20, 10
postype = p1
ownpal = 1
facing = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 10
value = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち強 helper
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 241
sprpriority = 0

[State 215]
type = VelSet
trigger1 = animelem = 1
x = 9

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = ifelse(root,var(40)>5,30,60)
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.slidetime = 9
guard.hittime  = 9
guard.ctrltime  = 9
ground.velocity = -10*const(size.xscale) * (var(14) = 0)
air.velocity = -4*const(size.xscale) * (var(14) = 0),(-6+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 230, 2]
type = assertspecial
trigger1 = time >= 20
trigger1 = time%2 = 0
flag = invisible

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;立ち強S
[Statedef 10240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = movehit          ;攻撃が相手にヒットしたとき
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 3
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 63, 12
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -12*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ダッシュ立ち強S
[Statedef 10245]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10245
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = movehit          ;攻撃が相手にヒットしたとき
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 3
ignorehitpause = 1

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time >= 0
trigger1 = Time <= 15
x = 1

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 100
trigger1 = Time = 15
x = 15

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time >= 0
trigger1 = Time <= 5
x = -3

[State 1100, 速度]
type = VelSet
triggerall = PrevStateno = 105
trigger1 = Time = 15
x = -15

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 63, 12
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -12*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
fall = 1
air.fall = 1 
fall.recover = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強スタンド出現攻撃
[Statedef 10270]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 63
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み弱
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 18,0
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 11,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-12
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -12
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 400, 3]
type = CtrlSet
trigger1 = Time = 7
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;---------------------------------------------------------------------------
;屈み・弱S
[Statedef 10400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, vel]
type = velset
triggerall = prevstateno = 100
trigger1 = time >= 0
trigger1 = time <= 5
x = 3

[State 0, vel]
type = velset
triggerall = prevstateno = 105
trigger1 = time >= 0
trigger1 = time <= 5
x = -3

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 18
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -12

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み弱スタンド出現攻撃
[Statedef 10420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 18
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200,]
type = ChangeState
triggerall = var(59)=0
triggerall = command = "FF"
trigger1 = time >= 8
value = 100

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
; CNS difficulty: easy
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 410
sprpriority = 2

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 10

[State 215]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11
channel = 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,14
sparkxy = -10,-10
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 210, 5]
type = ChangeState
triggerall = command = "mahha_x"
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = numhelper(1250) = 0
trigger1 = (stateno = 410) && movecontact
value = 1200

[State 210, 5]
type = ChangeState
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = command = "mahha_y"
trigger1 = (stateno = 410) && movecontact
value = 1210

[State 210, 5]
type = ChangeState
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1600) = 0 
triggerall = numhelper(1001) = 0
triggerall = NumHelper(2) = 0 
triggerall = command = "mahha_b"
trigger1 = (stateno = 410) && movecontact
value = 1220

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・中S
[Statedef 10410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 0, vel]
type = velset
triggerall = prevstateno = 100
trigger1 = time >= 0
trigger1 = time <= 5
x = 5

[State 0, vel]
type = velset
triggerall = prevstateno = 105
trigger1 = time >= 0
trigger1 = time <= 5
x = -5

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中スタンド出現攻撃
[Statedef 10450]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱・キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み強
;
;これは足払いの効果を出すためにground.typeがTripになっています。
;それ以外は特にありません。
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 1

[State 440, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 0
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = s99999
guard.sparkno = s99999
sparkxy = -5,-50
hitsound = s1, 3
guardsound = s1,5
ground.type = Trip ;この攻撃を食らうと相手は吹っ飛べば「転ぶアニメ」になる
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1
numhits = 0

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(241) = 0
helpertype = normal
name = "ge"
stateno = 441
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強 helper
[Statedef 441]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 441
sprpriority = 3

[State 1065, 3]
type = bindtoparent
trigger1 = time = 0
pos = 30,0
time = 10
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 430, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 60,5
;animtype  = hard
guardflag = L
pausetime = 14,10;18
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-18
hitsound = s1,2
guardsound = s1,5
getpower = 30,0
givepower = 20,0
ground.type = trip;Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -0.5,-1.5;-5
air.velocity = -2,-3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 230, 2]
type = assertspecial
trigger1 = time >= 28
trigger1 = time%2 = 0
flag = invisible

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 442
;---------------------------------------------------------------------------
; 屈み強終了（弱）(スタンド)
[Statedef 442]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 442
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 442
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;屈み強S
[Statedef 10440]
type    = C
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = ifelse((prevstateno = [100,105]),10445,10440)
sprpriority = 1

[State 0, vel]
type = velset
triggerall = prevstateno = [100,105]
trigger1 = time >= 5
trigger1 = time <= 20
x = 5

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = anim = 10445
trigger1 = time = 4
anim = 20020
id = 20020
facing = 1
postype = p1
pos = 10,0
sprpriority = 3
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 430, ヒット定義]
type = HitDef
triggerall = prevstateno != [100,105]
trigger1 = AnimElem = 3
attr = C, NA
damage    = 60,5
;animtype  = hard
guardflag = L
pausetime = 14,10;18
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-18
hitsound = s1,2
guardsound = s1,5
getpower = 30,0
givepower = 20,0
ground.type = trip;Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5,-1.5
air.velocity = -2,-3

[State 430, ヒット定義]
type = HitDef
triggerall = prevstateno = [100,105]
trigger1 = AnimElem = 3
attr = C, NA
damage    = 60,5
;animtype  = hard
guardflag = L
pausetime = 10,10
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-18
hitsound = s1,2
guardsound = s1,5
getpower = 30,0
givepower = 20,0
ground.type = trip;Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5,-1.5
air.velocity = -2,-3

[State 1027, Sound]
type = PlaySnd
triggerall = prevstateno = [100,105]
trigger1 = time = 4
value = 1,6

[State 1027, Sound]
type = PlaySnd
triggerall = prevstateno != [100,105]
trigger1 = animelem = 3
value = 100,5
channel = 0  

[State 1027, Sound]
type = PlaySnd
triggerall = prevstateno = [100,105]
trigger1 = time = 1
value = 100,36
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強スタンド出現攻撃
[Statedef 10470]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10440
sprpriority = 3

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 430, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 60,5
;animtype  = hard
guardflag = L
pausetime = 14,10;18
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-18
hitsound = s1,2
guardsound = s1,5
getpower = 30,0
givepower = 20,0
ground.type = trip;Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -0.5,-1.5;-5
air.velocity = -2,-3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 3
value = 100,5
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;空中弱
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20*!(var(23)=1)
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage    = 20
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -3,-6
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 28
value = 1
;---------------------------------------------------------------------------
;空中弱S
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = Time = 4
value = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage    = 25
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
air.fall = 1
fall.recover = 1
fall.recovertime = 18

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1

;---------------------------------------------------------------------------
;空中弱スタンド出現攻撃
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage    = 25
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
air.fall = 1
fall.recover = 1
fall.recovertime = 18

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;空中中
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3,-6
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 32
value = 1
;---------------------------------------------------------------------------
;空中中S
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2+var(19)*1.3
air.fall = 1
fall.recover = 1
fall.recovertime = 24

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中中スタンド出現攻撃
[Statedef 10650]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 11

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2+var(19)*1.3
air.fall = 1
fall.recover = 1
fall.recovertime = 24

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中強
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 77
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,22)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,22)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
ground.velocity = -7*const(size.xscale)
air.velocity = -3,-6
getpower = 50*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
;空中強S
[Statedef 10640]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 60
ctrl = 0
anim = 10640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 12
channel = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 66,6
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
ground.velocity = -12
air.velocity = -8,-3
guard.kill = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;---------------------------------------------------------------------------
;空中強スタンド出現攻撃
[Statedef 10670]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 60
ctrl = 0
anim = 10640
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 12
channel = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 66,6
guardflag = HA
priority = 3
pausetime = 8,16
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -4
air.velocity = -2,-3
guard.kill = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 32

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
; エレクバイトが「作るのが退屈と感じる時もあるよ」って言ってるけど、
; 作り出したら意外とハマって楽しくなる投げ技。
; 投げる相手の正確な座標取りは面倒臭いけどね（コラ
; 投げ用のHitDefはテンプレートと見比べて確認すればわかるはず。
;---------------------------------------------------------------------------
;掴み
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（放り投げる）
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1000, Spark]
type = helper
trigger1 = time = 0
stateno = 811
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820,]
type = Explod
trigger1 = Time = 34
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 1,3

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 80, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 30
value = -55

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（helper）
[Statedef 811]
type    = S
movetype= A
physics = N
anim = 802
poweradd = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 100,13

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 20,0
time = 1
ignorehitpause = 1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = root,stateno != 810
value = 1002
;---------------------------------------------------------------------------
; こっちは制御を奪った相手の食らいステート。
; 相手の制御を解く場合、「ChangeState」のコントローラにしてしまうと
;「相手が制御を奪われた状態のままになるバグ」が発生してしまう。
; なので必ず『SelfState』で相手のステートに戻し、制御を解除しないといけない。
; そこさえ注意しておけば、自由に相手の食らいモーションを設定出来る。
;
; デバッグ表示中に相手の情報の一部の文字が黄色になったら、それが
; P2StateNoやTargetStateで制御を奪われた状態の証。
; 投げが成功したらCtrl+Dで相手側の情報を確認だ！m9っ｀Д´)
;---------------------------------------------------------------------------
;相手側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 803

[State 1061, 2]
type = Velset
trigger1 = time = 32
y = -4
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 34
y = -3.675
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 36
y = -3.35
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 38
y = -3
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = -1.5
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 42
y = -0.75
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 44
y = -0.375
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 46
y = 0
x = -8.5

[State 1061, 2]
type = Velset
trigger1 = time = 48
y = 0.25
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = 50
y = 0.5
x = -7.5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 1
x = -7

[State 1061, 2]
type = Velset
trigger1 = time = 53
y = 2
x = -6.5

[State 1061, 2]
type = Velset
trigger1 = time = 54
y = 4
x = -6

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 6
x = -5.5

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 8
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 56
y = 9
x = -4.5

[State 1061, 2]
type = Velset
trigger1 = time > 57
y = 10
x = -4

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 35
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;投げぬけ 自分（y.y氏製作）
[Statedef 930]
type = A
movetype = I
physics = A
anim = Ifelse(var(49)=10000,15040,5210)
velset = -3,-5

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 940

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　相手
[Statedef 940]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
;---------------------------------------------------------------------------
;掴み son
[Statedef 10800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 804
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 10810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（放り投げる）son
[Statedef 10810]
type    = S
movetype= A
physics = N
anim = 805
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 100,13

[State 10820,]
type = Explod
trigger1 = Time = 34
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 1,3

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 80, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 30
value = -55

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ※３：GetHitVar
;
; 　食らってしまった『相手の攻撃の効果』を
; 　自分側が「特殊な変数」に変換して判断するトリガー。
;　「GetHitVar(**)」の『**』に該当する、予め決められているパラメータを全て紹介。
;
; 　大概「相手のHitDefとProjectileのパラメータ」から引き出すので、かなり多い（苦笑
;
;
; 　XVelAdd             = 自分が負けて吹っ飛んだ時の「Ｘ軸方向の加速度(float)」を計測する
; 　YVelAdd             = 自分が負けて吹っ飛んだ時の「Ｙ軸方向の加速度(float)」を計測する
; 　Type                = 自分の「食らいアニメの種類」。（0=None・1=High・2=Low・3=Trip）
; 　AnimType            = 相手のHitDefに設定されている「animtype」を判断する
;                        （0=Light・1=Medium・2=Hard・3=Back・4=Up・5=DiagUp）
; 　GroundType          = 相手のHitDefに設定されている「ground.type」を判断する
; 　AirType             = 相手のHitDefに設定されている「air.type」を判断する
;
; 　Damage              = 相手から食らってしまった「ダメージ量」を計測する
; 　HitCount            = 相手の「現在のヒット数」を計測する
; 　FallCount           = 自分が「地面に激突した回数」を判断する
; 　HitShakeTime        = 自分の「ヒット硬直時間」を計測する
; 　HitTime             = 自分の「食らい時間」を計測する
; 　SlideTime           = 相手のHitDefに設定されている「slidetime」を判断する
; 　CtrlTime            = 相手のHitDefに設定されている「(air)guard.ctrltime」を判断する
; 　RecoverTime         = 横に倒れている時の「起き上がるまでの時間」を判断する
;
; 　XOff                = 相手のHitDefに設定されている「"snap"のＸ軸」を判断する（非推奨）
; 　YOff                = 相手のHitDefに設定されている「"snap"のＹ軸」を判断する（非推奨）
; 　ZOff                = 相手のHitDefに設定されている「"snap"のＺ軸」を判断する？（存在しないので無意味）
;
; 　XVel                = 相手のHitDefに設定されている「Ｘ軸の食らい状態の移動速度」を判断する
; 　YVel                = 相手のHitDefに設定されている「Ｙ軸の食らい状態の移動速度」を判断する
; 　YAccel              = 相手のHitDefに設定されている「yaccel」を判断する
; 　chainID             = 相手のHitDefに設定されている「chainID」を判断する
; 　Guarded             =「相手のコンボでの最後の攻撃をガードした場合」を判断する
; 　IsBound             =「TargetBindで掴まれてる状態」を判断する
;
; 　Fall                = 相手のHitDefに設定されている「fall」を判断する
; 　Fall.Damage         = 相手のHitDefに設定されている「fall.damage」を判断する
; 　Fall.XVel           = 相手のHitDefに設定されている「fall.xvelocity」を判断する
; 　Fall.YVel           = 相手のHitDefに設定されている「fall.yvelocity」を判断する
; 　Fall.Recover        = 相手のHitDefに設定されている「fall.recover」を判断する
; 　Fall.RecoverTime    = 相手のHitDefに設定されている「fall.recovertime」を判断する
; 　Fall.Kill           = 相手のHitDefに設定されている「fall.kill」を判断する
; 　Fall.EnvShake.Time  = 相手のHitDefに設定されている「fall.envshake.time」を判断する
; 　Fall.EnvShake.Freq  = 相手のHitDefに設定されている「fall.envshake.freq」を判断する
; 　Fall.EnvShake.Ampl  = 相手のHitDefに設定されている「fall.envshake.ampl」を判断する
; 　Fall.EnvShake.Phase = 相手のHitDefに設定されている「fall.envshake.phase」を判断する
;
;---------------------------------------------------------------------------
;カンフースルー：相手側２（放り投げられた）
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 速度加算];重力
type = VelAdd
trigger1 = 1
y = .4 ;現在のＹ軸方向の移動速度を「0.4ポイント」ずつ増やしていく

[State 821, ステート変更]
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive      ;生きている時
triggerall = CanRecover ;空中受け身が可能な時
trigger1 = Command = "recovery"
value = 5200

[State 821, 相手ステートに戻す]
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210

[State 821, 相手ステートに戻す]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
;---------------------------------------------------------------------------
; ワナビー弱
; 
;   これは必殺技のステートです、主な違いはattrがS, SAになっているところで
;   意味はＳ：立ち Ｓ：必殺技 Ａ：攻撃となっています。
;   これは相手のとる反応を左右するので正確にする必要があります
;   後、攻撃が近くで当たるのと遠くで当たるのを区別しています
;   1000,5はtrigger1 = p2bodydist X < 40と記述があります
;   意味は「相手の水平位置が40より近い」ということです。
;   1000,6はtrigger1 = p2bodydist X >= 40となっています、すると
;   意味は「相手の水平位置が40以上」となっているので近くなら強く
;   遠くなら弱くダメージがあると言う事です。

[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 1001
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 230, 3]
type = ctrlset
trigger1 =Time >= 14
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ワナビー（弱）(スタンド)
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 14, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = 8, 6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = 10, 7
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = 11, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

;---------------------------------------------------------------------------
; ワナビー終了（弱）(スタンド)
[Statedef 1002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1002
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1002
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; ワナビー中
[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 1004
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 200, ガードされた場合]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = Time = 14 
trigger1 = enemynear,stateno = [120,160]
value = 100

[State 230, 3]
type = ctrlset
trigger1 =Time >= 14
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ワナビー（中）(スタンド)
[Statedef 1004]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 13*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 12, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = 8, 6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = 10, 7
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = 11, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
p2facing = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; ワナビー強
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 1006
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 230, 3]
type = ctrlset
trigger1 =Time >= 14
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ワナビー（強）(スタンド)
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 16*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 12, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = 8, 6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = 10, 7
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = 11, 8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
p2facing = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5997]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3014
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3015
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3016
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3017
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3018
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,hitshakeover
trigger2 = root,hitshakeover
trigger2 = root,prevstateno = [5000,5099]
value = 5998
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5998]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 5999
id = 5999
pos = 0,ceil(-70*const(size.yscale))
postype = p1
sprpriority = 0
removetime = 10
bindtime = -1
scale = const(size.xscale),const(size.yscale)
persistent = 0

[State 1000, 2]
type = Varset
trigger1 = !hitshakeover
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = hitshakeover
v = 13
value = 1

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 0
ID = 5999
scale = const(size.xscale)+var(13)/11.5 , const(size.yscale)-var(13)/11.5

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 1

[State 230, 2]
type = destroyself
trigger1 = root,hitover
trigger2 = root,movetype != H && time > 0

;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 9500]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9500
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 9520

;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 9520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9501
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 4

[State 0, hitvel]
type = null;hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 29999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける

;-------------------------------
[Statedef 16503];しゃがみ
type    = C
movetype= H
physics = S
velset = -2,0
anim = 5020

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 11
ctrl = 1

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;-------------------------------
[Statedef 16504];空中
type    = A
movetype= H
physics = A
velset = -2,0
anim = 5050

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = Vel Y > 0    ;下方に移動している場合、正の値
trigger1 = Pos Y >= -10 ;地面を0、下方向を正、上方向を負
value = 5100;地面に激突

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;---------------------------------------------------------------------------
;ワナビーS
[Statedef 11000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -65
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -85
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -45, -35
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 27
attr = S, HA
damage = 119, 28;119, 10;==changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1*const(size.xscale)
air.velocity = -13,-3
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 50
value = 11001
;---------------------------------------------------------------------------
;ワナビーS終了
[Statedef 11001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11003
hitcountpersist = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = heavy
damage    = 25, 9
guardflag = MA
priority = 4, Hit
pausetime = 15,15
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -8,-2
air.velocity = -10*const(size.xscale),-1
fall = 1
guard.kill = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ワナビーS終了（強）
[Statedef 11002]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11004
hitcountpersist = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = heavy
damage    = 25, 9
guardflag = MA
priority = 4, Hit
pausetime = 15,15
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -8,-2
air.velocity = -10*const(size.xscale),-1
fall = 1
guard.kill = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ワナビーS 中
[Statedef 11010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11010
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 200, 7]
type = velset
trigger1 = time = 7
x = 8*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 10
x = 2*const(size.xscale)

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 27
trigger5 = AnimElem = 35
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -25, -65
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 31
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -85
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25
trigger4 = AnimElem = 33
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -45, -35
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 39
attr = S, HA
damage = 119, 28;119, 10;==changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 50
value = 11001
;---------------------------------------------------------------------------
;ワナビーS 強 
[Statedef 11040]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11010
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 200, 7]
type = velset
trigger1 = time >= 7
x = 10*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 12
x = 3*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 67
x = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 27
trigger5 = AnimElem = 35
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -25, -65
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 31
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -85
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25
trigger4 = AnimElem = 33
attr = S, HA
damage = 14, 4;21, 5;==Changed
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -45, -35
hitsound   = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,3
fall = ifelse(time = 112,1,0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 39
attr = S, HA
damage = 20
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5*const(size.xscale)
air.velocity = -13,-3
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 50
value = 11002
;---------------------------------------------------------------------------
; ワナビーラッシュ S(超必殺)　
[Statedef 13000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 13300
ctrl = 0
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 200, 7]
type = velset
trigger1 = time >= 54
x = 3*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 141
x = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 60

[State 3000, 相手の特定の攻撃属性無効]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,17
channel = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 27
trigger5 = AnimElem = 35
trigger5 = AnimElem = 43
attr = S, SA
damage = 8, 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 5
trigger2 = animelem = 13
trigger3 = animelem = 21
trigger4 = animelem = 29
trigger5 = animelem = 37
trigger6 = animelem = 45
attr = S, SA
damage = 8, 4
animtype = middle
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -30,-65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 15
trigger3 = animelem = 23
trigger4 = animelem = 31
trigger5 = animelem = 39
attr = S, SA
damage = 8, 4
animtype = middle
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -30,-85
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 17
trigger3 = animelem = 25
trigger4 = animelem = 33
trigger5 = animelem = 41
attr = S, SA
damage = 8, 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -45,-35
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 47
attr = S, NA
animtype  = heavy
damage    = 14, 8
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 4
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-4
envshake.time = 8
envshake.frep = 300
envshake.ampl = 14
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
fall = 1
fall.recover = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;蹴り　超必
[Statedef 13150]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13151
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 215]
type = VelSet
trigger1 = time = 44
x = 5

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[State 240, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, HA
animtype  = Light
damage    = 9, 2
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
getpower = 0,0
givepower = 10,0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 9
attr = S, HA
animtype  = heavy
damage    = 9, 1
guardflag = M
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = 30,-65
hitsound = s1, 3
guardsound = s1,5
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
getpower = 0,0
givepower = 10,0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype  = light
damage    = 8, 1
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = 10,-45
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
getpower = 0,0
givepower = 10,0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 11
attr = S, HA
animtype  = heavy
damage    = 7, 1
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = -15,-15
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
getpower = 0,0
givepower = 10,0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 11
value = 0,2

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,28
channel = 0  

[State 240, 4]
type = ChangeState
trigger1 = Time = 150
trigger1 = movecontact
value = 13151
ctrl = 0

[State 240, 4]
type = Changeanim
trigger1 = Time = 151
value = 13153

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
trigger1 = anim = 13153
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;蹴り　超必 締め
[Statedef 13151]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13152
hitcountpersist = 1

[State 215]
type = VelSet
trigger1 = time = 11
x = 5

[State 1027, Sound]
type = PlaySnd
trigger1 = target,life > 10
trigger1 = animelem = 3
value = 100,13
channel = 0  

[State 1027, Sound]
type = PlaySnd
trigger1 = target,life <= 10
trigger1 = animelem = 3
value = 100,38
channel = 0 

[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage = 25
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -13*const(size.xscale) * (var(14) = 0),-6;(-6+var(19)*1.3) * (var(14) = 0)
air.velocity = -13*const(size.xscale) * (var(14) = 0),-6;(-6+var(19)*1.3) * (var(14) = 0)
fall = 1
fall.recover = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ヤワラカクシマス S(超必殺)　
[Statedef 13200]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 13200
ctrl = 0
sprpriority = 1
poweradd = -1000

[state 0, helper]
type = helper
trigger1 = time = 0
helpertype = normal
name = "stand"
stateno = 16665
id = 241
pos = -30,10
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1
pausemovetime = 0

[State 1010, BGcolor]
type = PalFX
trigger1 = time = 43
time = 200
add = 248,112,224
mul = 256,256,256
sinadd = 224,80,176,40
invertall = 0
color = 256

[State 1000, 7]
type = Helper
trigger1 = Time = 43
helpertype = normal
name = "hanbetuyou"
stateno = 13202
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 2]
type = Varset
trigger1 = Time = 43
v = 45
value = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3000]
type = playsnd
trigger1 = animelem = 1
value = 100,2
channel = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ヤワラカクシマス S(超必殺)(スタンド)
[Statedef 13201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13201
sprpriority = 2
facep2 = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 0,2

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,32

[State 230, 2]
type = assertspecial
trigger1 = time >= 14
trigger1 = time%2 = 0
flag = invisible

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
; ヤワラカクシマス 判別用ヘルパー
[Statedef 13202]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 29999
ctrl = 0
sprpriority = 1

[State 1100, VarSet]
type = ParentVarSet
trigger1 = Time = 199
var(45) = 0

[State 1100, dist]
type = AttackDist
trigger1 = 1
value = 0

[State 230, 2]
type = destroyself
trigger1 = time = 200
;---------------------------------------------------------------------------
;ヤワラカクシマス　スパガ
[Statedef 16665]
type = S
physics = N
movetype = I
anim = 30001
ctrl = 0
velset = 0,0
sprpriority = -1

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 2
value = 100,32
channel = 0

[State 1061, 2]
type = Velset
trigger1 = time = 0
y = -0.25
x = -4

[State 1061, 2]
type = Velset
trigger1 = time = 5
y = -0.1
x = -2

[State 1061, 2]
type = Velset
trigger1 = time = 10
y = -0.05
x = -1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 220, 3]
type = ChangeState
trigger1 = Time = 20
value = 6664
;---------------------------------------------------------------------------
; ヤワラカクシマス カウンター 成功
[Statedef 16667]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30003
ctrl = 0
sprpriority = 2

[state 3000]
type = pause
trigger1 = time = 1
time = 15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15
channel = 0

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
pos = -50, -100
postype = p2
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 1,1
pausemovetime = 9999999999999

[State 220, 3]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 420, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ヤワラカクシマス カウンター 成功　son
[Statedef 16668]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30007
ctrl = 0
sprpriority = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[state 3000]
type = pause
trigger1 = time = 1
time = 15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15
channel = 0

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
pos = -50, -100
postype = p2
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 1,1
pausemovetime = 9999999999999

[State 220, 3]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 420, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;罠 弱
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spg"
stateno = 1101
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;罠 弱 スタンド
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "enemyhaneru"
stateno = 1102
id = 11101
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 19300]
type = ChangeState
trigger1 = time <= 14
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;helper 罠
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1099
sprpriority = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 40

[State 240, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128, 128

[State 240, 2]
type = HitDef
trigger1 = time = 0
trigger1 = Enemy,statetype != A
hitflag = M
guardflag = M
attr = S, NA
animtype  = up
damage    = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s30005
guard.sparkno = -1
sparkxy = 50,-100
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0,0
air.velocity = -0,0
fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
p2stateno = 1110
ID = 1100

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1052, 5]
type = destroyself
trigger1 = Time = 100
trigger2 = MoveContact
trigger3 = root,movetype = H
trigger3 = root,stateno != [0,155];立ち～ガード以外。
trigger4 = NumHelper(1120) = 0
;---------------------------------------------------------------------------
;helper 罠 味方はねさす
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1099
sprpriority = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 40

[State 240, 2]
type = HitDef
trigger1 = time = 0
trigger1 = Enemy,statetype != A
guardflag = 
attr = S, NA
animtype  = up
damage    = 0
priority = 4, Hit
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 50,-100
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 1
fall.recovertime = 2
guard.kill = 0
ID = 1120
p2stateno = 1111
affectteam = F

[State 1052, 5]
type = destroyself
trigger1 = Time = 100
trigger2 = MoveContact
trigger3 = root,movetype = H
trigger3 = root,stateno != [0,155];立ち～ガード以外。
trigger4 = NumHelper(11101) = 0
;---------------------------------------------------------------------------
;罠 中
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spg"
stateno = 1104
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;罠　相手転ぶ
[Statedef 1110]
ctrl = 0
movetype= H
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1110

[state 3000]
type = pause
trigger1 = time = 0
time = 10
movetime = 10

[State 5200, 2]
type = Velset
trigger1 = time >= 2 
trigger1 = time <= 8
y = -10

[State 5200, 2]
type = Velset
trigger1 = time >= 9 
trigger1 = time <= 11
y = -8

[State 5200, 2]
type = Velset
trigger1 = time >= 12 
trigger1 = time <= 14
y = -6

[State 5200, 2]
type = Velset
trigger1 = time >= 15
trigger1 = time <= 18
y = -4

[State 5200, 2]
type = Velset
trigger1 = time >= 19
trigger1 = time <= 24
y = -2

[State 5200, 2]
type = Velset
trigger1 = time >= 25
trigger1 = time <= 33
y = 0

[State 5200, 2]
type = Velset
trigger1 = time >= 33
trigger1 = time <= 38
y = 1

[State 5200, 2]
type = Velset
trigger1 = time >= 39
trigger1 = time <= 42
y = 3

[State 5200, 2]
type = Velset
trigger1 = time >= 42
trigger1 = time <= 44
y = 5

[State 5200, 2]
type = Velset
trigger1 = time >= 45
y = 8

[State 170, 1]
type = statetypeset
trigger1 = 1
movetype = H
ignorehitpause = 1

[State 170, 1]
type = SelfState
trigger1 = time >= 58
value = 5050
;---------------------------------------------------------------------------
;罠　味方はねる
[Statedef 1111]
ctrl = 0
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1111

[State 5200, 2]
type = Velset
trigger1 = time = 1
trigger1 = command = "holdfwd"
x = 5
y = -10

[State 5200, 2]
type = Velset
trigger1 = time = 1
trigger1 = command = "holdback"
x = -5
y = -10

[State 5200, 2]
type = Velset
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = time = 1
x = 0
y = -10

[State 170, 1]
type = statetypeset
trigger1 = 1
movetype = I
ignorehitpause = 1

[State 170, 1]
type = SelfState
trigger1 = time >= 5
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;罠 中 スタンド
[Statedef 1104]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "wana"
stateno = 1102
id = 11101
pos = 90, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 90, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 19300]
type = ChangeState
trigger1 = time <= 14
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;罠 強
[Statedef 1105]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spg"
stateno = 1106
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;罠 強 スタンド
[Statedef 1106]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "wana"
stateno = 1102
id = 11101
pos = 130, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 130, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 19300]
type = ChangeState
trigger1 = time <= 14
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;罠 弱 on
[Statedef 11100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "wana"
stateno = 1102
id = 11101
pos = 60, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 60, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 罠　on
[Statedef 11101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1099
sprpriority = 0

[State 240, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128, 128

[State 240, 2]
type = HitDef
trigger1 = time = 0
trigger1 = Enemy,statetype != A
attr = S, NA
animtype  = up
damage    = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -0.5,-10
air.velocity = -0.5,-10
fall = 1
fall.recover = 0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = time = 0
trigger1 = Enemy,statetype = A
attr = S, NA
animtype  = up
damage    = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -0.5,-10
air.velocity = -0.5,-10
fall = 0
fall.recover = 1
guard.kill = 0

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1052, 5]
type = destroyself
trigger1 = Time = 100
trigger2 = MoveContact
;---------------------------------------------------------------------------
;罠 中 on
[Statedef 11103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "wana"
stateno = 1102
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;罠 強 on
[Statedef 11105]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,29
channel = 0  

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "wana"
stateno = 1102
id = 11101
pos = 190, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State -2]
type = Helper
trigger1 = time = 23
trigger1 = numhelper(1120) = 0
helpertype = normal
name = "selfhaneru"
stateno = 1120
id = 1120
pos = 190, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 3

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; マッハ
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1200
sprpriority = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spg"
stateno = 1201
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 12
value = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;マッハ helper
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1201
sprpriority = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,20
channel = 0  

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = ifelse(root,var(40)>5,30,60)
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),11,0)
ground.velocity = -10*const(size.xscale) * (var(14) = 0)
air.velocity = -4*const(size.xscale) * (var(14) = 0),(-6+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
attr = S, SA
damage = ifelse(root,var(40)>5,20,40)
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 16, 14;17
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 20,0
guard.kill = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 4
value = parent,fvar(4)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(4) < 0
fv = 4
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(4) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(4))

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [0,5]
x = 12*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = animelem = 3
x = 1*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 4
x = 0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 18
trigger1 = time%2 = 0
flag = invisible

[State 3900 e];禁止
type = Helper
trigger1 = Time = 0
helpertype = normal
stateno = 1250
id = 1250
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; マッハ中
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1200
sprpriority = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "ge"
stateno = 1211
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 12
value = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;マッハ中 helper
[Statedef 1211]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1202
sprpriority = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,20
channel = 0  

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 60
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),11,0)
ground.velocity = -10*const(size.xscale) * (var(14) = 0)
air.velocity = -4*const(size.xscale) * (var(14) = 0),(-6+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
attr = S, SA
damage = 40
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 16, 14;17
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 20,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 4
value = parent,fvar(4)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(4) < 0
fv = 4
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(4) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(4))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [0,5]
x = 15*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = animelem = 4
x = 1*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 20
trigger1 = time%2 = 0
flag = invisible

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; マッハ強
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1200
sprpriority = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "ge"
stateno = 1221
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 12
value = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;マッハ強 helper
[Statedef 1221]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1203
sprpriority = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,20
channel = 0  

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
guardflag = MA
animtype  = up
damage    = 55
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -2.5,-10
air.velocity = -2.5,2
fall = 1
fall.recover = 0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 4
value = parent,fvar(4)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(4) < 0
fv = 4
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(4) >= 0
fv = 4
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(4) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(4))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [0,5]
x = 20*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = animelem = 4
x = 1*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 24
trigger1 = time%2 = 0
flag = invisible

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
[Statedef 1250];禁止
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 150
;---------------------------------------------------------------------------
;ミスタ
[Statedef 1405]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1400

[State 440, 4]
type = ChangeState
trigger1 = parent,command = "mahha_x"
trigger1 = parent,power >= 500
value = 1406
;---------------------------------------------------------------------------
;ミスタ登場
[Statedef 1406]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1401

[State 810, Throw Sound]
type = Playerpush
trigger1 = 1
value = 1

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1410
time = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 0
value = -500

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 7
trigger1 = time >= 40
x = 6

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 10
x = 8

[State 1010, 移動速度]
type = VelSet
trigger1 = animelem = 6
x = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = p2bodydist X <= 40 ;相手とのＸ軸の距離が４０ピクセル以上の時
value = 1407
;---------------------------------------------------------------------------
;ミスタ攻撃
[Statedef 1407]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1402

[State 810, Throw Sound]
type = Playerpush
trigger1 = 1
value = 1

[state 3003]
type = helper
trigger1 = animelemtime(4) = 1
name = "tama"
helpertype = normal
stateno = 1409
id = 1409
pos = ceil(90*const(size.xscale)),ceil(-85*const(size.yscale))
postype = p1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,24
channel = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,25

[State 1000, 7]
type = nothitby
trigger1 = 1
value = ,AT
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1410
time = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1408
;---------------------------------------------------------------------------
;ミスタ退場
[Statedef 1408]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1403

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1410
time = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = animelem = 3
x = -6

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 10
x = -8

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
; 弾
[Statedef 1409]
type    = A
movetype= A
physics = N
juggle  = 0;0
poweradd= 0
velset = 0,0
anim = 1405
ctrl = 0
sprpriority = 3

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 100,00]
type = Afterimage
trigger1 = animelem = 1
TimeGap = 2
FrameGap = 1
time = 99
length = 5
PalBright = 0,0,0
PalContrast = 255,255,170
PalAdd = 255,255,170
PalMul = .85,.85,.50

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 65
hitflag = MAF
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -5.5*parent,const(size.xscale)
air.velocity = -2*parent,const(size.xscale),-6
air.fall = 1
getpower = 72,0
guard.kill = 0

[State 1000, 7]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
trigger2 = movehit
;---------------------------------------------------------------------------
;ミスタ死亡
[Statedef 1410]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1406

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 100,27
channel = 1

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 0
x = -8

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;マッハS 弱
[Statedef 11200]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd = 30 
ctrl = 0
velset = 0,0
anim = 11100
sprpriority = 2
facep2 = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 9
value = 0,2

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 0
value = 100,20
channel = 0

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [1,2]
x = 11*const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 90,18
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 14
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound   = s100, 32
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -15*const(size.xscale),-4
air.velocity = -15*const(size.xscale),-4
kill = 1 
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 20,0
guard.kill = 0
fall = 1
fall.recover = 0
ground.cornerpush.veloff = -18

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = power >= 1000
trigger1 = P2BodyDist X = [-30,60] 
trigger1 = prevstateno = 100517
trigger1 = movehit
trigger1 = animtime = 0
value = 13500

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;マッハS 中
[Statedef 11210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 35 
ctrl = 0
velset = 0,0
anim = 11103
sprpriority = 2
facep2 = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 0
value = 100,20
channel = 0

[State 200, 7]
type = playsnd
trigger1 = Time = 14
value = 0,2

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [1,2]
x = 15*const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 95,19
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 14
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound   = s100, 32
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -15*const(size.xscale),-6
air.velocity = -15*const(size.xscale),-6
kill = 1 
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 20,0
guard.kill = 0
fall = 1
fall.recover = 0
ground.cornerpush.veloff = -22

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;マッハS 強
[Statedef 11240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 40
ctrl = 0
velset = 0,0
anim = 11104
sprpriority = 2
facep2 = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 18
value = 0,2

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 7]
type = playsnd
trigger1 = Time = 0
value = 100,20
channel = 0

[State 230, 2]
type = velset
trigger1 = animelemtime(3) = [1,3]
x = 25*const(size.xscale)

[State 230, 2]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 95, 20
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 14
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-87*const(size.yscale))
hitsound   = s100, 32
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -15*const(size.xscale),-6
air.velocity = -15*const(size.xscale),-6
kill = 1 
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 20,0
guard.kill = 0
fall = 1
fall.recover = 0
ground.cornerpush.veloff = -25

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;キック
[Statedef 1900]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "spice girl"
stateno = 1901
id = 1001
pos = -10, -30
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック
[Statedef 1901]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1901
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = time = 10
value = 100, 7
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 48,6
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.slidetime = 4
guard.hittime = 4
guard.ctrltime = 4
ground.velocity = -8
air.velocity = -4,-6
guard.kill = 0

[State 215　移動]
type = VelSet
trigger1 = Time >= 15
x = 9
y = 4.5

[State 215　移動]
type = VelSet
trigger1 = helper(1001),stateno != 1901
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1910

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック 落下
[Statedef 1902]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1902
hitcountpersist = 1
sprpriority = 3

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -8
y = -4

[State 215　移動]
type = VelSet
trigger1 = time = 2
x = -4
y = -2

[State 215　移動]
type = VelSet
trigger1 = time = 4
x = -2
y = -1

[State 215　移動]
type = VelSet
trigger1 = time = 6
x = -0
y = -0

[State 215　移動]
type = VelSet
trigger1 = time = 8
x = 0
y = 3

[State 215　移動]
type = VelSet
trigger1 = time = 10
x = 0
y = 6

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1910

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1903
;---------------------------------------------------------------------------
;キック 着地
[Statedef 1903]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1903
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 6, 2

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1910
;---------------------------------------------------------------------------
; 終了(スタンド)
[Statedef 1910]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1910
sprpriority = 0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;キック S 準備
[Statedef 11900]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1904
hitcountpersist = 1
sprpriority = 3

[State 215　移動]
type = VelSet
trigger1 = Time = 0
x = -6
y = -3

[State 215　移動]
type = VelSet
trigger1 = stateno != 11900
x = 0
y = 0

[State 700, ステート変更]
type = ChangeState
triggerall = time >= 5
trigger1 = command != "holdx" 
trigger1 = command != "holdy" 
trigger1 = command != "holdz" 
value = 11902 

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;キック S
[Statedef 11902]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1906
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = time = 0
value = 100, 7
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 100,10
guardflag = HA
priority = 3
pausetime = 15,15
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4,-4
air.velocity = -2,-3
guard.kill = 0
sprpriority = 2
fall = 1
fall.recover = 0

[State 215　移動]
type = VelSet
trigger1 = Time = 0
trigger2 = Time = 2
trigger3 = Time = 4
trigger4 = Time = 6
trigger5 = Time = 8
trigger6 = Time = 10
trigger7 = Time = 12
trigger8 = Time = 14
trigger9 = Time = 16
x = 8
y = 4

[State 215　移動]
type = VelSet
trigger1 = stateno != 11902
x = 0
y = 0

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 11901

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;キック 落下 S
[Statedef 11901]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1902
hitcountpersist = 1
sprpriority = 0

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -4
y = -6

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .25

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
; カウンター終了（弱）
[Statedef 6664]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 30000
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30000
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;カウンター　スパガ
[Statedef 6665]
type = S
physics = N
movetype = I
anim = 30001
ctrl = 0
velset = 0,0
sprpriority = -1

[State 1061, 2]
type = Velset
trigger1 = time = 0
y = -0.25
x = -4

[State 1061, 2]
type = Velset
trigger1 = time = 5
y = -0.1
x = -2

[State 1061, 2]
type = Velset
trigger1 = time = 10
y = -0.05
x = -1

[State 220, 3]
type = ChangeState
trigger1 = Time = 20
value = 6664
;---------------------------------------------------------------------------
; カウンター
[Statedef 6666]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30002
ctrl = 0
sprpriority = 2

[State 1000, 5]
type = explod
trigger1 = animelem = 3
anim = 30006
id = 30006
pos = -10,15
postype = p1
sprpriority = 3
bindtime = -1
removetime = 40
removeongethit = 1
pausemovetime = parent,var(14) * 9999999999999

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,14
channel = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = AnimElemTime(3) = 0
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 6667

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; カウンター 成功
[Statedef 6667]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30003
ctrl = 0
sprpriority = 2

[state 0, helper]
type = helper
trigger1 = time = 0
helpertype = normal
name = "stand"
stateno = 6665
id = 241
pos = 0,10
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1
pausemovetime = 9999999

[State 20054]
type = RemoveExplod
trigger1 = time = 0
id = 30006

[state 3000]
type = pause
trigger1 = time = 1
time = 15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15
channel = 0

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
pos = -50, -100
postype = p2
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 1,1
pausemovetime = 9999999999999

[State 220, 3]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 420, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper ger
[Statedef 6668]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30000
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 7,4

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 100,17
channel = 0  

[State 220, 3]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = animelem = 5
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 15
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 7000
;---------------------------------------------------------------------------
;helper dmg
[Statedef 6669]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30004
sprpriority = 3

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,33

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = up
damage    = 0
guard.dist = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s100, 32
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0.5,-10
air.velocity = 0.5,-10
fall = 1
fall.recover = 0
guard.kill = 0

[State 0, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 片鱗終了(スタンド)
[Statedef 7000]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 30005
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; ワナビーラッシュ(超必殺)
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 191, 3]
type = nothitby
trigger1 = time = 0
value = SCA
time = 66

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 41
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 3301
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ワナビー(スタンド)
[Statedef 3301]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 10*parent,const(size.xscale),0
anim = 3300
sprpriority = 0
facep2 = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 30

[state 3000]
type = playsnd
trigger1 = animelem = 1
value = 100,17
channel = 0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = time = [14,107]
x = 2.8*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = time = 109
x = 0

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 3
range = 0,11

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 15
range = 0,30

[State 10,combo]
type = parentVarset
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
v = 30
value = 1

[State -2,0];
type = parentVaradd
trigger1 = parent,Var(14) = 1
trigger1 = movehit
fv = 2
value = 7 * parent,fvar(19)
ignorehitpause = 1

[State 10,combo]
type = movehitreset
trigger1 = MoveHit
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
trigger11 = AnimElem = 32
trigger12 = AnimElem = 35
trigger13 = AnimElem = 38
trigger14 = AnimElem = 41
trigger15 = AnimElem = 44
trigger16 = AnimElem = 47
attr = S, HA
damage = 7, 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
trigger11 = AnimElem = 32
trigger12 = AnimElem = 35
trigger13 = AnimElem = 38
trigger14 = AnimElem = 41
trigger15 = AnimElem = 44
trigger16 = AnimElem = 47
attr = S, HA
damage = 0
animtype = hard
guardflag = MA
hitflag = MAFD
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
trigger6 = AnimElem = 19
trigger7 = AnimElem = 22
trigger8 = AnimElem = 25
trigger9 = AnimElem = 28
trigger10 = AnimElem = 31
trigger11 = AnimElem = 34
trigger12 = AnimElem = 37
trigger13 = AnimElem = 40
trigger14 = AnimElem = 43
trigger15 = AnimElem = 46
attr = S, HA
damage = 7, 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
trigger6 = AnimElem = 19
trigger7 = AnimElem = 22
trigger8 = AnimElem = 25
trigger9 = AnimElem = 28
trigger10 = AnimElem = 31
trigger11 = AnimElem = 34
trigger12 = AnimElem = 37
trigger13 = AnimElem = 40
trigger14 = AnimElem = 43
trigger15 = AnimElem = 46
attr = S, HA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 49
attr = S, HA
damage = 7, 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 49
attr = S, HA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 109
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 109
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 109
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 109
value = SCA
time = -1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;-------------------------------------------------------------------
;『WIN』ヘルパー
[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 0, 28

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2;バトル中

;---------------------------
;『to be continued』ヘルパー
[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)

;-------------------------------------------------------------------
;KO勝利時の集中線と音helper
[Statedef 20053]
type    = S
;movetype= I
;physics = N
anim = 29999 ;空アニメ
;velset = 0,0
ctrl = 0

[State 20053]
type = Explod
trigger1 = time = 0
anim = 20053
pos = 0,0
postype = left
sprpriority = 10
ownpal = 1
bindtime = -1	;発生させた親に常にくっ付ける
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1	;「ヒット硬直」を無視

[State 20053]
type = PlaySnd
trigger1 = Time = 0
value = 6, 8
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1;とるすと、ヒット停止時間を無視

[State 20053]
type = DestroySelf
trigger1 = time = 120 && RoundState != 3
;-------------------------------------------------------------------
;敗北カットイン
[Statedef 20054]
type = A
anim = 29999
sprpriority = 4

[State 20054]
type = Palfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = Bgpalfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = PlaySnd
trigger1 = time = 0
value = 6,0;ドーン
persistent = 0  ;1回しかステコンが実行されません

[State 20054];敗北カットイン顔の部分
type = helper
trigger1 = time = 0
trigger1 = NumHelper(20058) = 0
stateno = 20058
id = 20058
sprpriority = 1
pos = 0,0
postype = p1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 0
keyctrl = 0

;青の背景
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 510,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 500,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = RemoveExplod
trigger1 = time = 70
trigger2 = RoundState = 4 
id = 20054

[State 20054]
type = AssertSpecial
trigger1 = time = [0,69]
flag = nobg
flag2 = nofg
flag3 = nobardisplay

[State 20054]
type = null;DestroySelf
trigger1 = RoundState != 3
;trigger1 = time = 70 || RoundState != 3
;trigger2 = RoundState = 4 
;----------------------------------------------------
;敗北カットイン顔の部分
[Statedef 20058]
type    = A
;movetype= I
;physics = N
;velset = 0,0
anim = 29999
sprpriority = 4

[State 20058]
type = Explod
trigger1 = time = 0
trigger1 = NumExplod(20058) = 0
anim = 20058
id = 20058
sprpriority = -4
;removetime = -1
bindtime = -1
pos = ifelse(ishometeam=1,ifelse(root,facing = 1,160,180),ifelse(root,facing = -1,180,160)),120
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
scale = 1.5*parent,const(size.xscale),1.5
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = 1,1,-1))
persistent = 0

[State 20058]
type = RemoveExplod
trigger1 = RoundState != 3
id = 20058

[State 20058]
type = DestroySelf
trigger1 = RoundState != 3
;-----------------------------------------------
;カットイン

[Statedef 23100]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3200
sprpriority = -3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 0+var(14)*1,239+var(14)*3
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 30,330
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 60,60
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = 0-var(14)*1,239+var(14)*3
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = -30,330
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1
getpower = 0

[State 1000, 3]
type = ModifyExplod
trigger1 = Time < 30
ID = 23107
scale = (0.4+Var(14)/15.0)*parent,const(size.xscale) , 0.4+Var(14)/15.0
pausemovetime = 999999

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 14
value = 1

[state 3000]
type = removeexplod
trigger1 = time >= 40
id = 23100

[state 3000]
type = destroyself
trigger1 = time >= 40


;-----------------------------------------------
;SC背景

[Statedef 23101]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -5

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = 0,239
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0

[State 1000, 3]
type = PalFx
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
time = 1
add = 255-Var(14),255-Var(14),255-Var(14)

[state 3000]
type = destroyself
trigger1 = time >= 41
;---------------------------------------------------------------------------
; 蹴り(本体　超必殺)
[Statedef 3150]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3150
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 3900]
type = NotHitBy
trigger1 = time <= 55
value = SCA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100,28
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spice girl"
stateno = 3151
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 蹴り　本体　スタンド
[Statedef 3151]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3151
hitcountpersist = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time = 1
x = 10

[State 240, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Light
damage    = 12, 1
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 9
attr = S, NA
animtype  = heavy
damage    = 11, 1
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = 30,-65
hitsound = s1, 3
guardsound = s1,5
ground.type = low
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = light
damage    = 10, 2
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = 10,-45
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 11
attr = S, NA
animtype  = heavy
damage    = 8, 2
guardflag = MA
priority = 4, Hit
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = -15,-15
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
guard.kill = 0
kill = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 20

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 11
value = 0,2

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 240, 4]
type = Changestate
trigger1 = Time = 100
trigger1 = movecontact
value = 3152
ctrl = 0

[State 240, 4]
type = Changestate
trigger1 = Time = 101
value = 1002

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
trigger1 = anim = 13152
value = 1002

;---------------------------------------------------------------------------
;蹴り　超必 締め
[Statedef 3152]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13152
hitcountpersist = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time = 11
x = 5

[State 1027, Sound]
type = PlaySnd
trigger1 = target,life > 10
trigger1 = animelem = 3
value = 100,13
channel = 0  

[State 1027, Sound]
type = PlaySnd
trigger1 = target,life <= 10
trigger1 = animelem = 3
value = 100,38
channel = 0 

[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage = 25
animtype = hard
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 5, 6
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(13)*const(size.yscale))
hitsound   = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -13*const(size.xscale) * (var(14) = 0),-6;(-6+var(19)*1.3) * (var(14) = 0)
air.velocity = -13*const(size.xscale) * (var(14) = 0),-6;(-6+var(19)*1.3) * (var(14) = 0)
fall = 1
fall.recover = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = animTime = 0
value = 1002
;---------------------------------------------------------------------------
;あの世へ行きやがれ
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3500
sprpriority = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 0
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "spg"
stateno = 3540
id = 1001
pos = 15, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 4]
type = ChangeState
trigger1 = helper(1001),stateno = 3550
value = 3510
ctrl = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;あの世へ行きやがれ(成功　本体)
[Statedef 3510]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3510
sprpriority = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;あの世へ行きやがれ スタンド
[Statedef 3540]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 3540
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2100, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage    = 0,0
hitflag = MAF
priority = 7,Miss
pausetime = 10,18
sparkno = s830
sparkxy = -10,-97
hitsound = s1, 3
p2facing = 1
P1stateno = 3550
P2stateno = 3600
getpower = 0,0
givepower = 0,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 100,13
channel = 0  

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 230, 2]
type = assertspecial
trigger1 = time >= 20
trigger1 = time%2 = 0
flag = invisible

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;あの世へ行きやがれ（成功）
[Statedef 3550]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3550
sprpriority = 2

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 1000, 5]
type = explod
trigger1 = time = 75
trigger2 = time = 130
trigger3 = time = 185
anim = 870
id = 870
pos = 16,-112
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 0.5,1

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 30,0
time = -1
ignorehitpause = 1
persistent = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 75
trigger2 = time = 130
trigger3 = time = 185
value = 100, 35

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 75
trigger2 = time = 130
value = -50
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 185
value = -80

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 40
value = 100, 34

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = time = 230
value = 3560
;---------------------------------------------------------------------------
; あの世終了
[Statedef 3560]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3560
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3560
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1
persistent = 0

[State 230, 2]
type = destroyself
trigger1 = time = 40
;---------------------------------------------------------------------------
;あの世へ行きやがれ（成功　相手側）
[Statedef 3600]
type = L
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2105, 1]
type = ChangeAnim2
trigger1 = anim != 3600
trigger1 = !time
value = 3600

[State 2105, 1]
type = ChangeAnim2
trigger1 = anim != 3601
trigger1 = time = 240
value = 3601

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = Time = 270 && !alive
value = 5150

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = Time = 270
value = 5120

;---------------------------------------------------------------------------
;ONあの世へ行きやがれ
[Statedef 13500]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13500
sprpriority = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 41
value = 100,13
channel = 0  

[state 3000]
type = pause
trigger1 = time = 0
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 2100, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage    = 0,0
hitflag = MAF
priority = 7,Miss
pausetime = 10,18
sparkno = s830
sparkxy = -10,-97
hitsound = s1, 3
p2facing = 1
P1stateno = 13550
P2stateno = 13600
getpower = 0,0
givepower = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ONあの世へ行きやがれ（成功）
[Statedef 13550]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3550
sprpriority = 2

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 1000, 5]
type = explod
trigger1 = time = 75
trigger2 = time = 130
trigger3 = time = 185
anim = 870
id = 870
pos = 16,-112
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = 0.5,1

[State 200, 7]
type = TargetBind
trigger1 = time = 0
trigger1 = numtarget
pos = 30,0
time = 10
ignorehitpause = 1
persistent = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 75
trigger2 = time = 130
trigger3 = time = 185
value = 100, 35

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 75
trigger2 = time = 130
value = -50
kill = 0

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 185
value = -80

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 40
value = 100, 34

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = time = 230
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;あの世へ行きやがれ（成功　相手側）
[Statedef 13600]
type = L
movetype = H
physics = S
velset = 0,0
sprpriority = -1

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2105, 1]
type = ChangeAnim2
trigger1 = anim != 3600
trigger1 = !time
value = 3600

[State 2105, 1]
type = ChangeAnim2
trigger1 = anim != 3601
trigger1 = time = 240
value = 3601

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = Time = 270 && !alive
value = 5150

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = Time = 270
value = 5120

;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;まずon、offの記述はこんな感じ。
;ｽｲｯﾁ式？ではなく、直接10000を入れてます。var(49)は10000か0

;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 1
anim = 10001
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810, Throw Sound]
type = Playerpush
trigger1 = 1
value = 1

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.93, 1.02

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = Time = 60
value = 0
ctrl = 1
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 16001]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9997
scale = 0.93, 1.02
sprpriority = 2
ownpal = 1
removetime = 1

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------------
;スタンド発現（空中）
[Statedef 16002]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10043;10122
poweradd = 0
;velset = 0,0 ;これしたら速度が0,0になる。ぴたっと止まってしまう。

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9995
scale = 0.93, 1.02
sprpriority = 2
ownpal = 1
removetime = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10822, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10822, ゴールドE！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;---------------------------------------------------------------------------
;あれれー
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(44) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(44) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 41      
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(43) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201    
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 830]
type = S
physics = S
ctrl = 1
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1

;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself  ;ｼﾞｮﾙﾉの絵を消す条件
trigger1 = parent,var(49) = 0  ;ｽﾀﾝﾄﾞoffのとき
;trigger2 = !Alive      ;onで死んだら-2で(49)=0にしてる。
;                       ;その後で↑trigger1が反応すればいい。

trigger2 = parent,movetype = H && parent,stateno != [5000,5210]
trigger2 = parent,movetype = H && parent,anim != [10000,15210]
;これは相手にｽﾃｰﾄ奪われた時。(投げられ時など)
;-2で、ｽﾃｰﾄ奪われたら(49)=0にしてた。
;その後で↑trigger1が反応してたから消すのが数ﾌﾚｰﾑ遅れていた。
;ので、ここで即消す。

[State 10000,ｼﾞｮﾙﾉのほうが上に表示したい]
type = SprPriority
trigger1 = 1
value = 2

[State 10000] 
type = ChangeAnim
triggerall = anim != 10196
trigger1 = parent,anim = 10195
value = 10196

[State 10000 立ち弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10200
value = 10201

[State 10000 立ち弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10205
value = 10201

[State 10000 ダッシュ立ち弱] 
type = ChangeAnim
triggerall = anim != 10202
trigger1 = parent,anim = 10206
value = 10202

[State 10000 立ち中] 
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10210
value = 10211

[State 10000 立ち前中] 
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10215
trigger2 = parent,anim = 10225
value = 10211

[State 10000 立ち中２] 
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10220
value = 10211

[State 10000 立ち強] 
type = ChangeAnim
triggerall = anim != 10241
trigger1 = parent,anim = 10240
trigger2 = parent,anim = 10245
value = 10241

[State 10000 屈み弱] 
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,anim = 10400
value = 10401

[State 10000 屈み中] 
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,anim = 10410
value = 10411

[State 10000 屈み強] 
type = ChangeAnim
triggerall = anim != 10443
trigger1 = parent,anim = 10440
trigger2 = parent,anim = 10445
value = 10443

[State 10000 屈み中] 
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10600
trigger2 = parent,anim = 10610
value = 10601

[State 10000 屈み中] 
type = ChangeAnim
triggerall = anim != 10641
trigger1 = parent,anim = 10640
value = 10641

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000]
type = Width
trigger1 = 1
value = 0,0

[State 10000]
type = ChangeAnim
triggerall = anim != 5072
trigger1 = parent,anim = 15070
value = 5072

[State 10000] 
type = ChangeAnim
triggerall = anim != 0
trigger1 = parent,anim = 10048
value = 0

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,anim = [10041,10046]
trigger11 = parent,anim = 10100
trigger12 = parent,anim = 10101
trigger13 = parent,anim = 10105
trigger15 = parent,anim = [15000,15027]
trigger16 = parent,anim = 15030
trigger17 = parent,anim = 15040
trigger18 = parent,anim = 15050
trigger19 = parent,anim = 15051
trigger20 = parent,anim = 15061
trigger21 = parent,anim = [15070,15071]
trigger22 = parent,anim = 10101
trigger23 = parent,anim = 10047
trigger24 = parent,anim = 10048
trigger25 = parent,anim = 15005
trigger26 = parent,anim = 10044
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 1907
trigger1 = parent,anim = 1904
value = 1907

[State 10000]
type = ChangeAnim
triggerall = anim != 1905
trigger1 = parent,anim = 1906
value = 1905

[State 10000]
type = ChangeAnim
triggerall = anim != 1908
trigger1 = parent,anim = 1902
value = 1908

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10120
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10130
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10140
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10150
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10121
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10131
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10141
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10151
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10122
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10132
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10142
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10152
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10670
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10650
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10620
value = 9996

[State 10000] ;マッハ
type = ChangeAnim
triggerall = anim != 11101
trigger1 = parent,anim = 11100
value = 11101

[State 10000] ;マッハ
type = ChangeAnim
triggerall = anim != 11102
trigger1 = parent,anim = 11103
trigger2 = parent,anim = 11104
value = 11102

[State 10000] ;ガーキャン
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11800
value = 11001

[State 10000] ;ワナビー弱
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11000
value = 11001

[State 10000] ;ワナビー中
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11010
value = 11001

[State 10000] ;ワナビー強
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11040
value = 11001

[State 10000] ;ワナビーラッシュ
type = ChangeAnim
triggerall = anim != 13150
trigger1 = parent,anim = 13151
value = 13150

[State 10000] ;ワナビーラッシュ
type = ChangeAnim
triggerall = anim != 13301
trigger1 = parent,anim = 13300
value = 13301

[State 10000] ;罠
type = ChangeAnim
triggerall = anim != 11201
trigger1 = parent,anim = 11200
value = 11201

[State 10000] ;罠
type = ChangeAnim
triggerall = anim != 13560
trigger1 = parent,anim = 3550
value = 13560

[State 10000] ;罠
type = ChangeAnim
triggerall = anim != 13550
trigger1 = parent,anim = 13500
value = 13550

[State 10000] ;ヤワラカクシマス　成功
type = ChangeAnim
triggerall = anim != 30003
trigger1 = parent,anim = 30007
value = 30003

[State 10000] 
type = ChangeAnim
triggerall = anim != 10180
trigger1 = parent,anim = 10181
value = 10180

[State 10000]
type = ChangeAnim
triggerall = anim != 6000
trigger1 = parent,anim = 15000
value = 6000

[State 10000]
type = ChangeAnim
triggerall = anim != 6001
trigger1 = parent,anim = 15001
value = 6001

[State 10000]
type = ChangeAnim
triggerall = anim != 6002
trigger1 = parent,anim = 15002
value = 6002

[State 10000]
type = ChangeAnim
triggerall = anim != 6010
trigger1 = parent,anim = 15010
value = 6010

[State 10000]
type = ChangeAnim
triggerall = anim != 6011
trigger1 = parent,anim = 15011
value = 6011

[State 10000]
type = ChangeAnim
triggerall = anim != 6012
trigger1 = parent,anim = 15012
value = 6012

[State 10000]
type = ChangeAnim
triggerall = anim != 6020
trigger1 = parent,anim = 15020
value = 6020

[State 10000]
type = ChangeAnim
triggerall = anim != 6021
trigger1 = parent,anim = 15021
value = 6021

[State 10000]
type = ChangeAnim
triggerall = anim != 6022
trigger1 = parent,anim = 15022
value = 6022

[State 10000]
type = ChangeAnim
triggerall = anim != 6030
trigger1 = parent,anim = 15030
value = 6030

[State 10000]
type = ChangeAnim
triggerall = anim != 6035
trigger1 = parent,anim = 15035
value = 6035

[State 10000]
type = ChangeAnim
triggerall = anim != 801
trigger1 = parent,anim = 805
value = 801

[State 10000]
type = ChangeAnim
triggerall = anim != 10002
trigger1 = parent,anim = 10001
value = 10002

[State 10000]
type = ChangeAnim
triggerall = anim != 5040
trigger1 = parent,anim = 15040
value = 5040

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 150
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 151
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 152
value = 1
ignorehitpause = 1

[State 0];地上弱
type = SprPriority
trigger1 = parent,anim = 10200
value = 1
ignorehitpause = 1

[State 0];地上前弱
type = SprPriority
trigger1 = parent,anim = 10205
value = 1
ignorehitpause = 1

[State 0];地上中
type = SprPriority
trigger1 = parent,anim = 10210
value = 1
ignorehitpause = 1

[State 0];地上前中
type = SprPriority
trigger1 = parent,anim = 10215
value = 1
ignorehitpause = 1

[State 0];地上強
type = SprPriority
trigger1 = parent,anim = 10240
value = 1
ignorehitpause = 1

[State 0];屈み弱
type = SprPriority
trigger1 = parent,anim = 10400
value = 1
ignorehitpause = 1

[State 0];屈み中
type = SprPriority
trigger1 = parent,anim = 10410
value = 1
ignorehitpause = 1

[State 0];空中弱
type = SprPriority
trigger1 = parent,anim = 10600
value = 1
ignorehitpause = 1

[State 0];空中中
type = SprPriority
trigger1 = parent,anim = 10610
value = 1
ignorehitpause = 1

[State 0];空中強
type = SprPriority
trigger1 = parent,anim = 10640
value = 1
ignorehitpause = 1

[State 0];ワナビー弱
type = SprPriority
trigger1 = parent,anim = 11000
value = 1
ignorehitpause = 1

[State 0];ワナビー中
type = SprPriority
trigger1 = parent,anim = 11010
value = 1
ignorehitpause = 1

[State 0];ワナビー強
type = SprPriority
trigger1 = parent,anim = 11040
value = 1
ignorehitpause = 1

[State 0];ワナビーラッシュ
type = SprPriority
trigger1 = parent,anim = 13300
value = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = parent,anim = 1904
value = 1
ignorehitpause = 1

[State 0];ガーキャン
type = SprPriority
trigger1 = parent,anim = 11800
value = 1
ignorehitpause = 1

;===========================================================================
; 特殊技
;===========================================================================
;回り込み
[Statedef 30]
type = S
physics = N
movetype = I
anim = 30
ctrl = 0
velset = 0,0

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time <= 35
value = SCA,NT,ST,HT
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 1
x = 6.5

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 30]
type = PlaySnd
trigger1 = time = 1
value = 100,14

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 36
value = 1

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 2
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-70
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 100,39
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14000]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14005]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153

;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,18

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;--------------------------------------------------------------------------
;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(1)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(1)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(1) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = parent,stateno = [10820,10822];スタンド発現ｽﾃｰﾄ
trigger1 = NumHelper(20026) = 0
trigger2 = parent,stateno = [16001,16002];スタンド発現ｽﾃｰﾄ
trigger2 = NumHelper(20026) = 0
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999

;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5001]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 4     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 100, 1     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 35             ;velSetと同じﾀｲﾐﾝｸﾞで
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 35
value = 5071;足払いでこけるｽﾃｰﾄへ
ctrl = 1;これはいらないかも。

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = AnimTime = 0 ;5000や5001はvel0,0設定なのでとまってしまうから。
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16011]
type = PlaySnd
trigger1 = time = 0
value = 3, 13     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 3, 12     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 35;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 35
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
[Statedef -2]

[State -2, 補正リセット]
type=varset
trigger1=!numtarget
var(40)=0

[State -2, ヒット数加算]
type=varadd
triggerall=numtarget
triggerall=enemynear,movetype=h
triggerall=enemynear,gethitvar(hitcount)>var(40)
triggerall=stateno != 13150 && stateno != 13000
trigger1=movehit
trigger2=projhittime(0)=0
;ヘルパー用
trigger3=numhelper(2)
trigger3=helper(2),movehit=1+(movetype!=a)
var(40)=1

[State -2, 補正適用]
type=attackmulset
trigger1 = var(40) = [1,22]
;trigger1=var(40)>=1
trigger1=1
value=1.00-0.04*var(40)

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=22
value=0.1

[State -2, 補正リセット]
type=attackmulset
trigger1=var(40)=0
trigger1=1
value=1.00

[State -2, デバック(変数確認)]
Type = DisplayToClipBoard
Trigger1 = 1
Text = "var(59)=%d,var(40)=%d\n"
Params = var(59),var(40)
IgnoreHitPause = 1

[State -2, 距離確認デバック]
type = AppendToClipboard
trigger1 = 1
text =  "P2X:%f,P2Y:%f,Vx%f,Vy%f,Py%f \n"
params = P2BodyDist x,P2BodyDist y,vel x,vel y,Pos y
IgnoreHitPause = 1

;ガードのときｽﾀﾝﾄﾞの手を表示する

[State -2]
type = Explod
trigger1 = Anim = [130,132];ガード受付。
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
trigger1 = numhelper(2) = 0
anim = 133
postype = p1
pos = 0,0+IfElse(StateType=C,40,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
scale = 0.9,0.9

[State -2]
type = Explod
trigger1 = Anim = 150
trigger1 = numhelper(2) = 0
anim = 134
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
scale = 0.9,0.9

[State -2]
type = Explod
trigger1 = Anim = 151
trigger1 = numhelper(2) = 0
anim = 134
postype = p1
pos = 0,30
sprpriority = 2
ownpal = 1
scale = 0.9,0.9

[State -2]
type = Explod
trigger1 = Anim = 152
trigger1 = numhelper(2) = 0
anim = 134
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
scale = 0.9,0.9
;---------------------------------------------------------------------------
[State -2];カウンター腕消去
type = removeexplod
trigger1 = stateno != 6666
id = 30006
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];立ち強判定リセット
type = varset
triggerall = numhelper(11101) = 0
triggerall = NumHelper(1001) = 0 
trigger1 = stateno = 0 || stateno = 11 || movetype = H
var(29) = 0
;---------------------------------------------------------------------------
;ヤワラカクシマス
[State -2]
type = HitOverride
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1001) = 0 
triggerall = NumHelper(2) = 0
trigger1 = var(49) = 0 ;ｽﾀﾝﾄﾞoff
trigger1 = var(45) = 1
trigger1 = statetype != A
trigger1 = movetype != H
attr = SCA,AA
stateno = 16667
time = 1
ignorehitpause = 1

;ヤワラカクシマス　son
[State -2]
type = HitOverride
triggerall = NumHelper(1900) = 0 
triggerall = NumHelper(1001) = 0 
triggerall = NumHelper(2) = 0
trigger1 = var(49) = 10000 ;ｽﾀﾝﾄﾞon
trigger1 = var(45) = 1
trigger1 = statetype != A
trigger1 = movetype != H
attr = SCA,AA
stateno = 16668
time = 1
ignorehitpause = 1
;---------------------------------------------------------------------------
State -2];スタンド出現時にガード不可にする
type = AssertSpecial
trigger1 = NumHelper(1900) = 1 
trigger2 = NumHelper(1001) = 1 
trigger3 = NumHelper(2) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1
;---------------------------------------------------------------------------
;空中ダッシュ判定
[state -2, var]
type = varadd
trigger1 = var(18) > 0
var(18) = -1

[state -2, var]
type = varset
triggerall = !time
trigger1 = stateno = 111
trigger2 = stateno = 116
var(18) = 24

[state -2, var]
type = varset
trigger1 = var(18) <= 0
trigger1 = command != "holdfwd" && command != "holdback"
var(18) = 0
;---------------------------------------------------------------------------
[State -2];SGの絵をﾄﾘｯｼｭに戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000 ;ｽﾀﾝﾄﾞonかつ
trigger1 = alive = 0       ;死んだ時かつ
trigger1 = animTime = 0    ;やられた瞬間のｱﾆﾒが終わってから!
;つまり、ふっとび開始→ふっとび　になる時に消し、ｼﾞｮﾙﾉに戻す。
;その後、var(49) = 0を認識してｼﾞｮﾙﾉの絵が消える。

trigger2 = var(49) = 10000 && movetype = H;ｽﾀﾝﾄﾞonかつ
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14000,14005]
;ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のとき。つまり、相手にｽﾃｰﾄ奪われた時
;投げ終わりにSelfStateでｺﾓﾝやられｽﾃｰﾄに返されるが、相手先で参照するDefは[5000,5210]ではない！落ち着いて考えろ
;ちなみにｽﾀﾝﾄﾞｸﾗｯｼｭのｽﾃｰﾄは16010あたり。
;つまり、ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のときに含まれる。

trigger2 = movetype = H && anim != [15000,15210]
;さらに、ｺﾞｰﾙﾄﾞｴｸｽﾍﾟﾘｴﾝｽのｱﾆﾒ以外に変更された時に。
;こうすることでDIOの時止めな感じの投げに対応できた。
;---------------------------------------------------------------------------
[State -2,];ガード不可。
type = AssertSpecial
trigger1 = NumHelper(2) = 1
trigger2 = NumHelper(1001) = 1
trigger3 = NumHelper(1900) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
;---------------------------------------------------------------------------
[State -2,];ﾊﾞｸﾞったとき用。
type = DestroySelf
trigger1 = NumHelper(2) = 1
trigger1 = helper(2),stateno = 0
;---------------------------------------------------------------------------
[State -2,];保険
type = changeanim
trigger1 = Var(49) = 10000
trigger1 = anim = 6
value = 10011
;---------------------------------------------------------------------------
;敗北
[State -2]
type = Helper
trigger1 = (enemynear,stateno = [2000,4999]) || (enemynear,stateno = [12000,14999])
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && LoseKO = 1 && NumHelper(20054) = 0
;RoundState	3: Pre-over - 決着がついた瞬間
;LoseKO		そのラウンドで負けた場合、1を返します
ID = 20054
pos = 0,0
stateno = 20054
ownpal = 1

;KO勝利時集中線と音
[State -2]
type = Helper
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && WinKO && NumHelper(20053) = 0
ID = 20053
pos = 0,0
stateno = 20053
ignorehitpause = 1;とるすと、ヒット停止時間を無視
ownpal = 1

[State -2]
type = AssertSpecial
trigger1 = winko   ;勝ったとき
flag = nobardisplay;ゲージ類を非表示にします。
ignorehitpause = 1

;WIN
[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180    ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2  ; || は、もしくは
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

;to be continued
[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180            ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2 ; || は、もしくは
trigger1 = matchover                ;ﾗｳﾝﾄﾞ取って、試合が終わったとき。
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999
;---------------------------------------------------------------------------
;スタンドが相手にめりこまないようにする
[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = Var(49) = 10000
trigger1 = 1
value = 10,0
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = A
value = 15020
ctrl = 0

;---------------------------------------------------------------------------
;空中ジャンプ回数リセット
[State -2]
type = VarSet
trigger1 = statetype != A
;trigger1 = var(4) = 0
var(4) = 1
;---------------------------------------------------------------------------
[State -2];ヘルパーやろう
type = helper
trigger1 = var(43) = 1
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5657
ownpal = 1
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;---------------------------------------------------------------------------
[State -2];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = var(2) = 1
trigger1 = time >= 40
var(2) = 0
;---------------------------------------------------------------------------

[State -2];ｽﾀﾝﾄﾞonの時ｼﾞｮﾙﾉを表示させます
;-2でﾍﾙﾊﾟｰ出してるから投げられた時もｼﾞｮﾙﾉを消せる。たぶん
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 0
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000
flag = noshadow           
ignorehitpause = 1

[Statedef 10000]
type = U
physics = N
anim = 1
velset = 0,0

;---------------------------------------------------------------------------
; ここから下は-3のステートを書いてください、ここに書いたものはゲーム中
; に条件が成立すればいつでも開始するステートです。
;---------------------------------------------------------------------------
[Statedef -3]

;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(1) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 1
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(1) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 1
value = -(gethitvar(damage)/4)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(1) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 1
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(1) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 1
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(1) > 80
fv = 1
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(1) >= 10
var(7) = 0