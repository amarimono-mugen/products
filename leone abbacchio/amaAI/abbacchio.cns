; サンプルキャラクター『カンフーマン』のコンスタンツとステートのファイルです。
;===========================================================================
; コンスタンツ（定数）
;===========================================================================
;---------------------------------------------------------------------------
; ここがキャラの心臓部とも言うべき場所。
; １キャラ単位のライフや大きさなど、標準のステータスを予め決めておく部分。
; このコーナー自体省略出来ません。
;---------------------------------------------------------------------------
; 基本データ
;---------------------------------------------------------------------------
[Data]
life              = 1000   ;ライフ（体力ゲージ）最大値
power             = 10000   ;パワーゲージ最大値（オプション・デフォルトは3000=Lv.3）
attack            = 100    ;攻撃力（デフォルトは１００％）
defence           = 100    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に倒れている時間（フレーム）
airjuggle         = 15     ;ジャグルポイント限界値（「小ネタ.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパーク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガードスパーク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 0      ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex   = 59     ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める（※１）
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める（※１）

;---------------------------------------------------------------------------
; ※１：変数のラウンド持ち越し方法
;
; 　変数を次のラウンドへ持ち越したい場合は、↑の
; 　「IntPersistIndex」と「FloatPersistIndex」を使う。
; 　そのやり方はM.U.G.E.Nの説明書にすら載ってないので、ここで例を元に解説。
;
; 　①IntPersistIndex = 23　（Var(23)～Var(59)までを全て次のラウンドへ持ち越せる）
; 　②FloatPersistIndex = 18（FVar(18)～FVar(39)までを全て次のラウンドへ持ち越せる）
;
; 　つまり「Var(**)（Fvar(**)）以降全ての変数を持ち越す」という命令になる。
; 　それ以前のアドレスの変数は全て持ち越さなくなる。
;
; 　全ての変数を持ち越さない場合は、
; 　IntPersistIndexは60以上、FloatPersistIndexは40以上にしておこう。
;
; 　×これはダメ×
; 　　①IntPersistIndex = 10,15,20,25　（15,20,25の部分は意味無し）
; 　　②FloatPersistIndex = 4,16 　　　（16の部分は意味無し）
; 　　これらは最初の数字以外全て無効。
; 
;---------------------------------------------------------------------------
; 改訂前の和訳ＫＦＭではPersistIndexの解釈が無茶苦茶間違ってました。
; 大変失礼致しました。(人・ω・｀)ごめんなさい
; 今回はちゃんと調べて正確な情報を載せてるんで安心してください（苦笑
;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale           = .9      ;キャラの横の大きさ（絶対値・float）
yscale           = 1.05    ;キャラの縦の大きさ（絶対値・float）
;xscale          = .833    ;キャラの横の大きさ（絶対値・float）
;yscale          = 1       ;キャラの縦の大きさ（絶対値・float）
ground.back      = 15      ;地上にいる時の「後方の物理的な幅」
ground.front     = 16      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 160     ;相手がガード態勢に入る最低の距離
proj.attack.dist = 90      ;自分の「Projectile」に対して相手がガード態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = -5,-90  ;キャラの標準の頭の座標（Bind系で適用される）
mid.pos          = -5,-60  ;キャラの標準の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標
draw.offset      = 0,0     ;キャラの表示座標（Ｘ軸,Ｙ軸）

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 3.01         ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.08        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 9,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -10,0   ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu = 0,-11.8     ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back = -3.18      ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd = 3.42        ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -4.5,-11	;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4.5,-11	;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu  = 0,-5.4      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.8       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.8         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; 運動関係
;---------------------------------------------------------------------------
[Movement]
 airjump.num = 0       ;空中ジャンプが出来る回数
airjump.height  = 28       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel = .6		      ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "グラッツェ！"
victory2 = "大切なのは\n真実に向かおうとする意思だ！"
victory3 = "お茶でも飲んで話でもしようや"
;===========================================================================
; ステート
;===========================================================================
;---------------------------------------------------------------------------
; ここからはキャラのそれぞれの行動（ステート）を設定する。
; 番号（ステートナンバー）に気を付ければ良いだけで、
; 行動の決め方もステートの数も作りたいキャラによって自由。
;
; 本来ステートは別のファイルとして扱っているものだけど、
; このようにコンスタンツファイルと一緒にまとめる事も可能。
;
; ステートの基本的な設定はおまけフォルダの「テンプレート.txt」を参照。
;===========================================================================
; 基本行動
;===========================================================================
;---------------------------------------------------------------------------
;タイムオーバー（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1 ;トリガーを何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利ポーズ分岐（common1.cnsには無いけど、これもコモンステート）
[Statedef 180]
type = S

[State 195, 2]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 184

[State 180, otya]
type=changestate
triggerall = var(49) = 0
trigger1= prevstateno=183 
value=prevstateno

[State 180, ステート変更]
type = ChangeState
triggerall = var(49) = 0
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[state 0, helper]
type = helper
trigger1 = time = 1
helpertype = normal
name = "win"
stateno = 9100
id = 9100

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(182) = 0
helpertype = normal
name = "MB"
stateno = 182
id = 182
pos = 0, 5
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 20
value = 4,9
channel = 0

[State 191, 2] 
type = AssertSpecial
trigger1 = Time = [0,130]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;MB helper
[Statedef 182]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 182
sprpriority = 3

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------------------------------------------------------------
;勝利ポーズ （お茶）
[Statedef 183]
type = S
anim = 187

[state 0, helper]
type = helper
triggerall = numhelper(9100) = 0
trigger1= prevstateno=180 
trigger1 = time = 1
helpertype = normal
name = "win"
stateno = 9100
id = 9100

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, win]
type=changestate
trigger1= prevstateno=3301 && time=100
value=180
ctrl=1
;---------------------------------------------------------------------------
;on時勝利ポーズ
[Statedef 184]
type = S
ctrl = 0
anim = 10184
velset = 0,0

[state 0, helper]
type = helper
trigger1 = time = 1
helpertype = normal
name = "win"
stateno = 9100
id = 9100

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 20
value = 4,9
channel = 0

[State 191, 2] 
type = AssertSpecial
trigger1 = Time = [0,130]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 4
channel = 0

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = animTime = 0
value = 0
;---------------------------------------------------------------------------
; ※２：AssertSpecial
;
; 　他のコントローラでは設定出来ない『特殊な効果』を指定する命令。
; 　設定したトリガーが有効になってる間だけ一時的に適用される。
;
; 　適用出来るパラメータはこのコントローラを一つ設置する場合、最大３つまで。
; 　書式としては「flag」「flag2」「flag3」を順に加えていく形。
; 　flag2とflag3はオプション。ではその特殊効果を全て紹介。
;
; 　Intro          = イントロ（試合開始前の登場演出アクション）の状態になる。イントロステート専用。
; 　Invisible      = 自分の姿を消す。しかし残像（AfterImage）は消せない。
; 　RoundNotOver   = 現在のラウンドを過ぎない。勝利ポーズ専用。
; 　NoBarDisplay   = ライフバーを非表示にする。
; 　NoBG           = ステージの奥の画像を非表示にし、「真っ黒の背景」にする。
; 　NoFG           = ステージの手前の画像を非表示にする。
; 　NoStandGuard   = 立ちガードが出来なくなる。
; 　NoCrouchGuard  = しゃがみガードが出来なくなる。
; 　NoAirGuard     = 空中ガードが出来なくなる。
; 　NoAutoTurn     = 自動で振り向かない。
; 　NoJuggleCheck  = ジャグルをチェックしない。（ジャグルポイントが減らなくなる）
; 　NoKOSnd        = ＫＯ時の音声（11,0）を鳴らさないようにする。画面中に存在する全員に有効なので注意。
; 　NoKOSlow       = ＫＯ時のスローモーションを無効にする。（ＫＯ直前に有効にしないといけない）
; 　NoShadow       = 自分の影を消す。
; 　GlobalNoShadow = 画面中に存在する全てのプレイヤー（ヘルパーとProjectileも含む）の影を消す。
; 　NoMusic        = 演奏しているＢＧＭを止める。（プラグインによってはＢＧＭがバグるので要注意）
; 　NoWalk         = 歩かない。（前か後ろのキーを入力中コントロールが可能の時に勝手に[Statedef 20]にならない）
; 　TimerFreeze    = タイムカウント（制限時間）を停止する。
; 　UnGuardable    = 自分の全ての攻撃が『ガード不可』になる。
;
;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

[State 195, 2]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 197

[State 0, var]
type = varrandom
trigger1 = !time
v = 9
range = 0,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 4, 6
channel = 0

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 196
id = 1001
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.9
size.yscale = 1.00

[State 195, コントロール]
type = CtrlSet
trigger1 = Time = 116 ;このステートが４０フレームになったら
value = 1            ;キーコントロールが可能になる。

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;MB helper
[Statedef 196]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 196
sprpriority = 3

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 195, 2]
type = Changeanim
trigger1 = parent,var(9) = 1
trigger1 = time = 0
trigger1 = anim != 184
value = 184

[State 195, 2]
type = Changeanim
trigger1 = parent,var(9) = 2
trigger1 = time = 0
trigger1 = anim != 185
value = 185

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
;---------------------------------------------------------------------------
;MB 
[Statedef 197]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 196
sprpriority = 3

[State 0, var]
type = varrandom
trigger1 = !time
v = 9
range = 0,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 4, 6
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 195, 2]
type = Changeanim
trigger1 = var(9) = 1
trigger1 = time = 0
trigger1 = anim != 184
value = 184

[State 195, 2]
type = Changeanim
trigger1 = var(9) = 2
trigger1 = time = 0
trigger1 = anim != 185
value = 185

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===========================================================================
; 通常攻撃技
;===========================================================================
;---------------------------------------------------------------------------
; 通常技はそんなに難しいテクニックは使ってないから、
; テンプレートを見ながら確認すれば覚えやすいと思う。
; 基本忘るべからず。
;
; ステートナンバーは、立ち技が２００～２９９、しゃがみ技が４００～４９９、
; ジャンプ技が６００～６９９の間で決めて作るのが一般的。
; しかし強制じゃないので自由に作っちゃってＯＫ。
;---------------------------------------------------------------------------
;立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((23*fvar(0))<7,7,(23*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
guard.kill = 0
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 200

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱パンチ
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 20*!(var(23)=1)
sprpriority = 2
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((23*fvar(0))<7,7,(23*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 201

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;D立ち弱パンチ
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1100, Position]
type = velset
trigger1 = AnimElem = 3
x = 15

[State 1100, Position]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1100, Position]
type = velset
trigger1 = AnimElem = 5
x = 5

[State 1100, Position]
type = velset
trigger1 = AnimElem = 6
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((23*fvar(0))<7,7,(23*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 201

[State 52, 2];コンボB締めへ
type = ChangeState
value = 215
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = prevstateno = 52
trigger1 = Time >= 7
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = statetype != A

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中パンチ
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210, アニメ変更]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
value = 210
elem = 6
ignorehitpause = 1
persistent = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 6
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((57*fvar(0))<7,7,(57*fvar(0)))),4
guardflag = MA
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 210

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;D立ち中
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 215]
type = VelSet
trigger1 = time = 0
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 15

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 2

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((40*fvar(0))<7,7,(40*fvar(0)))),4
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 215

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
TriggerAll= EnemyNear,StateType != A
triggerall = var(49) = 0
triggerall = numhelper(1001) = 0
triggerall = numhelper(2) = 0
triggerall = var(7) = 0
trigger1 = life <= 300
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = statetype != A
value = 3000

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
TriggerAll= EnemyNear,StateType != A
triggerall = var(49) = 0
triggerall = numhelper(1001) = 0
triggerall = numhelper(2) = 0
triggerall = var(7) = 0
trigger1 = life <= 600
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = statetype != A
value = 3900

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(1001) = 0
triggerall = numhelper(2) = 0
triggerall = var(7) = 0
trigger1 = prevstateno = 400
Trigger1 = EnemyNear,statetype != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = statetype != A

trigger2 = life >= 800
trigger2 = movecontact && EnemyNear,movetype = H
trigger2 = P2BodyDist X = [-20,100] 
trigger2 = P2BodyDist Y = [-100,80]
trigger2 = statetype != A
value = 14000

[State 52, 2];デム時追撃
type = ChangeState
value = 400
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 1
trigger1 = time >= 10 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X = [-50,20] 
trigger1 = statetype != A

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 30

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 2

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((48*fvar(0))<7,7,(48*fvar(0)))),4
guardflag = MA
pausetime = 13,13
sparkno = s820
sparkxy = -10,-40
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
triggerall = power >= 1000
trigger1 = life <= 300 
triggerall = prevstateno = 205
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 3900

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
triggerall = power >= 1000
trigger1 = life <= 700 
triggerall = prevstateno = 205
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 13000

[State 52, 2];コンボB締めへ
type = ChangeState
value = 14000
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
triggerall = prevstateno = 205
trigger1 = movecontact && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = statetype != A

[State 52, 2];コンボBへ
type = ChangeState
triggerall = var(10) != 0
triggerall = var(59)=1&& RoundState = 2 
triggerall = var(49) = 0
TriggerAll= EnemyNear,StateType != L
trigger1 = prevstateno = 400
trigger1 = movecontact && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = statetype != A
Trigger2 = EnemyNear,stateType != A
trigger2 = movecontact && EnemyNear,movetype = H
trigger2 = P2BodyDist X = [-20,100] 
trigger2 = frontedgebodydist <= 100
value = 1000

[State 400, ステート変更]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(10) = 215
triggerall = numhelper(1001) = 0
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = frontedgebodydist >= 100
value = 1010

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 215

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd = 40*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((88*fvar(0))<7,7,(88*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 2, 2
channel = 0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 220

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
triggerall = var(49) = 0
triggerall = numhelper(2) = 1
trigger1 = AnimTime = 0 && EnemyNear,movetype = H 
trigger1 = statetype != A
value = 105

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち強
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 55*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 225
sprpriority = 2

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((100*fvar(0))<7,7,(100*fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = s830
guard.sparkno = s840
sparkxy = -30, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
getpower = 60*!(var(23)=1),0
givepower = 30*!(var(23)=1),0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 225

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;D立ち強
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 60*!(var(23)=1)
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 1100, Position]
type = velset
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 2

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 7
x = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 870
id = 870
postype = p1
pos = 45,0
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((100*fvar(0))<7,7,(100*fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = s830
guard.sparkno = s840
sparkxy = -30, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
getpower = 60*!(var(23)=1),0
givepower = 30*!(var(23)=1),0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 2, 4
channel = 0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 225

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 8,8
guard.pausetime = 8,8
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = prevstateno = 0
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
Trigger1 = EnemyNear,statetype != A
trigger1 = time >= 12 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,60] 
trigger1 = statetype != A
value = 400

[State 0, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = prevstateno = 400
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
Trigger1 = EnemyNear,statetype != A
trigger1 = time >= 10 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = statetype != A
value = 211

[State 52, 2];コンボBへ
type = ChangeState
value = 215
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
triggerall = prevstateno = 52
trigger1 = time >= 8 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = statetype != A

[State 52, 2];デム時追撃
type = ChangeState
value = 220
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 1
triggerall = helper(2),stateno != [4011,4012] 
trigger1 = time >= 12 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X = [-50,50] 
trigger1 = statetype != A

[State 52, 2];デム時追撃
type = ChangeState
value = 400
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 1
trigger1 = time >= 12 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X = [-50,30] 
trigger1 = statetype != A

[State 52, 2];デム時追撃2
type = ChangeState
value = 211
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
triggerall = var(49) = 0
triggerall = numhelper(2) = 1
trigger1 = time >= 10 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
Trigger1 = EnemyNear,moveType = H
trigger1 = P2BodyDist X >= 30 
trigger1 = statetype != A

[State 400, 3]
type = null;CtrlSet
trigger1 = var(59)=0
trigger1 = time >= 8 && prevstateno != [100,105]
value = 1

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 400

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;Dしゃがみ弱
[Statedef 405]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 215]
type = VelSet
trigger1 = time = 0
x = 8

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 8,8
guard.pausetime = 8,8
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
guard.kill = 0
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
triggerall = numhelper(2) = 0
triggerall = numhelper(1001) = 0
Trigger1 = EnemyNear,stateType != A
trigger1 = time >= 12 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,70] 
value = 14400

[State 400, 3]
type = CtrlSet
triggerall = var(59)=0
trigger1 = time >= 8 && prevstateno != [100,105]
value = 1

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 400

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 410
sprpriority = 3

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = C, NA
hitflag = MAF
guardflag = L
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((48*fvar(0))<7,7,(48*fvar(0)))),4
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s820
guard.sparkno = S840
sparkxy = -10,-56
hitsound = S1,1
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -12
guard.velocity = -10.5
air.velocity = -8
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 50*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 410

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Dしゃがみ中
[Statedef 415]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 410
sprpriority = 3

[State 215]
type = VelSet
trigger1 = time = 0
x = 10

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = C, NA
hitflag = MAF
guardflag = L
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((48*fvar(0))<7,7,(48*fvar(0)))),4
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s820
guard.sparkno = S840
sparkxy = -10,-56
hitsound = S1,1
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -12
guard.velocity = -10.5
air.velocity = -8
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 50*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 410

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;しゃがみ強
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 420
sprpriority = 2

[State 810, Throw Sound]
type = playsnd
trigger1 = time = 0
value = 2,2

[State 440, 2]
type = velset
trigger1 = animelem = 5
x = 15

[State 440, 2]
type = velset
trigger1 = animelem = 6
x = 8

[State 440, 2]
type = velset
trigger1 = animelem = 7
x = 0

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 4
anim = 870
id = 870
postype = p1
pos = 20,0
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((96*fvar(0))<7,7,(96*fvar(0)))),5
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 14,14
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 5
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 17
guard.slidetime = 17
ground.velocity = -4.5*const(size.xscale),-2
air.velocity = -4.5*const(size.xscale),-3
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 420

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;ジャンプ弱
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 600
sprpriority = 2
poweradd= 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 3
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = Light
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
priority = 3
pausetime = 8,8
sparkno = S810
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,0
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 20*!(var(23)=1),0
givepower = 10*!(var(23)=1),0
p2facing = 1

[State 230, 3]
type = varset
trigger1 = Animelem = 3
v = 20
value = 600

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 40*!(var(23)=1)
ctrl = 0
anim = 610
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 3
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = middle
damage = ceil(ifelse((45*fvar(0))<7,7,(45*fvar(0)))),4
priority = 3
pausetime = 11,11
sparkno = S820
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,1
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
getpower = 40*!(var(23)=1),0
givepower = 20*!(var(23)=1),0
p2facing = 1

[State 230, 3]
type = varset
trigger1 = Animelem = 3
v = 20
value = 610

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;ジャンプ強
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50*!(var(23)=1)
ctrl = 0
anim = 620
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = heavy
damage = ceil(ifelse((91*fvar(0))<7,7,(91*fvar(0)))),5
priority = 3
pausetime = 13,13
sparkno = S830
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,5
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,24)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,24)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,17)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,17)
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 50*!(var(23)=1),0
givepower = 25*!(var(23)=1),0
p2facing = 1

[State 230, 3]
type = varset
trigger1 = Animelem = 5
v = 20
value = 620

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;ジャンプ強
[Statedef 625]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50*!(var(23)=1)
ctrl = 0
anim = 620
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = heavy
damage = ceil(ifelse((91*fvar(0))<7,7,(91*fvar(0)))),5
priority = 3
pausetime = 13,13
sparkno = S830
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,5
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 26
ground.hittime = 26
guard.slidetime = 22
guard.hittime = 22
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 50*!(var(23)=1),0
givepower = 25*!(var(23)=1),0
p2facing = 1

[State 230, 3]
type = varset
trigger1 = Animelem = 5
v = 20
value = 620

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
[Statedef 798];禁止
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 10
;---------------------------------------------------------------------------
;回り込み
[Statedef 799]
type = S
physics = N
movetype = I
anim = 799
ctrl = 0
velset = 0,0
sprpriority = -1

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 2,0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 810, 1]
type = helper
trigger1 = animelem = 3
ID = 805
stateno = 805
pos = 0,0

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 3
x = 7.5

[State 810, Velocity]
type = VelMul
trigger1 = AnimElemTime(3) > 0
x = .95

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 11
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = time <= 26
value = SCA, NT,ST,HT

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 901,1]
type = SprPriority
trigger1 = AnimTime = 0
value = 0

[State 8500, 1]
type = varset
trigger1 = AnimTime = 0
var(40) = 8

[State 3900 e];禁止
type = Helper
trigger1 = AnimTime = 0
helpertype = normal
stateno = 798
id = 798
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 810, StateChange]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;回り込み（残像）
[Statedef 805]
type = S
physics = N
movetype = I
anim = 799
ctrl = 0
velset = 0,0
sprpriority = -2

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 799
elem = 3

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 4
x = 10

[State 810, Velocity]
type = VelMul
trigger1 = AnimElemTime(4) > 0
x = .95

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 11
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = 1
value = SCA

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 810, StateChange]
type = DestroySelf
trigger1 = root,stateno != 799
trigger2 = root,stateno = 799
trigger2 = root,animelem = 6
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-70
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 6,11
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
; エレクバイトが「作るのが退屈と感じる時もあるよ」って言ってるけど、
; 作り出したら意外とハマって楽しくなる投げ技。
; 投げる相手の正確な座標取りは面倒臭いけどね（コラ
; 投げ用のHitDefはテンプレートと見比べて確認すればわかるはず。
;---------------------------------------------------------------------------
;掴み
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;成功（放り投げる）
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 830

[State 10820, ]
type = Explod
trigger1 = Time = 36
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 36
value = 2,2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 36
value = 1,5

[state 810, 振動]
type = EnvShake
trigger1 = time = 36
time = 10
freq = 80
ampl = -8
phase = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 80, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 36
value = -82*fvar(0)

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 1000, Spark]
type = helper
trigger1 = time = 0
stateno = 811
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（helper）
[Statedef 811]
type    = S
movetype= A
physics = N
anim = 802
poweradd = 0
sprpriority = 3

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 20,0
time = 1
ignorehitpause = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = parent,stateno != 810
value = 1003
;---------------------------------------------------------------------------
;投げぬけ ABA （y.y氏製作）
[Statedef 830]
type = A
movetype = I
physics = A
anim = 5210
velset = -3,-5

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 840

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　enemy
[Statedef 840]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
;---------------------------------------------------------------------------
; こっちは制御を奪った相手の食らいステート。
; 相手の制御を解く場合、「ChangeState」のコントローラにしてしまうと
;「相手が制御を奪われた状態のままになるバグ」が発生してしまう。
; なので必ず『SelfState』で相手のステートに戻し、制御を解除しないといけない。
; そこさえ注意しておけば、自由に相手の食らいモーションを設定出来る。
;
; デバッグ表示中に相手の情報の一部の文字が黄色になったら、それが
; P2StateNoやTargetStateで制御を奪われた状態の証。
; 投げが成功したらCtrl+Dで相手側の情報を確認だ！m9っ｀Д´)
;---------------------------------------------------------------------------
;相手側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 803

[State 1061, 2]
type = Velset
trigger1 = time = 40
x = -15
y = -2

[State 1061, 2]
type = Velset
trigger1 = time = 45
x = -13
y = 0

[State 1061, 2]
type = Velset
trigger1 = time = 50
x = -10
y = 3

[State 1061, 2]
type = Velset
trigger1 = time = 52
x = -7
y = 4

[State 1061, 2]
type = Velset
trigger1 = time = 54
x = -5
y = 5

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 55
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
;掴み son
[Statedef 900]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 910
p2facing = 1
p2stateno = 920
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（放り投げる）son
[Statedef 910]
type    = S
movetype= A
physics = N
anim = 806
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 830

[State 10820, ]
type = Explod
trigger1 = Time = 34
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 34
value = 2,2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 34
value = 1,5

[state 810, 振動]
type = EnvShake
trigger1 = time = 34
time = 10
freq = 80
ampl = -8
phase = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = var(49) && time = 0
pos = 60, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 36
value = -82*fvar(0)

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側 son
[Statedef 920]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 803

[State 1061, 2]
type = Velset
trigger1 = time = 32
y = -4
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 34
y = -3.675
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 36
y = -3.35
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 38
y = -3
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = -1.5
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 42
y = -0.75
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 44
y = -0.375
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 46
y = 0
x = -8.5

[State 1061, 2]
type = Velset
trigger1 = time = 48
y = 0.25
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = 50
y = 0.5
x = -7.5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 1
x = -7

[State 1061, 2]
type = Velset
trigger1 = time = 53
y = 2
x = -6.5

[State 1061, 2]
type = Velset
trigger1 = time = 54
y = 4
x = -6

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 6
x = -5.5

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 8
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 56
y = 9
x = -4.5

[State 1061, 2]
type = Velset
trigger1 = time > 57
y = 10
x = -4

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 35
trigger1 = Pos Y >= 0
value = 5110
;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
; カンフーマンを代表する必殺技『カンフー突き手』。
; 最初に公開されたM.U.G.E.N（1999/1/1当時のMS-DOS版）では
; この技と超必殺技の『三烈カンフー突き手』しか持ってなかった。
;
;「P2BodyDist」は「自分から相手までの距離」を測るトリガー。
; Bodyの記述が無い「P2Dist」の場合は、
;「自分の軸位置から相手の軸位置との距離」を測る。
;---------------------------------------------------------------------------
;リプレイする！
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 0];制限
type = VarSet
trigger1 = time = 0
var(25) = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1001
id = 1001
pos = -10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 52, 2];コンボBへ
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
triggerall = var(49) = 0
TriggerAll= EnemyNear,StateType != L
triggerall = prevstateno = 215
trigger1 = time > 10 && EnemyNear,movetype = H
Trigger1 = EnemyNear,stateType != A
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = statetype != A
value = 100050

[State 10000,4]
type = Ctrlset
triggerall = var(59) = 0
trigger1 = time > 10
value = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;リプレイする！
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 0];制限
type = VarSet
trigger1 = time = 0
var(25) = 1

[State 10000,4]
type = Ctrlset
trigger1 = time > 14
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1001
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 400, ステート変更]
type = ChangeState
triggerall = var(59) = 1
Trigger1 = prevstateno = 215
Trigger1 = EnemyNear,stateType != A
trigger1 = animtime = 0 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 230

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;リプレイする！
[Statedef 1021]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 0];制限
type = VarSet
trigger1 = time = 0
var(25) = 1

[State 10000,4]
type = Ctrlset
trigger1 = time > 18
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1001
id = 1001
pos = 35, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ムーディーブルース(スタンド)  変身段階
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 20000+root,var(10)
;---------------------------------------------------------------------------
; 終了 1(スタンド)
[Statedef 1002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1002
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time%2=0
flag = invisible

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1003
;---------------------------------------------------------------------------
; 終了 2(スタンド)
[Statedef 1003]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1003
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1003
id = 1003
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1003
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 6,5

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; ムーディーブルース(スタンド)  立ち弱
[Statedef 20200]
type    = S
movetype= A
physics = S
juggle  = 0;4
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 0

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*root,fvar(0))<7,7,(20*root,fvar(0)))),2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20
givepower = 10

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 20, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 前立ち弱パンチ
[Statedef 20201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*root,fvar(0))<7,7,(20*root,fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20
givepower = 10

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 立ち中
[Statedef 20210]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 210, アニメ変更]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
value = 210
elem = 6
ignorehitpause = 1
persistent = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 6
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*root,fvar(0))<7,7,(42*root,fvar(0)))),4
guardflag = MA
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
guard.kill = 0
getpower = 40
givepower = 20

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)前立ち中
[Statedef 20215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 30

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 2

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((48*root,fvar(0))<7,7,(48*root,fvar(0)))),3
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 立ち強
[Statedef 20220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((63*root,fvar(0))<7,7,(63*root,fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 2, 2
channel = 0

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)前立ち強
[Statedef 20225]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 225
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((80*root,fvar(0))<7,7,(80*root,fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = s830
guard.sparkno = s840
sparkxy = -30, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
getpower = 60
givepower = 30

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 20400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 20400
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 5

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 7
x = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((20*root,fvar(0))<7,7,(20*root,fvar(0)))),3
pausetime = 10,10
guard.pausetime = 8,8
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 20
givepower = 10

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 20410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 0
ctrl = 0
anim = 20410
sprpriority = 3

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 20

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 9
value = 0, 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 2, 1
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 8
attr = C, NA
hitflag = MAF
guardflag = L
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((40*root,fvar(0))<7,7,(40*root,fvar(0)))),4
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s820
guard.sparkno = S840
sparkxy = -10,-56
hitsound = S1,1
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -12
guard.velocity = -10.5
air.velocity = -8
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 40
givepower = 20

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;しゃがみ強MB
[Statedef 20420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 0
ctrl = 0
anim = 20420
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 810, Throw Sound]
type = playsnd
trigger1 = time = 0
value = 2,2

[State 440, 2]
type = velset
trigger1 = animelem = 7
x = 15

[State 440, 2]
type = velset
trigger1 = animelem = 8
x = 8

[State 440, 2]
type = velset
trigger1 = animelem = 9
x = 0

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 6
anim = 870
id = 870
postype = p1
pos = 20,0
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((72*root,fvar(0))<7,7,(72*root,fvar(0)))),5
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 14,14
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 5
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 17
guard.slidetime = 17
ground.velocity = -4.5*const(size.xscale),-2
air.velocity = -4.5*const(size.xscale),-3
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0
getpower = 55
givepower = 20

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;リプレイする！air
[Statedef 1040]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 2

[State 10000,4]
type = Ctrlset
trigger1 = time > 10
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = -10, -50
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;リプレイする！ air2
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 2

[State 10000,4]
type = Ctrlset
trigger1 = time > 14
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = 20, -50
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;リプレイする！ air3
[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 2

[State 10000,4]
type = Ctrlset
trigger1 = time > 18
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = 50, -50
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 400, ステート変更]
type = ChangeState
triggerall = var(59) = 1
triggerall = power >= 1000
Trigger1 = EnemyNear,stateType != A
trigger1 = AnimTime = 0 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,150] 
value = 3300

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ムーディーブルースair(スタンド)  変身段階
[Statedef 1041]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1041
sprpriority = 0

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 20000+root,var(20)
;---------------------------------------------------------------------------
;空中版 リプレイする！air
[Statedef 1070]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 50
anim = 1080
ctrl = 0
sprpriority = 1

[State 2005, ]
type = VelSet
trigger1 = time = 0
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time >= 1 && time <= 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = -10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05
;---------------------------------------------------------------------------
;空中版 リプレイする！air 中
[Statedef 1080]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 50
anim = 1080
ctrl = 0
sprpriority = 1

[State 2005, ]
type = VelSet
trigger1 = time = 0
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time >= 1 && time <= 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

;---------------------------------------------------------------------------
;空中版 リプレイする！air　強
[Statedef 1090]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 50
anim = 1080
ctrl = 0
sprpriority = 1

[State 2005, ]
type = VelSet
trigger1 = time = 0
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time >= 1 && time <= 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1041
id = 1001
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05
;---------------------------------------------------------------------------
;ジャンプ弱MB
[Statedef 20600]
type    = A
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 0, gravity]
type = gravity
trigger1 = 1

[State 1010, 移動]
type = velset
trigger1 = 1
x = 6

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 3
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = Light
damage = ceil(ifelse((20*root,fvar(0))<7,7,(20*root,fvar(0)))),2
priority = 3
pausetime = 8,8
sparkno = S810
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,0
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0
air.fall = 0
fall.recover = 1
getpower = 20
givepower = 10
p2facing = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 1402
;---------------------------------------------------------------------------
;ジャンプ中MB
[Statedef 20610]
type    = A
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 0, gravity]
type = gravity
trigger1 = 1

[State 1010, 移動]
type = velset
trigger1 = 1
x = 6

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 3
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = middle
damage = ceil(ifelse((32*root,fvar(0))<7,7,(32*root,fvar(0)))),4
priority = 3
pausetime = 11,11
sparkno = S820
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,1
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0
air.fall = 0
fall.recover = 1
getpower = 40
givepower = 20
p2facing = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 1402
;---------------------------------------------------------------------------
;ジャンプ強MB
[Statedef 20620]
type    = A
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2

[State 0, gravity]
type = gravity
trigger1 = 1

[State 1010, 移動]
type = velset
trigger1 = 1
x = 6

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = heavy
damage = ceil(ifelse((72*root,fvar(0))<7,7,(72*root,fvar(0)))),5
priority = 3
pausetime = 13,13
sparkno = S830
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,5
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 60
givepower = 30
p2facing = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 1402
;---------------------------------------------------------------------------
; ムーディーブルースair(スタンド)  着地
[Statedef 1402]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7,0
anim = 1402
sprpriority = 0

[State 301,0]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 301,0]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 0]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 1]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 3]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 4]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 5]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 6]
type = screenbound
trigger1 = 1
value = 1

[State 230, 7]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 1020]
type = U
movetype = H
physics = N
ctrl = 0
anim = 1020
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, var]
type = parentvarset
trigger1 = !time
var(9) = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 1520
;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 1520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 1020
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 5

[State 0, hitvel]
type = hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 9999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
;------------------------------------------------------------------------------------
[Statedef 16502];立ち
type    = S
movetype= H
physics = S
velset = -2,0
anim = 16502

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1 ;指定した値が増減されます。省略時0で、相手の防御力が考慮される

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 0
ctrl = 1

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;-------------------------------
[Statedef 16503];しゃがみ
type    = C
movetype= H
physics = S
velset = -2,0
anim = 16503

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 11
ctrl = 1

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;-------------------------------
[Statedef 16504];空中
type    = A
movetype= H
physics = A
velset = -2,0
anim = 5050

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = Vel Y > 0    ;下方に移動している場合、正の値
trigger1 = Pos Y >= -10 ;地面を0、下方向を正、上方向を負
value = 5100;地面に激突

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;---------------------------------------------------------------------------
;MBキック
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 2
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1101
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;MBキック　スタンド
[Statedef 1101]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11001
ctrl = 0
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 3, 999

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 1061, 2]
type = Velset
trigger1 = animelem = 4
x = 15

[State 1061, 2]
type = Velset
trigger1 = animelem = 5
x = 10

[State 1061, 2]
type = Velset
trigger1 = animelem = 7
x = 2

[State 1061, 2]
type = Velset
trigger1 = animelem = 9
x = 1

[State 600, 2]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((55*root,fvar(0))<7,7,(55*root,fvar(0)))),4
guardflag = MA
priority = 2, hit
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -12,-4
air.velocity = -12,-4
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
getpower = 80
givepower = 40

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 3000]
type = ChangeState
trigger1 = movecontact
value = 1102

[State 0, push]
type = playerpush
trigger1 = 1
value = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
;---------------------------------------------------------------------------
;MBキック中
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 2
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1104
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;MBキック　スタンド 中
[Statedef 1104]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11001
ctrl = 0
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 3, 999

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 1061, 2]
type = Velset
trigger1 = animelem = 4
x = 20

[State 1061, 2]
type = Velset
trigger1 = animelem = 5
x = 15

[State 1061, 2]
type = Velset
trigger1 = animelem = 7
x = 3

[State 1061, 2]
type = Velset
trigger1 = animelem = 9
x = 1

[State 600, 2]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((53*root,fvar(0))<7,7,(53*root,fvar(0)))),5
guardflag = MA
priority = 2, hit
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -12,-4
air.velocity = -12,-4
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
getpower = 80
givepower = 40

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 3000]
type = ChangeState
trigger1 = movecontact
value = 1102

[State 0, push]
type = playerpush
trigger1 = 1
value = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
;---------------------------------------------------------------------------
;MBキック
[Statedef 1105]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 2
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1106
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;MBキック　スタンド 強
[Statedef 1106]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11001
ctrl = 0
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 3, 999

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 1061, 2]
type = Velset
trigger1 = animelem = 4
x = 25

[State 1061, 2]
type = Velset
trigger1 = animelem = 5
x = 20

[State 1061, 2]
type = Velset
trigger1 = animelem = 7
x = 5

[State 1061, 2]
type = Velset
trigger1 = animelem = 9
x = 1

[State 600, 2]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((50*root,fvar(0))<7,7,(50*root,fvar(0)))),6
guardflag = MA
priority = 2, hit
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -12,-4
air.velocity = -12,-4
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
getpower = 80
givepower = 40

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 3000]
type = ChangeState
trigger1 = movecontact
value = 1102

[State 0, push]
type = playerpush
trigger1 = 1
value = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
;---------------------------------------------------------------------------
;MBキック　スタンド2
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 11002
ctrl = 0
sprpriority = 2

[State 1061, 2]
type = Velset
trigger1 = animelem = 2
x = -20
y = -5

[State 1061, 2]
type = Velset
trigger1 = animelem = 3
x = -5
y = -2

[State 1061, 2]
type = Velset
trigger1 = animelem = 4
x = -2
y = -1

[State 1061, 2]
type = Velset
trigger1 = animelem = 5
x = -1
y = 0

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
;---------------------------------------------------------------------------
;カウンター 本体
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1201
id = 1001
pos = -1, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 無敵]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 50
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMB
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1201
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1200
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 50
value = 1002
;---------------------------------------------------------------------------
;カウンターMB 成功
[Statedef 1202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
velset = 0,0
anim = 1202
ctrl = 0
sprpriority = 3

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 191, !!!]
type = Explod
trigger1 = Time = 0
anim = 880
id = 880
postype = p2
pos = 10,-120
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = 1
pausemovetime = 999999

[State 0, !!!]
type = PlaySnd
trigger1 = time = 0
value = 3,1

[state 3000]
type = BGPalFX
trigger1 = time = 0
time = 40
add = 0,0,0
mul = 128,128,128
invertall = 0
color = 256

[state 3000]
type = pause
trigger1 = time = 0
time = 40
movetime = 8

[State 191, Wood 1]
type = Explod
trigger1 = Time = 15
anim = 840
id = 840
postype = p1
pos = 0,-70
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = 1

[State 0, ガード音]
type = PlaySnd
trigger1 = Time = 15
value = 1,6

[State 52, 1]
type = VelSet
trigger1 = Time = 15
x = -10

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 301,]
type = NotHitBy
trigger1 = 1   
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
;カウンター 本体中
[Statedef 1203]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1204
id = 1001
pos = -1, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 ステート変更]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 40
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMBfwd中
[Statedef 1204]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1201
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1203
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 40
value = 1002
;---------------------------------------------------------------------------
;カウンター 本体弱
[Statedef 1205]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1206
id = 1001
pos = -1, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 ステート変更]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 30
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMBfwd弱
[Statedef 1206]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1201
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1205
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 30
value = 1002
;---------------------------------------------------------------------------
;カウンター 本体back
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1211
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 ステート変更]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 50
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMBback
[Statedef 1211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1211
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1210
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 50
value = 1002
;---------------------------------------------------------------------------
;カウンター 本体back中
[Statedef 1212]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1213
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 ステート変更]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 40
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMBback
[Statedef 1213]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1211
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1212
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 40
value = 1002
;---------------------------------------------------------------------------
;カウンター 本体back弱
[Statedef 1214]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20, 1
channel =1

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.back.x)

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "MB"
stateno = 1215
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[State 1000,7 ステート変更]
type = NotHitBy
trigger1 = helper(1001),stateno = 1202
value = SCA
time = 20

[State 1000,7 ステート変更]
type = ChangeState
trigger1 = Time = 30
trigger2 = helper(1001),stateno = 1202
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンターMBback
[Statedef 1215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1211
ctrl = 0
sprpriority = 2

[State 10001 dist]
type = AttackDist
trigger1 = 1
value = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 1214
time = 1
pos = 0,0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = Time > 6
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1202

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = Time = 30
value = 1002
;===========================================================================
; 超必殺技
;===========================================================================
;---------------------------------------------------------------------------
; 最初のM.U.G.E.Nから存在するカンフーマンの超必殺技。
; 超必なので攻撃を当ててもゲージを増やさないようにする事に気を付けるだけで、
; 後は結構簡単な処理にまとめられてる。
; 超必時の暗転用の処理（SuperPause）にも刮目せよ！m9っ｀Д´)
;---------------------------------------------------------------------------
;全てをリプレイする！
[Statedef 3000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 0, nhb]
type = nothitby
trigger1 = time = [0,50]
value = SCA
time = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 1027, Sound]
type = PlaySnd
triggerall = numhelper(1001) = 0
trigger1 = time = 0
value = 4,1
channel = 0

[State 1027, Sound]
type = PlaySnd
triggerall = numhelper(1001) = 1
trigger1 = time = 0
value = 4,2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
trigger1 = numhelper(2) = 0
helpertype = normal
name = "MB"
stateno = 3010
id = 1001
pos = -10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 2
x = 15

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 3
x = 7.5

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 4
x = 3

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1.2
size.yscale = 1.2

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(16*const(size.xscale)),ceil(-94*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[state 3000]
type = ChangeState
triggerall = p2bodydist X < 70
trigger1 = animelem = 2
trigger2 = animelem = 3
value = 3001

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱
[Statedef 3001]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
poweradd = 0
sprpriority = 2

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = time <= 5
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack
damage = ceil(ifelse((16*fvar(0))<7,7,(16*fvar(0)))),4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 16, 21
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s7, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3002
;---------------------------------------------------------------------------
;立ち中
[Statedef 3002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = -1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = Medium
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),5
guardflag = MA
pausetime = 15,25
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s7, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1
air.velocity = -1,-4
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3003
;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 3003]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 3003
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, HA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((18*fvar(0))<7,7,(18*fvar(0)))),3
pausetime = 16,21
guard.pausetime = 16,21
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S7,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -1
guard.velocity = -1
air.velocity = -1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3004
;---------------------------------------------------------------------------
;立ち強
[Statedef 3004]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3004
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((40*fvar(0))<7,7,(40*fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 20, 25
sparkno = s830
sparkxy = -10, -76
hitsound = s7, 2
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -1
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3005
;---------------------------------------------------------------------------
;前立ち強
[Statedef 3005]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3005
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((48*fvar(0))<7,7,(48*fvar(0)))),6
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 24, 24
sparkno = s830
sparkxy = -30, -76
hitsound = s7, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
envshake.time = 10
envshake.frep = 600
envshake.ampl = 14

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 225

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ムーディーブルース(スタンド)  変身段階
[Statedef 3010]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 3010
sprpriority = 0

[State 301,]
type = NotHitBy
trigger1 = time = [0,8]
value = SCA 
time = 1

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 3011
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)  ダッシュ
[Statedef 3011]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3011
ctrl = 0
sprpriority = 2

[State 0, nhb]
type = nothitby
trigger1 = time = [0,8]
value = SCA
time = 1

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 2
x = 15

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 3
x = 7.5

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 4
x = 3

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 3000]
type = ChangeState
triggerall = p2bodydist X < 60
trigger1 = animelem = 2
trigger2 = animelem = 3
value = 3012

[state 3000]
type = ChangeState
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;立ち弱MB
[Statedef 3012]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
poweradd = 0
sprpriority = 2

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = time <= 5
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((7*root,fvar(0))<7,7,(7*root,fvar(0)))),2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 16, 21
sparkno = s810
sparkxy = -10, -76
hitsound = s7, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3013
;---------------------------------------------------------------------------
;立ち中MB
[Statedef 3013]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = -1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((15*root,fvar(0))<7,7,(15*root,fvar(0)))),3
guardflag = MA
pausetime = 15,25
sparkno = s820
sparkxy = -10,-80
hitsound = s7, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1
air.velocity = -1,-4
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3014
;---------------------------------------------------------------------------
;しゃがみ弱MB
[Statedef 3014]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 3003
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((9*root,fvar(0))<7,7,(9*root,fvar(0)))),2
pausetime = 16,21
guard.pausetime = 16,21
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S7,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -1
guard.velocity = -1
air.velocity = -1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3015
;---------------------------------------------------------------------------
;立ち強
[Statedef 3015]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3004
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((33*root,fvar(0))<7,7,(33*root,fvar(0)))),3
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 20, 25
sparkno = s830
sparkxy = -10, -76
hitsound = s7, 2
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -1
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 2
channel = 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 3016
;---------------------------------------------------------------------------
;前立ち強
[Statedef 3016]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3005
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((37*root,fvar(0))<7,7,(37*root,fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 24, 24
sparkno = s830
sparkxy = -30, -76
hitsound = s7, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
envshake.time = 10
envshake.frep = 600
envshake.ampl = 14

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
;---------------------------------------------------------------------------
; on時　全てをリプレイする！
[Statedef 13000]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 13010
sprpriority = 0

[State 0, nhb]
type = nothitby
trigger1 = time = [0,50]
value = SCA
time = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 1027, Sound]
type = PlaySnd
triggerall = numhelper(1001) = 0
trigger1 = time = 0
value = 4,1
channel = 0

[State 1027, Sound]
type = PlaySnd
triggerall = numhelper(1001) = 1
trigger1 = time = 0
value = 4,2
channel = 0

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(13000) = 0
helpertype = normal
name = "ABA"
stateno = 13001
id = 13000
pos = -10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .9
size.yscale = 1.05

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1.2
size.yscale = 1.2

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(16*const(size.xscale)),ceil(-94*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 13011
;---------------------------------------------------------------------------
;本体  ダッシュ
[Statedef 13001]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3011
ctrl = 0
sprpriority = 2

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, nhb]
type = nothitby
trigger1 = time = [0,8]
value = SCA
time = 1

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 2
x = 15

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 3
x = 7.5

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 4
x = 3

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[state 3000]
type = ChangeState
triggerall = p2bodydist X < 60
trigger1 = animelem = 2
trigger2 = animelem = 3
value = 13002

[State 240, ステート変更]
type = destroyself
trigger1 = root,stateno != [13000,13020]

[State 3000, ステート変更]
type = destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;立ち弱
[Statedef 13002]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
poweradd = 0
sprpriority = 2

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack
damage = ceil(ifelse((16*root,fvar(0))<7,7,(16*root,fvar(0)))),4
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 16, 21
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s7, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 240, ステート変更]
type = destroyself
trigger1 = root,stateno != [13000,13020]

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13003
;---------------------------------------------------------------------------
;立ち中
[Statedef 13003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = -1

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = Medium
damage = ceil(ifelse((42*root,fvar(0))<7,7,(42*root,fvar(0)))),5
guardflag = MA
pausetime = 15,25
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s7, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1
air.velocity = -1,-4
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 240, ステート変更]
type = destroyself
trigger1 = root,stateno != [13000,13020]

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13004
;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 13004]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 3003
sprpriority = 2

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, HA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((18*root,fvar(0))<7,7,(18*root,fvar(0)))),3
pausetime = 16,21
guard.pausetime = 16,21
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S7,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -1
guard.velocity = -1
air.velocity = -1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 240, ステート変更]
type = destroyself
trigger1 = root,stateno != [13000,13020]

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13005
;---------------------------------------------------------------------------
;立ち強
[Statedef 13005]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3004
sprpriority = 2

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((66*root,fvar(0))<7,7,(66*root,fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 20, 25
sparkno = s830
sparkxy = -10, -76
hitsound = s7, 2
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -1
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 2
channel = 0

[State 240, ステート変更]
type = destroyself
trigger1 = root,stateno != [13000,13020]

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13006
;---------------------------------------------------------------------------
;前立ち強
[Statedef 13006]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3005
sprpriority = 2

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((75*root,fvar(0))<7,7,(75*fvar(0)))),6
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 24, 24
sparkno = s830
sparkxy = -30, -76
hitsound = s7, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
envshake.time = 10
envshake.frep = 600
envshake.ampl = 14

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 240, ステート変更]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = root,stateno != [13000,13020]
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)  ダッシュ
[Statedef 13011]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3011
ctrl = 0
sprpriority = 2

[State 0, nhb]
type = nothitby
trigger1 = time = [0,8]
value = SCA
time = 1

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 2
x = 15

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 3
x = 7.5

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 4
x = 3

[State 3000, 軸位置移動]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[state 3000]
type = ChangeState
triggerall = p2bodydist X < 60
trigger1 = animelem = 2
trigger2 = animelem = 3
value = 13012

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱MB
[Statedef 13012]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3001
poweradd = 0
sprpriority = 2

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = time <= 5
value = SCA

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 16, 21
sparkno = s810
sparkxy = -10, -76
hitsound = s7, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 12
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13013
;---------------------------------------------------------------------------
;立ち中MB
[Statedef 13013]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = -1

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = Medium
damage = ceil(ifelse((21*fvar(0))<7,7,(21*fvar(0)))),3
guardflag = MA
pausetime = 15,25
sparkno = s820
sparkxy = -10,-80
hitsound = s7, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1
air.velocity = -1,-4
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13014
;---------------------------------------------------------------------------
;しゃがみ弱MB
[Statedef 13014]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 3003
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, HA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((9*fvar(0))<7,7,(9*fvar(0)))),2
pausetime = 16,21
guard.pausetime = 16,21
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S7,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -1
guard.velocity = -1
air.velocity = -1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13015
;---------------------------------------------------------------------------
;立ち強
[Statedef 13015]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3004
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((33*fvar(0))<7,7,(33*fvar(0)))),3
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 20, 25
sparkno = s830
sparkxy = -10, -76
hitsound = s7, 2
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -1
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 13016
;---------------------------------------------------------------------------
;前立ち強
[Statedef 13016]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3005
sprpriority = 2

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((37*fvar(0))<7,7,(37*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 24, 24
sparkno = s830
sparkxy = -30, -76
hitsound = s7, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
envshake.time = 10
envshake.frep = 600
envshake.ampl = 14

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------
;SC背景

[Statedef 23101]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -11

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = -10,264
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0
scale = 1.2,1.2

;cut in
[State 0, explod]
type = explod
trigger1 = time = 2
anim = 3200
id = 7000
pos = -20,170
postype = back
removetime = 41
sprpriority = -4
pausemovetime = 41
supermovetime = 41
scale = 1,.9

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(7000)
id = 7000
pos = ceil(-20+((random%14)*ifelse(time%6<3,-1,1))),ceil(170+((random%14)*ifelse(time%6<3,-1,1)))
postype = back
scale = ifelse(time>18,2,.2+((time-5)*.112))*.833,ifelse(time>18,2,.2+((time-5)*.112))*1.08

[state 3000]
type = destroyself
trigger1 = time >= 41
;---------------------------------------------------------------------------
;お茶でも飲もうや…
[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, nhb]
type = nothitby
trigger1 = time = [0,50]
value = SCA
time = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 0, ]
type = PlaySnd
trigger1 = time = 0
value = 3, 6
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 7

[State 4000, Vel]
type=velset
trigger1= time > 40
x=8

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 80
time = 2

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999
size.xscale = 1.2
size.yscale = 1.2

[State 0, hikari]
type = explod
trigger1 = time = 20
anim = 3102
id = 7100
pos = ceil(16*const(size.xscale)),ceil(-94*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 5
pausemovetime = 999999
supermovetime = 999999

[State 4000, Hit]
type=hitdef
trigger1= time
trigger1= p2dist x>=0 && p2bodydist x<=20
attr=S,HT
hitflag=M-
priority=6,Miss
numhits=0
sparkno=-1
p1facing=1
p1stateno=3301
p2stateno=3310
fall=1 
fall.recover=0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;お茶でも飲もうや… ABA
[Statedef 3301]
type=S
physics=N
movetype=A
anim=3301
ctrl=0
velset=0,0
sprpriority=1

[State 4001, throw]
type=targetstate
trigger1= time < 220
value=3310

[State 4001, throw]
type=targetfacing
trigger1= !time
value=-1

[State 4001, pause]
type=pause
trigger1= animelemtime(2)>=0 && animelemtime(35)<0
time=2
movetime=2

[State 0, ]
type = PlaySnd
trigger1= time = 0
value = 1, 7

[State 4001, nothitby]
type=nothitby
trigger1= 1
value=SCA

[State 4001, imageoff]
type=afterimagetime
trigger1= animelemtime(5)>0
time=0

[State 4001, fadeout]
type=allpalfx
trigger1= animelemtime(1)=10
time=30
sinadd=-255,-255,-255,120

[State 4001, black]
type=envcolor
trigger1= animelemtime(2)>=0 && animelemtime(35)<0
time=4
value=0,0,0

[State 4001, Assert]
type=assertspecial
trigger1= animelemtime(2)>=0 && animelemtime(35)<0
flag=nobardisplay
flag2=noFG

[State 4001, spr]
type=sprpriority
trigger1= animelemtime(35)>=0
value=1

[State 4001, Bind]
type=targetbind
trigger1= animelemtime(35)<0
pos=45,0

[State 4001, hitadd]
type=hitadd
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15
trigger3= animelem=16 || animelem=17 || animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25
trigger4= animelem=26 || animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
value=1

[State 4001, hitdamage]
type=targetlifeadd
triggerall= numtarget
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9 || animelem=10
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15 || animelem=16 || animelem=17
trigger3= animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25 || animelem=26
trigger4= animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
value= ifelse(var(40) > 10,-6,-9)
kill=animelem=34
absolute=1

[State 4001, givepower]
type=targetpoweradd
triggerall= numtarget
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9 || animelem=10
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15 || animelem=16 || animelem=17
trigger3= animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25 || animelem=26
trigger4= animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
value=36

[State 4001, HitSound]
type=playsnd
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9 || animelem=10
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15 || animelem=16 || animelem=17
trigger3= animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25 || animelem=26
trigger4= animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
value=1,5

[State 4001, Sparks]
type=explod
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15
trigger3= animelem=16 || animelem=17 || animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25
trigger4= animelem=26 || animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
anim=830
ID=7000
sprpriority=5
postype=p2
pos=0,(target,const(size.mid.pos.y));-70
random=60,60
facing=-1
ownpal=1
ontop=1
pausemovetime=300
supermovetime=300

[State 4001, shake]
type=envshake
trigger1= animelem=2 || animelem=3 || animelem=4 || animelem=5 || animelem=6 || animelem=7 || animelem=8 || animelem=9 || animelem=10
trigger2= animelem=10 || animelem=11 || animelem=12 || animelem=13 || animelem=14 || animelem=15 || animelem=16 || animelem=17
trigger3= animelem=18 || animelem=19 || animelem=20 || animelem=21 || animelem=22 || animelem=23 || animelem=24 || animelem=25 || animelem=26
trigger4= animelem=27 || animelem=28 || animelem=29 || animelem=30 || animelem=31 || animelem=32 || animelem=33 || animelem=34
time=6
freq=120
ampl=-4

[State 4001, throw]
type=targetstate
trigger1= animelemtime(34)>=0 && numtarget
value=3311
persistent=0

[State 0, ]
type = PlaySnd
trigger1= animelemtime(34)=0 
value = 4, 8

[State 1000, 1]
type = Helper
trigger1= animelemtime(34)=0 
helpertype = normal
name = "chair"
stateno = 3330
id = 3330
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = Helper
trigger1= animelemtime(34)=0 
helpertype = normal
name = "table"
stateno = 3340
id = 3340
pos = 50, 0
postype = p1
ownpal = 1
facing = 1
size.xscale=1
size.yscale=1

[State 0, PosSet]
type = PosSet
trigger1 = FrontEdgeBodyDist < 40
Trigger1 = Facing = 1
trigger1= animelemtime(34)=0 
x = 40

[State 0, PosSet]
type = PosSet
trigger1 = FrontEdgeBodyDist < 40
Trigger1 = Facing = -1
trigger1= animelemtime(34)=0 
x = -40

[State 4001, push]
type=playerpush
trigger1=1
value=0

[State 4001, camera]
type = ScreenBound
trigger1 = 1
value = 0

[State 4001, End]
type=changestate
trigger1= animelemtime(34)>=0 && winko
value=183

[State 4001, End]
type=changestate
trigger1= animtime = 0
value=0
ctrl=1
;---------------------------------------------------------------------------
ENEMY
[Statedef 3310]
type=S
physics=N
movetype=H
velset=0,0
ctrl=0

[State 1114002, Anim]
type=changeanim2
trigger1= 1
value=3302
;---------------------------------------------------------------------------
ENEMY2
[Statedef 3311]
type=L
physics=C
movetype=H
velset=0,0
ctrl=0
sprpriority = 3

[State 0, spr]
type = SprPriority
trigger1 = 1
value = 2

[State 0, voice]
type = PlaySnd
trigger1= time = 0 
trigger1= alive
value =11, 0

[State 3311, Anim]
type=changeanim2
trigger1= !time
value=3303

[State 1114003, End]
type=selfstate
trigger1= !alive
value=5150

[State 1114003, End]
type=selfstate
trigger1= time>=97 && alive
value=5120
;---------------------------------------------------------------------------
椅子
[Statedef 3330]
anim = 3330
type=S
physics=S
movetype=I
velset=0,0
ctrl=0
sprpriority = 0

[State 215]
type = BindToParent
trigger1 = time = 0
time = 94
facing = 1
pos = 0, 0

[State 215]
type = VelSet
triggerall = parent,stateno != 183
trigger1 = time > 94
x = -8

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
テーブル
[Statedef 3340]
anim = 3340
type=S
physics=S
movetype=I
velset=0,0
ctrl=0
sprpriority = 2

[State 215]
type = BindToParent
trigger1 = time = 0
time = 94
facing = 1
pos = 50, 0

[State 215]
type = VelSet
triggerall = parent,stateno != 183
trigger1 = time > 94
x = -8

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 10,0+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 10,0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 10,30

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 25,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14100]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14105]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 861
ctrl = 0
velset = 10,0
sprpriority = 4

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 21,0

[State 810, Throw Sound]
type = playsnd
trigger1 = time = 0
value = 6,3

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;---------------------------------------------------------------------------
; ガーキャン 
;---------------------------------------------------------------------------
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 1800
sprpriority = 2

[State 0, pal]
type = palfx
trigger1 = time < 10
trigger1 = time%2
add = 128,128,128
time = 1
ignorehitpause = 1

[State 210, 2]
type = nothitby
trigger1 = time = 0
value = SCA
time = 9

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = 75, 8
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = s830
sparkxy = -30, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 3, 0
channel = 0

[State 230, 3]
type = varset
trigger1 = AnimTime = 0
v = 10
value = 225

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(10) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(10) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(10)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(10) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(10)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(10) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(10) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = parent,stateno = [10820,10822];スタンド発現ｽﾃｰﾄ
trigger1 = NumHelper(20026) = 0
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999

;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U 
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5019]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 6     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0       
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 6, 5     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 25
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 25             ;velSetと同じﾀｲﾐﾝｸﾞで
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 25
value = 5071;足払いでこけるｽﾃｰﾄへ
ctrl = 1;これはいらないかも。

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = AnimTime = 0 ;5000や5001はvel0,0設定なのでとまってしまうから。
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 6     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 6, 5     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 25
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 25;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 25
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;===========================================================================
;勝利アイコン
[Statedef 9100]
ctrl = 0
anim = 29999

;「WIN」
[State 0, explod]
type = explod
triggerall = roundstate = 4
trigger1 = teamside = 1
trigger1 = time = 1
anim = 9102
id = 9102
pos = -285,80
postype = left
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9102)
trigger1 = time <= 20
id = 9102
pos = ceil(-285+(time*15)),80
postype = left

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9102)
trigger1 = time >= 81
id = 9102
pos = ceil(15-((time-80)*15)),80
postype = left


[State 0, explod]
type = explod
triggerall = roundstate = 4
trigger1 = teamside = 2
trigger1 = time = 1
anim = 9102
id = 9103
pos = 130,80
postype = right
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9103)
trigger1 = time <= 20
id = 9103
pos = ceil(130-(time*15)),80
postype = right

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9103)
trigger1 = time >= 81
id = 9103
pos = ceil(-170+((time-80)*15)),80
postype = right

[State 0, snd]
type = playsnd
trigger1 = time = 20
value = 999,0


;「To Be Continued...」
[State 0, explod]
type = explod
triggerall = roundstate = 4
triggerall = matchover
trigger1 = teamside = 1
trigger1 = time = 20
anim = 9100
id = 9100
pos = 412,230
postype = left
scale = .5,.5
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9100)
trigger1 = time <= 40
id = 9100
pos = ceil(412-((time-20)*20)),230
postype = left


[State 0, explod]
type = explod
triggerall = roundstate = 4
triggerall = matchover
trigger1 = teamside = 2
trigger1 = time = 20
anim = 9101
id = 9101
pos = -412,230
postype = right
scale = .5,.5
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9101)
trigger1 = time <= 40
id = 9101
pos = ceil(-412+((time-20)*20)),230
postype = right
;-------------------------------------------------------------------
;敗北カットイン
[Statedef 20054]
type = A
anim = 29999
sprpriority = 4

[State 20054]
type = Palfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = Bgpalfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = PlaySnd
trigger1 = time = 0
value = 6,2;ドーン
persistent = 0  ;1回しかステコンが実行されません

[State 20054];敗北カットイン顔の部分
type = helper
trigger1 = time = 0
trigger1 = NumHelper(20058) = 0
stateno = 20058
id = 20058
sprpriority = 1
pos = 0,0
postype = p1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 0
keyctrl = 0
size.xscale = 1
size.yscale = 1

;青の背景
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 510,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 500,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = RemoveExplod
trigger1 = time = 70
trigger1 = RoundState = 4 
trigger2 = time = 80
id = 20054

[State 20054]
type = AssertSpecial
trigger1 = time = [0,69]
flag = nobg
flag2 = nofg
flag3 = nobardisplay

[State 20054]
type = null;DestroySelf
trigger1 = RoundState != 3
;trigger1 = time = 70 || RoundState != 3
;trigger2 = RoundState = 4 
;----------------------------------------------------
;敗北カットイン顔の部分
[Statedef 20058]
type    = A
;movetype= I
;physics = N
;velset = 0,0
anim = 29999
sprpriority = 4

[State 20058]
type = Explod
trigger1 = time = 0
trigger1 = NumExplod(20058) = 0
anim = 20058
id = 20058
sprpriority = -4
;removetime = -1
bindtime = -1
pos = ifelse(ishometeam=1,ifelse(root,facing = 1,160,180),ifelse(root,facing = -1,180,160)),120
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
scale = 1.5*parent,const(size.xscale),1.5
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = 1,1,-1))
persistent = 0

[State 20058]
type = RemoveExplod
trigger1 = RoundState != 3
id = 20058

[State 20058]
type = DestroySelf
trigger1 = RoundState != 3
;---------------------------------------------------------------------------
;まずon、offの記述はこんな感じ。
;ｽｲｯﾁ式？ではなく、直接10000を入れてます。var(49)は10000か0

;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 0
anim = 9995
velset = 0,0

[State 10820, けむり]
type = Explod
trigger1 = time = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 10,0
anim = 875
sprpriority = 4
ownpal = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, ]
type = PlaySnd
trigger1 = time = 0
value = 3,5
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = time = 0
value = 6,4

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 195, コントロール]
type = CtrlSet
trigger1 = time = 0
value = 1            

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 10821]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 10,0
anim = 875
sprpriority = 4
ownpal = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 10820, ]
type = PlaySnd
trigger1 = time = 0
value = 3,5
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-----------------------------------
;スタンド発現（空中）
[Statedef 10822]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10822;10122
poweradd = 0
;velset = 0,0 ;これしたら速度が0,0になる。ぴたっと止まってしまう。

[State 10822, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10822, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
id = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 10820, ]
type = PlaySnd
trigger1 = time = 0
value = 3,5
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

;[State 10822, 3];type = Aなのでいらない。tabun
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 51
;ctrl = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 16003]
type = S
physics = S
ctrl = 1
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 5     

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 5     

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 5     

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1
;---------------------------------------------------------------------------
;あれれー
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(39) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(39) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 41      
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(24) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201   
;---------------------------------------------------------------------------
;on立ち弱
[Statedef 10200]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 20
ctrl = 0
velset = 0,0
anim = 10200
sprpriority = 2

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s810
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 7
ground.hittime  = 11
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
guard.kill = 0
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 10200 || prevstateno = 10205
Trigger1 = EnemyNear,stateType != A
trigger1 = time >= 10 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,50] 
value = 10400

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 10200 || prevstateno = 10205
trigger1 = movecontact && EnemyNear,statetype != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [40,100] 

Trigger2 = prevstateno = 10200 || prevstateno = 10205
trigger2 = movecontact && EnemyNear,statetype = A
trigger2 = movecontact && EnemyNear,movetype = H
trigger2 = P2BodyDist X = [-20,80] 
trigger2 = P2BodyDist Y = [-80,100]
value = 10210

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;onD立ち弱パンチ
[Statedef 10205]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 10205
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1100, Position]
type = velset
trigger1 = AnimElem = 1
x = 8

[State 1100, Position]
type = velset
trigger1 = AnimElem = 2
x = 10

[State 1100, Position]
type = velset
trigger1 = AnimElem = 3
x = 8

[State 1100, Position]
type = velset
trigger1 = AnimElem = 4
x = 8

[State 1100, Position]
type = velset
trigger1 = AnimElem = 5
x = 2

[State 1100, Position]
type = velset
trigger1 = AnimElem = 6
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s810
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 7
ground.hittime  = 11
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
guard.kill = 0
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-30,80] 
trigger1 = P2BodyDist Y = [-80,100]
value = 10200

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;on立ち中
[Statedef 10210]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10210
sprpriority = 2

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 5

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((57*fvar(0))<7,7,(57*fvar(0)))),4
guardflag = MA
pausetime = 11,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 1

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
triggerall = power >= 1000
trigger1 = life <= 300 
Trigger1 = prevstateno = 10200 || prevstateno = 10205 || prevstateno = 10400
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 3900

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
triggerall = power >= 1000
trigger1 = life <= 700 
Trigger1 = prevstateno = 10200 || prevstateno = 10205 || prevstateno = 10400
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 13000

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
trigger1 = life >= 700
Trigger1 = prevstateno = 10200 || prevstateno = 10205 || prevstateno = 10400
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,90] 
trigger2 = life <= 700 
trigger2 = power <= 1000
Trigger2 = prevstateno = 10200 || prevstateno = 10205 || prevstateno = 10400
Trigger2 = EnemyNear,stateType != A
trigger2 = movecontact && EnemyNear,movetype = H
trigger2 = P2BodyDist X = [-20,100] 

Trigger3 = prevstateno = 10200 
trigger3 = movecontact && EnemyNear,statetype = A
trigger3 = movecontact && EnemyNear,movetype = H
trigger3 = P2BodyDist X = [-20,100] 
trigger3 = P2BodyDist Y = [-100,100]
value = 10220

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;onD立ち中
[Statedef 10215]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
anim = 10210
sprpriority = 2

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 14

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 7

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 2

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((57*fvar(0))<7,7,(57*fvar(0)))),4
guardflag = MA
pausetime = 11,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;on立ち強
[Statedef 10220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 0,0
anim = 10220
sprpriority = 2

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((75*fvar(0))<7,7,(75*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10,0
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -7,-3
air.hittime = 17
fall = 0
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 4, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;onD立ち強
[Statedef 10225]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
anim = 10225
sprpriority = 2

[State -1,1]
type = velset
trigger1 = animelem = 2
x = 3

[State -1,1]
type = velset
trigger1 = animelem = 3
x = 4

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 5

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 12

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 8

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 4

[State -1,1]
type = velset
trigger1 = animelem = 8
x = 2

[State -1,1]
type = velset
trigger1 = animelem = 9
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 10
x = 0

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((75*fvar(0))<7,7,(75*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10,-5
guard.velocity = -12
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -7,-3
air.hittime = 17
fall = 1
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 4, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;onしゃがみ弱
[Statedef 10400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10400
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 9,9
guard.pausetime = 9,9
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 14400 || prevstateno = 10400 || prevstateno = 10405
Trigger1 = EnemyNear,stateType != A
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,50] 
value = 10400

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 14400 || prevstateno = 10400 || prevstateno = 10405
Trigger1 = EnemyNear,stateType = C
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,90] 
value = 10410

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 14400 || prevstateno = 10400 || prevstateno = 10405
Trigger1 = EnemyNear,stateType = S
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [50,80] 
value = 10205

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 10200
Trigger1 = EnemyNear,stateType = S
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,90] 
value = 10210

[State 400, 3]
type = CtrlSet
triggerall = var(59)=0
trigger1 = time >= 8 && prevstateno != [100,105]
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;onDしゃがみ弱
[Statedef 10405]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10400
sprpriority = 2
facep2 = 1

[State -1,1]
type = velset
trigger1 = animelem = 2
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 3
x = 8

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 6

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 3

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 9,10
guard.pausetime = 9,9
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = EnemyNear,stateType != L
trigger1 = time >= 14 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,60] 
trigger1 = P2BodyDist Y = [-50,50]
value = 10400

[State 400, 3]
type = CtrlSet
trigger1 = var(59)=0
trigger1 = time >= 8 && prevstateno != [100,105]
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = var(59)=1
trigger2 = Time = 14
trigger2 = P2BodyDist X >= 60 
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;onしゃがみ中
[Statedef 10410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10410
sprpriority = 2

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 5

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((57*fvar(0))<7,7,(57*fvar(0)))),4
guardflag = MA
pausetime = 11,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 1

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 10400
Trigger1 = EnemyNear,stateType != A
trigger1 = movecontact && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,100] 
value = 10420

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1 
;---------------------------------------------------------------------------
;前onしゃがみ中
[Statedef 10411]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10411
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s820
guard.sparkno = S840
sparkxy = -10,-86
hitsound = S1,1
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;onしゃがみ強
[Statedef 10420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10420
sprpriority = 2
facep2 = 1

[State -1,1]
type = velset
trigger1 = animelem = 3
x = 4

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 6

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 0

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = C, NA
hitflag = MAF
guardflag = M
animtype = up
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((61*fvar(0))<7,7,(61*fvar(0)))),3
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s830
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,5
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -3,-10
guard.kill = 0
guard.velocity = -5.5
air.velocity = -10,-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 10410
Trigger1 = EnemyNear,stateType = A
trigger1 = AnimTime = 0 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [50,130] 
value = 10225

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;onDしゃがみ強
[Statedef 10425]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10425
sprpriority = 2
facep2 = 1

[State -1,1]
type = velset
trigger1 = animelem = 1
x = 8

[State -1,1]
type = velset
trigger1 = animelem = 2
x = 8

[State -1,1]
type = velset
trigger1 = animelem = 3
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 13

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 5

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 2

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = C, NA
hitflag = MAF
guardflag = M
animtype = up
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((61*fvar(0))<7,7,(61*fvar(0)))),3
pausetime = 13,13
guard.pausetime = 13,13
sparkno = s830
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,5
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -2,-10
guard.kill = 0
guard.velocity = -5.5
air.velocity = -10,-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;onジャンプ弱
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 30
ctrl = 0
anim = 10600
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0 
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = light
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),5
priority = 3
pausetime = 8,8
sparkno = S810
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,0
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 50
givepower = 25
p2facing = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;onジャンプ中
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 40
ctrl = 0
anim = 10610
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0 
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = heavy
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),5
priority = 3
pausetime = 11,11
sparkno = S820
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,1
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 50
givepower = 25
p2facing = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;onジャンプ強
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50
ctrl = 0
anim = 10620
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0 
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = heavy
damage = ceil(ifelse((77*fvar(0))<7,7,(77*fvar(0)))),5
priority = 3
pausetime = 13,13
sparkno = S830
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,5
guardsound = S1,6
ground.type = High
air.type = High
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,20)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,20)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,8,15)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,8,15)
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -4,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
guard.kill = 0
getpower = 50
givepower = 25
p2facing = 1

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;発現攻撃
[Statedef 14000]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 0,0
anim = 14000
sprpriority = 2

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 875
sprpriority = 4
ownpal = 1

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((75*fvar(0))<7,7,(75*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10,-5
guard.velocity = -12
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -7,-3
air.hittime = 17
fall = 1
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 4, 2
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;発現on立ち弱
[Statedef 14200]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 20
ctrl = 0
velset = 0,0
anim = 10200
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 875
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s810
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 7
ground.hittime  = 11
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
guard.kill = 0
getpower = 20
givepower = 10

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;発現on立ち中
[Statedef 14210]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10210
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 875
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State -1,1]
type = velset
trigger1 = animelem = 4
x = 10

[State -1,1]
type = velset
trigger1 = animelem = 5
x = 5

[State -1,1]
type = velset
trigger1 = animelem = 6
x = 1

[State -1,1]
type = velset
trigger1 = animelem = 7
x = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((57*fvar(0))<7,7,(57*fvar(0)))),4
guardflag = MA
pausetime = 11,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 0, 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;発現on立ち強
[Statedef 14220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 0,0
anim = 10220
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 875
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 1

[State 200, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((75*fvar(0))<7,7,(75*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 13, 13
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10,0
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -7,-3
air.hittime = 17
fall = 0
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 4, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1 
;---------------------------------------------------------------------------
;発現onしゃがみ弱
[Statedef 14400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10400
sprpriority = 2
facep2 = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.9, 1.05

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 875
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 1
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,4

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((25*fvar(0))<7,7,(25*fvar(0)))),3
pausetime = 9,9
guard.pausetime = 9,9
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.kill = 0
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
getpower = 20
givepower = 10

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 405
Trigger1 = EnemyNear,stateType != A
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [-20,50] 
Trigger2 = prevstateno = 405
Trigger2 = EnemyNear,stateType = C
trigger2 = time >= 11 && EnemyNear,movetype = H
trigger2 = P2BodyDist X = [-20,70] 
value = 10400

[State 400, ステート変更]
type = ChangeState
triggerall = var(59)=1
Trigger1 = prevstateno = 405
Trigger1 = EnemyNear,stateType = S
trigger1 = time >= 11 && EnemyNear,movetype = H
trigger1 = P2BodyDist X = [50,80] 
value = 10205

[State 400, 3]
type = CtrlSet
triggerall = var(59)=0
trigger1 = time >= 8 && prevstateno != [100,105]
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
; on時ムーディーブルース(スタンド)  変身段階
[Statedef 11000]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11000
sprpriority = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 3

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 11000+var(10)
;---------------------------------------------------------------------------
; on時ムーディーブルース(スタンド)  変身解除段階
[Statedef 11010]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11005
sprpriority = 0

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ムーディーブルース(スタンド)  立ち弱
[Statedef 11200]
type    = S
movetype= A
physics = S
juggle  = 0;4
ctrl = 0
velset = 0,0
anim = 11200
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),2
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20
givepower = 10
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 20, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 11010
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 前立ち弱パンチ
[Statedef 11201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11201
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 6
guard.kill = 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
getpower = 20
givepower = 10
sprpriority = 2

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 立ち中
[Statedef 11210]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 11210
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 210, アニメ変更]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
value = 210
elem = 6
ignorehitpause = 1
persistent = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0  ;この場合キャラの幅を一時的に前に１５ピクセル伸ばす事になる。
              ;値の意味は「前方のピクセル増減量,後方のピクセル増減量」

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 6
value = 2, 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(0))<7,7,(42*fvar(0)))),4
guardflag = MA
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-80
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
guard.kill = 0
getpower = 40
givepower = 20
sprpriority = 2

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)前立ち中
[Statedef 11215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11215
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 10

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 30

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 2, 2

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((48*fvar(0))<7,7,(48*fvar(0)))),3
guardflag = MA
pausetime = 13,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 40
givepower = 20
sprpriority = 2

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド) 立ち強
[Statedef 11220]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11220
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 4
x = 0

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 3
x = 13

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 7

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),4
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -10
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 17
air.fall = 1
fall.recover = 1
guard.kill = 0
p2facing = 1
getpower = 50
givepower = 20
sprpriority = 2

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 2, 2
channel = 0

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;ムーディーブルース(スタンド)前立ち強
[Statedef 11225]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11225
sprpriority = 2

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1100, Position]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA ;立ち通常打撃（Standing, Normal Attack）
damage = ceil(ifelse((80*fvar(0))<7,7,(80*fvar(0)))),5
animtype = heavy
air.animtype = back
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = s830
guard.sparkno = s840
sparkxy = -30, -76
hitsound = s1, 5
guardsound = s1, 6
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
guard.ctrltime = 17
ground.velocity = -15,-3
airguard.velocity = -2.4,-.8
air.type = High
air.velocity = -15,-3
air.hittime = 17
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
p2facing = 1
getpower = 60
givepower = 30
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 7
value = 0, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
channel = 0

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;しゃがみ弱パンチ
[Statedef 11400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 20400
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 5

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 7
x = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 6
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((20*fvar(0))<7,7,(20*fvar(0)))),3
pausetime = 10,10
guard.pausetime = 8,8
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-46
hitsound = S1,0
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 20
givepower = 10
sprpriority = 2

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 11410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 0
ctrl = 0
anim = 20410
sprpriority = 2

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 20

[State 1010, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 6
x = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 9
value = 0, 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 2, 1
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 8
attr = C, NA
hitflag = MAF
guardflag = L
animtype = middle
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = ceil(ifelse((40*fvar(0))<7,7,(40*fvar(0)))),4
pausetime = 11,11
guard.pausetime = 11,11
sparkno = s820
guard.sparkno = S840
sparkxy = -10,-56
hitsound = S1,1
guardsound = S1,6
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.hittime = 11
air.hittime = 11
ground.velocity = -12
guard.velocity = -10.5
air.velocity = -8
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
yaccel = .44
p2facing = 1
guard.kill = 0
getpower = 40
givepower = 20
sprpriority = 2

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
;しゃがみ強MB
[Statedef 11420]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 0
ctrl = 0
anim = 11420
sprpriority = 2

[State 810, Throw Sound]
type = playsnd
trigger1 = time = 0
value = 2,2

[State 440, 2]
type = velset
trigger1 = animelem = 7
x = 15

[State 440, 2]
type = velset
trigger1 = animelem = 8
x = 8

[State 440, 2]
type = velset
trigger1 = animelem = 9
x = 0

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 6
anim = 870
id = 870
postype = p1
pos = 20,0
sprpriority = 3
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((72*fvar(0))<7,7,(72*fvar(0)))),5
hitflag = MAF
guardflag = L
animtype = hard
priority = 4, Hit
pausetime = 14,14
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-5
hitsound = s1, 5
guardsound = s1, 6
ground.type = Trip
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 17
guard.slidetime = 17
ground.velocity = -4.5*const(size.xscale),-2
air.velocity = -4.5*const(size.xscale),-3
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = 0
getpower = 55
givepower = 20
sprpriority = 2

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11010
;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(38)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(38) = 1

[State 10000]
type = NotHitBy 
trigger1 = 1    
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself  
trigger1 = parent,var(49) = 0  
trigger1 = parent,anim != 15030 
trigger2 = parent,var(49) = 0  
trigger2 = parent,animTime = 0     
trigger3 = parent,movetype = H && parent,stateno != [120,160] 
trigger3 = parent,movetype = H && parent,stateno != [5000,5210]
trigger4 = parent,movetype = H && parent,anim != [10000,15210]

[State 10000,上に表示したい]
type = SprPriority
trigger1 = 1
value = 2

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,anim = [10100,10101]
trigger11 = parent,anim = [10105,10106]
trigger12 = parent,anim = [15000,15027]
trigger13 = parent,anim = 15040
trigger14 = parent,anim = 15050
trigger15 = parent,anim = 15051
trigger16 = parent,anim = 15061
trigger17 = parent,anim = [15070,15071]
trigger18 = parent,anim = 10101
trigger19 = parent,anim = 10047
trigger20 = parent,anim = 10048
trigger21 = parent,anim = 15005
trigger22 = parent,anim = 10044
trigger23 = parent,anim = [10120,10160]
trigger24 = parent,anim = [10041,10046]
trigger25 = parent,anim = 15030
trigger26 = parent,anim = 15030
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 9994
trigger1 = parent,stateno = 10820
value = 9994

[State 10000]
type = ChangeAnim
triggerall = anim != 44
trigger1 = parent,stateno = 10822
value = 44

[State 10000]
type = ChangeAnim
triggerall = anim != 198
trigger1 = parent,stateno = 197
value = 198

[State 10000]
type = ChangeAnim
triggerall = anim != 10185
trigger1 = parent,stateno = 184
value = 10185

[State 10000]
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,stateno = 10200
trigger2 = parent,stateno = 14200
value = 10201

[State 10000]
type = ChangeAnim
triggerall = anim != 10206
trigger1 = parent,stateno = 10205
trigger2 = parent,anim = 100205
value = 10206

[State 10000]
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,stateno = 10210
trigger2 = parent,stateno = 10215
trigger3 = parent,stateno = 14210
value = 10211

[State 10000]
type = ChangeAnim
triggerall = anim != 10221
trigger1 = parent,stateno = 10220
trigger2 = parent,stateno = 10225
trigger3 = parent,stateno = 14220
value = 10221

[State 10000]
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,stateno = 10400
trigger2 = parent,stateno = 10405
trigger3 = parent,stateno = 14400
value = 10401

[State 10000]
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,stateno = 10410
trigger2 = parent,stateno = 10410
trigger3 = parent,stateno = 14410
value = 10401

[State 10000]
type = ChangeAnim
triggerall = anim != 10412
trigger1 = parent,stateno = 10410
trigger2 = parent,stateno = 10415
trigger3 = parent,stateno = 14410
value = 10412

[State 10000]
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,stateno = 10420
trigger2 = parent,stateno = 10425
trigger3 = parent,stateno = 14420
value = 10421

[State 10000]
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,stateno = 10600
value = 10601

[State 10000]
type = ChangeAnim
triggerall = anim != 10611
trigger1 = parent,stateno = 10610
value = 10611

[State 10000]
type = ChangeAnim
triggerall = anim != 10621
trigger1 = parent,stateno = 10620
value = 10621

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000]
type = ChangeAnim
triggerall = anim != 10221
trigger1 = parent,stateno = 14000
value = 10221

[State 10000]
type = ChangeAnim
triggerall = anim != 11011
trigger1 = parent,stateno = 11000
trigger2 = parent,stateno = [11200,11420]
value = 11011

[State 10000]
type = ChangeAnim
triggerall = anim != 801
trigger1 = parent,stateno = 910
value = 801

[State 10000]
type = AssertSpecial
trigger1 = parent,stateno = [13000,13020]
flag = invisible
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(43) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201   
;---------------------------------------------------------------------------
; カンフーマンのこのコンスタンツファイルをそのまま使う場合は、
; ここからステートを追加すると整理しやすいでしょう。
;
; ・・・ってエレクバイト先生が言ってるけど、正直使いにくいかも（ﾏﾃｺﾗ
; 冗談です(´・ω:;.:...
;---------------------------------------------------------------------------
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞの手を表示する
[Statedef -2]

[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(50000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[190,194])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(50000)
trigger1= stateno!=50000
value=50000

[state 0]
type=varset
triggerall = !Ishelper
triggerall=roundstate=2
trigger1=ctrl
trigger2=movetype!=i ;保険
var(12)=1

[State -2]
type = varset
var(49) = 0
trigger1 = var(49) = 10000 
trigger1 = alive = 0       
trigger1 = animTime = 0    
trigger2 = var(49) = 10000 ;ｽﾀﾝﾄﾞonかつ
trigger2 = movetype = H && stateno != [5000,5210]
trigger2 = movetype = H && anim != [10000,15210]
trigger3 = anim = 170
;---------------------------------------------------------------------------
[State -2];リプレイする！制限解除
type = varset
triggerall = var(25)
trigger1 = !numtarget
trigger2 = target,statetype = L
var(25) = 0
;---------------------------------------------------------------------------
[State -2, クリップボード]
type     = DisplayToClipBoard
trigger1 = 1
text     = "var(24)=%d,var(1)=%d,var(2)=%d,fvar(5)=5%f,fvar(0)=0%f"
params   = var(24),helper(3910),var(1),helper(3910),var(2),helper(3910),fvar(5),fvar(0)
IgnoreHitPause = 1

[State -2]
type = helper
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
;敗北
[State -2]
type = Helper
trigger1 = enemynear,stateno = [2000,4999]
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && LoseKO = 1 && NumHelper(20054) = 0
;RoundState	3: Pre-over - 決着がついた瞬間
;LoseKO		そのラウンドで負けた場合、1を返します
ID = 20054
pos = 0,0
stateno = 20054
ownpal = 1
;---------------------------------------------------------------------------
[State -2];スタンド出現時にガード不可にする
type = AssertSpecial
trigger1 = NumHelper(1001) = 1
trigger2 = NumHelper(2) = 1  
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2,StopSnd]
type = StopSnd
trigger1 = stateno != 1200 
trigger1 = stateno != 1203 
trigger1 = stateno != 1205 
trigger1 = stateno != 1210 
trigger1 = stateno != 1212 
trigger1 = stateno != 1214 
trigger1 = stateno != 196
channel = 1
;----------------------------------------------------
;空中ジャンプ回数リセット
[State -2]
type = VarSet
trigger1 = statetype != A
;trigger1 = var(4) = 0
var(4) = 1
;--------------------------------------------------------------------------
[State -2];本体ダミー
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 0
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000
flag = noshadow           
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];ヘルパー野郎
type = helper
trigger1 = var(24) = 1
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5657
ownpal = 1
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(38) = 0
;===========================================================================
;---------------------------------------------------------------------------
;補正
;---------------------------------------------------------------------------

;Life補正相手判別 ※随時足していきます
[state -2, var]
type = varset
triggerall = !var(45)
trigger1 = enemy,authorname = "y.y"
trigger1 = enemy,name = "jotaro" || enemy,name = "Hol horse" || enemy,name = "Hol horse & Boingo"
trigger2 = enemy,authorname = "ahuron"
trigger2 = enemy,name = "THOUTHER"
trigger3 = enemy,authorname = "muteki"
trigger4 = enemy,authorname = "Drowin hokuto"
trigger5 = enemy,authorname = "Nachel"
trigger5 = enemy,name = "Reimu_Hakurei" || enemy,name = "Remilia_Scarlet"
trigger6 = enemy,authorname = "Shiroto"
trigger7 = enemy,authorname = "kayui uma"
var(45) = 1

;コンボ補正OFF
[state -2, var]
type = varset
trigger1 = !var(40)
trigger2 = var(44) = 1
trigger2 = time = 1
var(44) = 0
ignorehitpause = 1

;コンボ補正始動State
[state -2, var]
type = varset
triggerall = stateno != [3000,3005]
triggerall = helper(1001),stateno != [3010,3020]
triggerall = var(44) != 2
trigger1 = stateno = 200
trigger2 = stateno = 201
trigger3 = stateno = 205
trigger4 = stateno = 210
trigger5 = stateno = 211
trigger6 = stateno = 215
trigger7 = stateno = 220
trigger8 = stateno = 225
trigger9 = stateno = 230
trigger10 = stateno = 400
trigger11 = stateno = 405
trigger12 = stateno = 410
trigger13 = stateno = 415
trigger14 = stateno = 420
trigger15 = stateno = 600
trigger16 = stateno = 610
trigger17 = stateno = 620
trigger18 = var(40)
var(44) = 1
ignorehitpause = 1

コンボ補正ON
[state -2, var]
type = varset
trigger1 = var(44) = 1
trigger1 = movehit
var(44) = 2
ignorehitpause = 1

;---------------------------------------------------------------------------
;Hit数補正
[state -2, var]
type = varset
trigger1 = numenemy
trigger1 = enemynear,movetype != H
var(40) = 0
ignorehitpause = 1

[state -2, var]
type = varadd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(40) = 1
;ignorehitpause = 1

;---------------------------------------------------------------------------
;Life補正(自分)
[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[129,144]
var(42) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[113,128]
var(42) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[97,112]
var(42) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[81,96]
var(42) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[65,80]
var(42) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[49,64]
var(42) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[33,48]
var(42) = 6
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[17,32]
var(42) = 7
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[1,16]
var(42) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=0
var(42) = 9
ignorehitpause = 1


;---------------------------------------------------------------------------
;Life補正(相手)
[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[143,144]
var(43) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[128,142]
var(43) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[112,127]
var(43) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[96,111]
var(43) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[80,95]
var(43) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[64,79]
var(43) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[48,63]
var(43) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[32,47]
var(43) = 9
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[16,31]
var(43) = 12
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[0,15]
var(43) = 13
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = 1
fvar(1) = (1+(.08*var(42)))*(1-(.04*var(43)))
ignorehitpause = 1

;---------------------------------------------------------------------------
;最終補正
[state -2, var]
type = varset
trigger1 = 1
fvar(0) = fvar(1)*ifelse(!var(44),1,1-ifelse(var(40)%2,(var(40)-1)*.08,var(40)*.08))
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = fvar(0) < 0
fvar(0) = 0
ignorehitpause = 1
;===========================================================================
; 準常時監視ステート（－３）
;===========================================================================
;---------------------------------------------------------------------------
; こちらは通常の食らい状態以外の「P2StateNo」や「TargetState」等で制御された、
; 作成者が任意に指定した相手側の食らいステートに限り、
; 登録したステートコントローラが有効にはなりません。
; －１や－２と上手く使い分けて行きましょう。
;---------------------------------------------------------------------------

[Statedef -3]
;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(10) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 10
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(10) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 10
value = -(gethitvar(damage)/4)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(10) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 10
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(10) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(10) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(10) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 10
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(10) > 80
fv = 10
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(10) < 0
fv = 10
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(10) >= 10
var(7) = 0
;-----------------------------------
;ここは「ジャンプ」か「バックステップ」をした後に
;着地する音を鳴らす設定をしています。

[State -3, 音を鳴らす]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52  ;着地ステート
trigger2 = stateno = 106 ;バックステップ後の着地ステート
value = 40, 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(1001),stateno = 1020
trigger1 = !helper(1001),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(1001),stateno = 1020
trigger1 = !helper(1001),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(1001),stateno = 1020
trigger1 = !helper(1001),time
trigger1 = statetype = A
value = 15020
ctrl = 0
;---------------------------------------------------------------------------
;-AIフラグ-
[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58) 
triggerall = RoundState = [1,2]
trigger1 = Command = "AI_60"
trigger2 = Command = "AI_01"
trigger3 = Command = "AI_02"
trigger4 = Command = "AI_03"
trigger5 = Command = "AI_04"
trigger6 = Command = "AI_05"
trigger7 = Command = "AI_06"
trigger8 = Command = "AI_07"
trigger9 = Command = "AI_08"
trigger10 = Command = "AI_09"
trigger11 = Command = "AI_10"
trigger12 = Command = "AI_11"
trigger13 = Command = "AI_12"
trigger14 = Command = "AI_13"
trigger15 = Command = "AI_14"
trigger16 = Command = "AI_15"
trigger17 = Command = "AI_16"
trigger18 = Command = "AI_17"
trigger19 = Command = "AI_18"
trigger20 = Command = "AI_19"
trigger21 = Command = "AI_20"
trigger22 = Command = "AI_21"
trigger23 = Command = "AI_22"
trigger24 = Command = "AI_23"
trigger25 = Command = "AI_24"
trigger26 = Command = "AI_25"
trigger27 = Command = "AI_26"
trigger28 = Command = "AI_27"
trigger29 = Command = "AI_28"
trigger30 = Command = "AI_29"
trigger31 = Command = "AI_30"
trigger32 = Command = "AI_31"
trigger33 = Command = "AI_32"
trigger34 = Command = "AI_33"
trigger35 = Command = "AI_34"
trigger36 = Command = "AI_35"
trigger37 = Command = "AI_36"
trigger38 = Command = "AI_37"
trigger39 = Command = "AI_38"
trigger40 = Command = "AI_39"
trigger41 = Command = "AI_40"
trigger42 = Command = "AI_41"
trigger43 = Command = "AI_42"
trigger44 = Command = "AI_43"
trigger45 = Command = "AI_44"
trigger46 = Command = "AI_45"
trigger47 = Command = "AI_46"
trigger48 = Command = "AI_47"
trigger49 = Command = "AI_48"
trigger50 = Command = "AI_49"
trigger51 = Command = "AI_50"
trigger52 = Command = "AI_51"
trigger53 = Command = "AI_52"
trigger54 = Command = "AI_53"
trigger55 = Command = "AI_54"
trigger56 = Command = "AI_55"
trigger57 = Command = "AI_56"
trigger58 = Command = "AI_57"
trigger59 = Command = "AI_58"
trigger60 = Command = "AI_59"
Trigger61 = Helper(20000),var(59)
;trigger62 = RoundState = 2  ;常時AI起動トリガー　
var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58	
Value =11 ;1～11の値で変更
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ■最後に『コモンステート』について■
; コモンステートとは、全キャラ共通の基本動作のステートです。
; 通常は特に変更しない限り、M.U.G.E.N本体のdataフォルダにある
;「common1.cns（コモンステートファイル）」を使います。
;
; しかし、もしもあなたのキャラのステートファイルでcommon1.cnsと同じ番号の
; 基本動作のステートを作った場合は処理が上書きされ、
; common1.cns側の同じ番号のステートは無効になります。
;
; common1.cnsのプログラム優先度は最低に属しているので、
; ステートの作成には番号に注意しないといけません。
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; コンボB Start
[Statedef 100040]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
triggerall = var(59)=0
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=1
trigger2 = var(59)=0
trigger2 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0 
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)=1
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; コンボB jump
[Statedef 100050]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
triggerall = var(59)=0
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=1
trigger2 = var(59)=0
trigger2 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0 
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)=1
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; デム時移動
[Statedef 103900]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = time >= 3
trigger1 = anim = 100+var(49)
x = const(velocity.run.fwd.x)-4*const(size.xscale)

[State 100, 1]
type = VelSet
trigger1 = time >= 25
x = const(velocity.run.fwd.x)-6*const(size.xscale)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
triggerall = var(59)=0
trigger1 = command = "holdup"
value = 40

[State 101, 3]
type = ChangeState
triggerall = time >= 3
triggerall = frontedgebodydist >= 100
trigger1 = var(59)=1
trigger1 = P2BodyDist X = [-20,20]  
value = 799

[State 101, 3]
type = ChangeState
trigger1 = time >= 8
trigger1 = time <= 22
trigger1 = command != "holdfwd"
trigger1 = var(59)=0
trigger2 = time = 22
trigger2 = var(59)=1
value = 101
ctrl = 1
;-------------------------------------------------------------------------
;AI起動用ヘルパー
[Statedef 50000]
anim=9999;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,立ったら消失]
Type = DestroySelf
triggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
trigger2=command="up"&&root,command="up"
trigger3=command="down"&&root,command="down"
trigger4=command="back"&&root,command="back"
trigger5=command="fwd"&&root,command="fwd"
trigger6=command="a"&&root,command="a"
trigger7=command="b"&&root,command="b"
trigger8=command="c"&&root,command="c"
trigger9=command="x"&&root,command="x"
trigger10=command="y"&&root,command="y"
trigger11=command="z"&&root,command="z"
trigger12=command="start"&&root,command="start"

[State 10000,ﾌﾗｸﾞON]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1
