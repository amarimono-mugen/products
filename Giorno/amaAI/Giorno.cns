; これはカンフーマンのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

; これはKFMの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
life = 1000
;パワーゲージの最大値
power = 10000 
  ;攻撃力（これ以上に設定すると強くなる）
attack = 100
  ;防御力（これ以上に設定すると強くなる）
defence = 100
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 999
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 0
  IntPersistIndex  = 58,59
FloatPersistIndex = 40

[Size]
xscale = 0.90;1          ;水平方向の縮尺（通常１）
yscale = 1        ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 16    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 12       ;キャラの幅(前方,空中)
height = 60          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -90   ;頭の大体の座標
mid.pos = -5, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.4      ;前進の速度
walk.back = -2.2     ;後退の速度
run.fwd  = 5.4, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -5.4,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5    ;垂直ジャンプの速度
jump.back = -2.55    ;後ジャンプの速度
jump.fwd = 2.5       ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 0  ;空中でジャンプする最低限の高さ
yaccel = .55         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "君の人生のために言うけど…\n無駄は やめた方がいい"
victory2 = "そんなオイシイ話が……\nあると思うのか？\nおまえの様な人間に"
victory3 = "｢覚悟｣とは！！\n暗闇の荒野に！！\n進むべき道を切り開く事だッ！"
;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空
/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 200, 1]
type = Changeanim
triggerall = var(49) = 10000  
trigger1 = time = 0
value = 10000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
type = S
ctrl = 0
anim = 181+var(49)
velset = 0,0
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 200, 1];敬意を表するッ！
type = PlaySnd
trigger1 = life <= 100
trigger1 = animelem = 1
value = 100, 32

[State 191, 99] 
type = AssertSpecial
trigger1 = life <= 100
trigger1 = Time = [0,230]
flag = roundnotover

[State 191, 2] 
type = AssertSpecial
triggerall = var(49) = 10000 
trigger1 = Time = [0,230]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; 開始前の動作
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 1]
type = PlaySnd
triggerall = animelem = 3
trigger1 = p2name = "dio"
trigger2 = p2name = "final dio" 
trigger3 = p2name = "diavolo" 
value = 100, 31
channel = 0

[State 200, 1]
type = PlaySnd
triggerall = p2name != "dio" 
triggerall = p2name != "final dio" 
triggerall = p2name != "diavolo" 
trigger1 = animelem = 3
value = 100, 21
channel = 0

[State 191, 1] 
type = ChangeAnim
trigger1 = p2name = "dio" 
trigger2 = p2name = "final dio" 
trigger3 = p2name = "diavolo" 
triggerall = RoundState = 0
value = 191

[State 191, 1] 
type = ChangeAnim
triggerall = p2name != "dio" 
triggerall = p2name != "final dio" 
triggerall = p2name != "diavolo" 
trigger1 = RoundState = 0
value = 190

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] 
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; カエル
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = animelem = 81
;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 90
value = 1

[State 195, 2]
type = Changeanim
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 10195
ctrl = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) != 10000
trigger1 = Time = 6
value = 100, 0
channel = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) = 10000
trigger1 = Time = 1
value = 100, 6
channel = 0

[State 195, 1]
type = CtrlSet
triggerall = var(49) != 10000
trigger1 = Time = 100
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち弱
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse((prevstateno=[100,105]),201,200)
poweradd= 10*!(var(54)=1)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 201
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 9, 9
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpgetpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = HitDef
trigger1 = anim = 200
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 10, 10
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 12
ground.velocity = -3*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = A
trigger1 = P2BodyDist X = [-20,150] 
trigger1 = movecontact && time > 8
value = 100300

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 前立ち弱
[Statedef 205]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = 205
poweradd = 20*!(var(54)=1)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 205
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((25*fvar(7))<7,7,(25*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -26
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱S
[Statedef 10200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 10
ctrl = 0
velset = 0,0
anim = 10200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((22*fvar(7))<7,7,(22*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 18

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 210, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,60]
trigger1 = P2BodyDist Y = [-40,0]
trigger1 = movecontact
value = 10210

[State 210, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,100]
trigger1 = P2BodyDist Y = [-100,-40]
trigger1 = movecontact
value = 10240

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガーキャン soff
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 15

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 1801
id = 1001
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ガーキャンGE
[Statedef 1801]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0
facep2 = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 15

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = parent,var(14) = 0
attr = S, SA
damage = ceil(ifelse((14*root,fvar(7))<7,7,(14*root,fvar(7)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((8*root,fvar(7))<7,7,(8*root,fvar(7)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((11*root,fvar(7))<7,7,(11*root,fvar(7)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = parent,var(14) = 1
attr = S, SA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 18
attr = S, SA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; ガーキャン son
[Statedef 11800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 110
velset = 0,0
anim = 11800
ctrl = 0
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
x = 10
y = 10

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 8

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
trigger11 = AnimElem = 23
trigger12 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((6*fvar(7))<7,7,(6*fvar(7)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0.5
kill = 1 - parent,var(14)
p2facing = 1
fall = 1
fall.recover = 0
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
kill = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11001
;---------------------------------------------------------------------------
;前立ち弱S
[Statedef 10205]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((10*fvar(7))<7,7,(10*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
guard.hittime  = 8
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 20

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time >= 7
value = 100202

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱スタンド出現攻撃
[Statedef 10220]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10200
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((21*fvar(7))<7,7,(21*fvar(7)))),5
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 20

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱スタンド出現攻撃
[Statedef 10225]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((10*fvar(7))<7,7,(10*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 20

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち中の動作
; 強パンチの設定は上とほぼ同じです。
; 違うのはsprpriority（表示順位）が-1になっている事です。
; これでは攻撃を出しても絵は相手の後ろに隠れてしまいます
; これはカンフーマンの強パンチを見れば分かるように奥から手前に手を振っている事を
; 表現するためです、最初は手が相手より奥、振り切った時は相手より手前になる
; 投げの場合もこういうことが必要です（掴んでいるようにみせたりするため）
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 25*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((45*fvar(7))<7,7,(45*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 50*!(var(54)=1)
givepower = 10,0
id = 200
ground.cornerpush.veloff = -10

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中S
[Statedef 10210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((45*fvar(7))<7,7,(45*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 210, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,120]
trigger1 = power >= 1000
trigger1 = movehit
value = 13000

[State 210, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,120]
trigger1 = movecontact
value = 11040

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 10215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
anim = 10215

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中スタンド出現攻撃
[Statedef 10250]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10210
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((45*fvar(7))<7,7,(45*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 2,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中スタンド出現攻撃
[Statedef 10255]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
ctrl = 0
anim = 10215
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち強
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "ge"
stateno = 241
id = 1001
pos = 15, 10
postype = p1
ownpal = 1
facing = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強 helper
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 242
sprpriority = 3

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 8

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((90*root,fvar(7))<7,7,(90*root,fvar(7)))),5
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 12,18
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 15
guard.hittime  = 8
guard.slidetime = 8
guard.ctrltime  = 8
ground.velocity = -10*const(size.xscale) * (var(14) = 0)
air.velocity = -10,-3
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
guard.kill = 0
air.fall = 1
fall.recovertime = 35

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 25
trigger1 = time%2 = 0
flag = invisible

[State 181, 無敵]
type = NotHitBy
trigger1 = time >= 25
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 3101, ChangeState]
type = ChangeState
triggerall = time >= 9
trigger1 = parent,command = "QCF_x"
value = 1001

[State 3101, ChangeState]
type = ChangeState
triggerall = time >= 9
trigger1 = parent,command = "QCF_y"
value = 1004

[State 3101, ChangeState]
type = ChangeState
triggerall = time >= 9
trigger1 = parent,command = "QCB_b"
value = 1006

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;立ち強S
[Statedef 10240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = movehit          ;攻撃が相手にヒットしたとき
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 3
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 8

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((75*fvar(7))<7,7,(75*fvar(7)))),5
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 21
ground.hittime  = 21
guard.hittime  = 18
guard.slidetime = 18
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
air.fall = 1
fall.recovertime = 35

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強スタンド出現攻撃
[Statedef 10270]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 6

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((80*fvar(7))<7,7,(80*fvar(7)))),5
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0
air.fall = 1
fall.recovertime = 35

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;スタンド出現攻撃
[Statedef 10300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((80*root,fvar(7))<7,7,(80*root,fvar(7)))),5
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -10*const(size.xscale),-6.5
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱・パンチ
;     これも通常の攻撃とはあまり変わらないが、変わった点といえばpriority（優先順位）
;     が３になっている事です。
;     これによって他の大抵の攻撃よりも優先権が下がる事になり相手と攻撃がかち合った
;     時は負けてしまいます。
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 10*!(var(54)=1)
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((23*fvar(7))<7,7,(23*fvar(7)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 12,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-42
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.velocity = -2.5*const(size.xscale),1
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-10,70] 
trigger1 = movecontact
value = 100101

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,10] 
trigger1 = movecontact
value = 100100

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱S
[Statedef 10400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 10
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((23*fvar(7))<7,7,(23*fvar(7)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 10
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = S
trigger1 = P2BodyDist X = [70,120] 
trigger1 = movecontact && time > 6
value = 10240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = S
trigger1 = P2BodyDist X = [30,70] 
trigger1 = movecontact && time > 6
value = 100202

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = S
trigger1 = P2BodyDist X = [-20,30] 
trigger1 = movecontact && time > 6
value = 100200

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = C
trigger1 = P2BodyDist X = [-20,40] 
trigger1 = movecontact && time >= 6
value = 100400

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,statetype = C
trigger1 = P2BodyDist X = [40,90] 
trigger1 = movecontact && time >= 8
value = 100401

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み弱スタンド出現攻撃
[Statedef 10420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((23*fvar(7))<7,7,(23*fvar(7)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 10
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200,]
type = ChangeState
triggerall = var(59)=0
triggerall = command = "FF"
trigger1 = time >= 6
value = 100

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
; CNS difficulty: easy
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = ifelse((prevstateno=[100,105]),411,410)
sprpriority = 2

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((35*fvar(7))<7,7,(35*fvar(7)))),3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,14
sparkxy = -10,-40
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-6
down.velocity = -5,0
down.hittime = 20
guard.kill = 0
air.fall = 1
fall.recovertime = 10
getpower = 30*!(var(54)=1)
givepower = 10,0

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・中S
[Statedef 10410]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 25
ctrl = 0
anim = 10410
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
guard.kill = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中スタンド出現攻撃
[Statedef 10450]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
guard.kill = 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強
;
;これは足払いの効果を出すためにground.typeがTripになっています。
;それ以外は特にありません。
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70*!(var(54)=1)
ctrl = 0
anim = 440
sprpriority = 1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 440, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((58*fvar(7))<7,7,(58*fvar(7)))),3
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = s820
guard.sparkno = s840
sparkxy = -40,-20
hitsound = s1, 3
guardsound = s1,5
ground.type = Trip ;この攻撃を食らうと相手は吹っ飛べば「転ぶアニメ」になる
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1
fall.recover = 0
numhits = 0

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(241) = 0
helpertype = normal
name = "ge"
stateno = 441
id = 241
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強 helper
[Statedef 441]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 241
sprpriority = 3

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 30, 50

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 440
;---------------------------------------------------------------------------
;屈み強S
[Statedef 10440]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10440
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,2
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = animelem = 6
trigger1 = numhelper(10441) = 0
helpertype = normal
name = "tuta"
stateno = 10441
id = 10441
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強 helper ツタ
[Statedef 10441]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10441
sprpriority = 3

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 0
animtype  = Light
hitflag = M
guardflag = L
pausetime = 0,40
guard.pausetime = 0, 3
sparkxy = -10,-15
sparkno = s810
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = 0
air.velocity = 0,0
down.velocity = 0,0
down.hittime = 20

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 5

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 10442
time = 0
ignorehitpause = 1

[State 440, 4]
type = ChangeState
trigger1 = Time = 50
trigger2 = parent,movetype = H && parent,stateno != [120,160]
value = 10442
;---------------------------------------------------------------------------
;屈み強 helper ツタ 消滅
[Statedef 10442]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 10442
sprpriority = 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;空中弱
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 10*!(var(54)=1)
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((21*fvar(7))<7,7,(21*fvar(7)))),5
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 28
value = 1
;---------------------------------------------------------------------------
;空中弱S
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((27*fvar(7))<7,7,(27*fvar(7)))),5
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-48
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -6*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1
guard.kill = 0
air.fall = 1
fall.recovertime = 20

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1

;---------------------------------------------------------------------------
;空中弱スタンド出現攻撃
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((27*fvar(7))<7,7,(27*fvar(7)))),5
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1
guard.kill = 0
air.fall = 1
fall.recovertime = 20

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;空中中
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30*!(var(54)=1)
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2
getpower = 30*!(var(54)=1)
givepower = 20,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 32
value = 1
;---------------------------------------------------------------------------
;空中中2
[Statedef 30610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((32*fvar(7))<7,7,(32*fvar(7)))),5
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2
getpower  = 0
guard.kill = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 32
value = 1
;---------------------------------------------------------------------------
;空中中S
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((32*fvar(7))<7,7,(32*fvar(7)))),5
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2
guard.kill = 0 
air.fall = 1
fall.recovertime = 25

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中中スタンド出現攻撃
[Statedef 10650]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 11

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((32*fvar(7))<7,7,(32*fvar(7)))),5
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2
guard.kill = 0
air.fall = 1
fall.recovertime = 25

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中強
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 40*!(var(54)=1)
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = numhelper(1001) = 0
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((65*fvar(7))<7,7,(65*fvar(7)))),5
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,22)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,22)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
ground.velocity = -5*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
getpower = 40*!(var(54)=1)
givepower = 30,0

[State 640, ヒット定義]
type = HitDef
trigger1 = numhelper(1001) != 0
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((35*fvar(7))<7,7,(35*fvar(7)))),5
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.hittime  = 13
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
getpower = 40*!(var(54)=1)
givepower = 30,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
;空中強
[Statedef 30640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((41*fvar(7))<7,7,(41*fvar(7)))),5
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 24
ground.hittime  = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
getpower  = 0
guard.kill = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
;空中強S
[Statedef 10640]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50
ctrl = 0
anim = 10640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3.5

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 12
channel = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((68*fvar(7))<7,7,(68*fvar(7)))),8
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
ground.velocity = -8
air.velocity = -2,6
guard.kill = 0
air.fall = 1
fall.recover = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;---------------------------------------------------------------------------
;空中強スタンド出現攻撃
[Statedef 10670]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 60
ctrl = 0
anim = 10640
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 12
channel = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 630, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = ceil(ifelse((68*fvar(7))<7,7,(68*fvar(7)))),8
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 24
ground.hittime  = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -8
air.velocity = -2,6
guard.kill = 0
air.fall = 1
fall.recover = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;---------------------------------------------------------------------------
;掴み son
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10900
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 803

[State 1061, 2]
type = Velset
trigger1 = time = 32
y = -4
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 34
y = -3.675
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 36
y = -3.35
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 38
y = -3
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = -1.5
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 42
y = -0.75
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 44
y = -0.375
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 46
y = 0
x = -8.5

[State 1061, 2]
type = Velset
trigger1 = time = 48
y = 0.25
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = 50
y = 0.5
x = -7.5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 1
x = -7

[State 1061, 2]
type = Velset
trigger1 = time = 53
y = 2
x = -6.5

[State 1061, 2]
type = Velset
trigger1 = time = 54
y = 4
x = -6

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 6
x = -5.5

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 8
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 56
y = 9
x = -4.5

[State 1061, 2]
type = Velset
trigger1 = time > 57
y = 10
x = -4

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 35
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;成功（放り投げる）son
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 10901
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 901, Effect]
type = PlaySnd
trigger1 = time = 5
value = 100, 15
channel = 0

[State 10820,]
type = Explod
trigger1 = Time = 32
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 32
value = 1,3

[State 901, Effect]
type = PlaySnd
trigger1 = time = 25
value = 100, 13
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 80, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 32
value = -55

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ（掴みモーション）
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 900+var(49)

[State 900, 1]
type = HitDef
triggerall = var(49) != 10000
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(command = "holdfwd", 1, -1)
p2facing = 1
p2stateno = 909
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 900, 1]
type = HitDef
triggerall = var(49) = 10000
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(frontedgebodydist > backedgedist, 1, -1)
p2facing = 1
p2stateno = 919
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
triggerall = var(49) != 10000
trigger1 = numtarget
trigger1 = target,stateno = 909
value = 901
persistent = 0

[State 901, Throw]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = numtarget
trigger1 = target,stateno = 919
value = 911
persistent = 0

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ（本体）
[Statedef 901]
type = S
movetype = A
physics = N
anim = 901+var(49)
velset = 0,0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1000, Spark]
type = helper
triggerall = var(49) != 10000
trigger1 = !var(49) && time = 0
stateno = 904
id = 904
pos = 20
postype = P1
ownpal = 1

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 905

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 4
trigger2 = var(49) && time = 4
value = 100, 15
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 35
trigger2 = var(49) && time = 47
value = 0, 2

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 41
trigger2 = var(49) && time = 52
value = 1, 3

[State 901, Effect]
type = PlaySnd
trigger1 = time = 0
value = 1, 9
channel = 1

[State 1000, Spark]
type = Explod
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 52
Anim = 830
id = 8202
pos = ceil((75-(var(49)*.002))*const(size.xscale)),ceil(-82*const(size.yscale))
postype = P1
ownpal = 1
ontop = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = ceil((76-(var(49)*.002))*const(size.xscale)),0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 51
value = -55

[State 901, Ctrl]
type = ChangeState
triggerall = !var(49)
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 220, 3]
type = ChangeState
triggerall = time > 1
trigger1 = var(49) = 10000
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げぬけ 自分（y.y氏製作）
[Statedef 930]
type = A
movetype = I
physics = A
anim = Ifelse(var(49)=10000,15040,5210)
velset = -3,-5

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 940

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　相手
[Statedef 940]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
---------------------------------------------------
;スタンドon 投げ　あいて
[Statedef 919]
type    = A
movetype= H
physics = N
velset = 0,0
poweradd = 40

[State 820, 1]
type = ChangeAnim2;敵（今回は自キャラ）からアニメーションを参照します。
Trigger1 = Time = 0
value = 905

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = AnimTime = 0
value = 5035
ctrl=0

;---------------------------------------------------------------------------
;投げ（スタンド）
[Statedef 10901]
type = S
movetype = A
physics = N
anim = 10902
velset = 0,0
sprpriority = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 820, sprpriority]
type = sprpriority
trigger1 = animelem = 7
value = 2

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 950 && root,time = 1
trigger2 = AnimTime = 0
value = 10000
;---------------------------------------------------------------------------
;投げ helper
[Statedef 904]
type = S
movetype = A
physics = N
anim = 904
velset = 0,0
sprpriority = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 20,15

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 901, Effect]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 13
channel = 0

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = root,stateno != 901
value = 1002
;---------------------------------------------------------------------------
;投げ（相手）
[Statedef 905]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 905

[State 903, 2]
type = ChangeState
trigger1 = animtime = 0
value = 906
;---------------------------------------------------------------------------
;投げ（相手）2
[Statedef 906]
type = A
movetype = H
physics = N
velset = -12.5,-4.3

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelAdd
trigger1 = 1
y = .4

[State 5040, 5] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;投げ（相手）3
[Statedef 909]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
; 投げ(スタンド)
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000
sprpriority = 1

[State 230, 3]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 800
;---------------------------------------------------------------------------
; 無駄無駄弱
; 
;   これは必殺技のステートです、主な違いはattrがS, SAになっているところで
;   意味はＳ：立ち Ｓ：必殺技 Ａ：攻撃となっています。
;   これは相手のとる反応を左右するので正確にする必要があります
;   後、攻撃が近くで当たるのと遠くで当たるのを区別しています
;   1000,5はtrigger1 = p2bodydist X < 40と記述があります
;   意味は「相手の水平位置が40より近い」ということです。
;   1000,6はtrigger1 = p2bodydist X >= 40となっています、すると
;   意味は「相手の水平位置が40以上」となっているので近くなら強く
;   遠くなら弱くダメージがあると言う事です。

[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 1001
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 230, 3]
type = ctrlset
trigger1 =Time >= 20
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（弱）(スタンド)
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((18*root,fvar(7))<7,7,(18*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((13*root,fvar(7))<7,7,(13*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 無駄無駄終了（弱）(スタンド)
[Statedef 1002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1002
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1002
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 無駄無駄中

[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 1004
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 230, 3]
type = ctrlset
trigger1 =Time >= 20
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（中）(スタンド)
[Statedef 1004]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 13*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((18*root,fvar(7))<7,7,(18*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((13*root,fvar(7))<7,7,(13*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
p2facing = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 無駄無駄強
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 1004
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 230, 3]
type = ctrlset
trigger1 =Time >= 20
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（強）(スタンド)
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 16*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1B]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((18*root,fvar(7))<7,7,(18*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1C]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1D]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
p2facing = 1
air.fall = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 200, 1E]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((13*root,fvar(7))<7,7,(13*root,fvar(7)))),8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale)
air.velocity = -15*parent,const(size.xscale),-5
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20,0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5997]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[state 301, ]
type=parentvarset
trigger1 = !time 
var(54) = 0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3014
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3015
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3016
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3017
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3018
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,hitshakeover
trigger2 = root,hitshakeover
trigger2 = root,prevstateno = [5000,5099]
value = 5998
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5998]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 5999
id = 5999
pos = 0,ceil(-70*const(size.yscale))
postype = p1
sprpriority = 0
removetime = 10
bindtime = -1
scale = const(size.xscale),const(size.yscale)
persistent = 0

[State 1000, 2]
type = Varset
trigger1 = !hitshakeover
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = hitshakeover
v = 13
value = 1

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 0
ID = 5999
scale = const(size.xscale)+var(13)/11.5 , const(size.yscale)-var(13)/11.5

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 1

[State 230, 2]
type = destroyself
trigger1 = root,hitover
trigger2 = root,movetype != H && time > 0
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 9500]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9500
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 9520

;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 9520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9501
velset = 0,0
sprpriority = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 4

[State 0, hitvel]
type = null;hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 29999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける

;---------------------------------------------------------------------------
;無駄無駄S
[Statedef 11000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 0,特別加算]
type = varadd
trigger1 = !time
trigger1= numtarget
var(40)=1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 4
facing = 1                 
postype = p1
pos = 30,-85
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 6
facing = 1                 
postype = p1
pos = 35,-65
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 9
facing = 1                 
postype = p1
pos = 31,-72
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 12
facing = 1                 
postype = p1
pos = 37,-85
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-2
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 55
trigger3 = var(59)=1
trigger3 = time > 29
Trigger3 = !numtarget
trigger4 = var(59)=1
Trigger4 = EnemyNear,StateType = L
value = 11001
;---------------------------------------------------------------------------
;無駄無駄S終了
[Statedef 11001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11003
hitcountpersist = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = heavy
damage    = 20, 9
guardflag = MA
priority = 4, Hit
pausetime = 15,15
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -15,-2
air.velocity = -10*const(size.xscale),-1
fall = 1
fall.recovertime = 45
guard.kill = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 17
channel = 0 

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄S終了　中強
[Statedef 11004]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11004
hitcountpersist = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = heavy
damage    = 20, 9
guardflag = MA
priority = 4, Hit
pausetime = 15,15
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -15,-2
air.velocity = -10*const(size.xscale),-1
fall = 1
fall.recovertime = 45
guard.kill = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 17
channel = 0 

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄中S
[Statedef 11010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 0,特別加算]
type = varadd
trigger1 = !time
trigger1= numtarget
var(40)=1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 4
facing = 1                 
postype = p1
pos = 30,-85
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 6
facing = 1                 
postype = p1
pos = 25,-65
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 9
facing = 1                 
postype = p1
pos = 31,-72
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 12
facing = 1                 
postype = p1
pos = 37,-85
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
fall.recovertime = 45
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-2
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
fall.recovertime = 45
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
fall.recovertime = 45
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 200, 7]
type = velset
trigger1 = time >= 5
x = 14*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 7
x = 0.4*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 57
x = 0

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 55
trigger3 = var(59)=1
trigger3 = time > 29
Trigger3 = !numtarget
trigger4 = var(59)=1
Trigger4 = EnemyNear,StateType = L
value = 11004
;---------------------------------------------------------------------------
;無駄無駄S 強 
[Statedef 11040]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 0,特別加算]
type = varadd
trigger1 = !time
trigger1= numtarget
var(40)=1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 4
facing = 1                 
postype = p1
pos = 30,-85
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 6
facing = 1                 
postype = p1
pos = 25,-65
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 9
facing = 1                 
postype = p1
pos = 31,-72
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 12
facing = 1                 
postype = p1
pos = 37,-85
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,-2
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((9*fvar(7))<7,7,(9*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,0
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 200, 7]
type = velset
trigger1 = time >= 5
x = 20*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 7
x = 1.0*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 57
x = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
triggerall = var(40)<=30
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time > 50
value = 100700

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 55
trigger3 = var(59)=1
trigger3 = time > 29
trigger3 = !numtarget
trigger4 = var(59)=1
trigger4 = EnemyNear,StateType = L
value = 11004
;---------------------------------------------------------------------------
; 無駄無駄ラッシュ S(超必殺)　
[Statedef 13000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 13300
ctrl = 0
sprpriority = 2

[State 0,特別加算]
type = varadd
trigger1 = !time
trigger1= numtarget
var(40)=1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 200, 7]
type = velset
trigger1 = time >= 50
x = 10*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 54
x = 3*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 141
x = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 61

[State 3000, 相手の特定の攻撃属性無効]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 15
trigger3 = AnimElem = 27
trigger4 = AnimElem = 39
trigger5 = AnimElem = 41
facing = 1                 
postype = p1
pos = 50,-86
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 6
trigger2 = AnimElem = 18
trigger3 = AnimElem = 30
trigger4 = AnimElem = 42
facing = 1                 
postype = p1
pos = 25,-65
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 21
trigger3 = AnimElem = 33
trigger4 = AnimElem = 45
facing = 1                 
postype = p1
pos = 31,-72
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 12
trigger2 = AnimElem = 24
trigger3 = AnimElem = 36
trigger4 = AnimElem = 47
facing = 1                 
postype = p1
pos = 37,-85
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 27
trigger6 = AnimElem = 33
trigger7 = AnimElem = 39
trigger8 = AnimElem = 45
attr = S, SA
damage = ceil(ifelse((8*fvar(7))<5,5,(8*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, -85
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-2
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
trigger7 = AnimElem = 41
attr = S, SA
damage = ceil(ifelse((8*fvar(7))<4,4,(8*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -66
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
trigger6 = AnimElem = 37
trigger7 = AnimElem = 43
attr = S, SA
damage = ceil(ifelse((8*fvar(7))<5,5,(8*fvar(7)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -50
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 16
guard.slidetime = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 45
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 0,0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 47
attr = S, NA
animtype  = heavy
damage = 30,2
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -15,-4
envshake.time = 8
envshake.frep = 300
envshake.ampl = 14
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
getpower = 0,0
givepower = 10,0
guard.kill = 0
p2stateno = 6664

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;木の根　超必
[Statedef 13150]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 13151
hitcountpersist = 1

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,28
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 7
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 7
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 7
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist < 120
trigger1 = AnimElem = 7, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist = 120
trigger1 = AnimElem = 7, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 150, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist > 120
trigger1 = AnimElem = 7, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist < 90
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 140, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist = 90
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist > 90
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];4番目
type = Helper
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3153
id = 11101
pos = -30, 0
postype = front
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 7, = 40
value = 100,29
channel = 0  

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄無駄無駄
[Statedef 17000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 17000
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 215]
type = VelSet
trigger1 = animelem = 2
x = 7

[State 215]
type = VelSet
trigger1 = animelem = 7
x = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -3000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 58

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((65*fvar(7))<7,7,(65*fvar(7)))),5
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s7, 5
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
fall = 1
p2facing = 1
p1stateno = 17001
p2stateno = 17003
kill = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 0
value = 100, 25

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 43
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄無駄無駄その２ 本体
[Statedef 17001]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 17001
ctrl = 0
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 215]
type = HitAdd
trigger1 = time = 63
trigger2 = time = 93
value = 1

[State 215]
type = HitAdd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 12
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 16
trigger9 = animelem = 17
trigger10 = animelem = 18
trigger11 = animelem = 19
trigger12 = animelem = 21
trigger13 = animelem = 22
trigger14 = animelem = 23
trigger15 = animelem = 24
trigger16 = animelem = 25
trigger17 = animelem = 27
trigger18 = animelem = 28
trigger19 = animelem = 29
trigger20 = animelem = 30
trigger21 = animelem = 31
trigger22 = animelem = 33
trigger23 = animelem = 34
trigger24 = animelem = 35
trigger25 = animelem = 37
trigger26 = animelem = 6
value = 1

[State 215]
type = HitAdd
trigger1 = animelem = 11
trigger2 = animelem = 14
trigger3 = animelem = 20
trigger4 = animelem = 26
trigger5 = animelem = 36
value = 2

[State 1060, 5]
type = envshake
trigger1 = Time = 220
time = 8
frep = 320
ampl = -14

[State 16010, 仮面]
type = Explod      
trigger1 = time = 220
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 220
value = 7, 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 15
trigger4 = animelem = 23
anim = 850
ID = 17000
pos = 0, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 13
trigger2 = animelem = 19
trigger3 = animelem = 27
trigger4 = animelem = 31
trigger5 = animelem = 37
anim = 850
ID = 17000
pos = -4, -60
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 21
trigger2 = animelem = 29
trigger3 = animelem = 33
anim = 850
ID = 17000
pos = 3, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 9
trigger2 = animelem = 17
trigger3 = animelem = 25
trigger4 = animelem = 35
anim = 850
ID = 17000
pos = 10, -35
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = ModifyExplod
trigger1 = time = 223
ID = 17000
removetime = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 18
value = 100, 34
channel = 0  

[State 400, コントロール]
type = CtrlSet
trigger1 = 1
value = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[state 3000]
type = playsnd
trigger1 = time = 213
value = 100,17
channel = 0

[state 3000]
type = ChangeState
trigger1 = time = 223
value = 17002
;---------------------------------------------------------------------------
; 無駄無駄無駄無駄その3 本体
[Statedef 17002]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 17002
ctrl = 0
sprpriority = 0

[state 3000]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------------------------------------
; 無駄無駄無駄無駄・相手くらい空中
[Statedef 17003]
type    = A
movetype= H
physics = N
velset = 0,0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, ライフ増減]
type = LifeAdd
trigger1 = time = 21
trigger2 = time = 127
trigger3 = time = 129
trigger4 = time = 131
trigger5 = time = 133
trigger6 = time = 135
trigger7 = time = 137
trigger8 = time = 139
trigger9 = time = 33
trigger10 = time = 35
trigger11 = time = 37
trigger12 = time = 39
trigger13 = time = 41
trigger14 = time = 43
trigger15 = time = 45
trigger16 = time = 47
trigger17 = time = 49
trigger18 = time = 51
trigger19 = time = 53
trigger20 = time = 55
trigger21 = time = 57
trigger22 = time = 59
trigger23 = time = 61
trigger24 = time = 63
trigger25 = time = 65
trigger26 = time = 67
trigger27 = time = 69
trigger28 = time = 71
trigger29 = time = 73
trigger30 = time = 75
trigger31 = time = 77
trigger32 = time = 79
trigger33 = time = 81
trigger34 = time = 83
trigger35 = time = 85
trigger36 = time = 87
trigger37 = time = 89
trigger38 = time = 91
trigger39 = time = 93
trigger40 = time = 95
trigger41 = time = 97
trigger42 = time = 99
trigger43 = time = 101
trigger44 = time = 103
trigger45 = time = 105
trigger46 = time = 107
trigger47 = time = 109
trigger48 = time = 111
trigger49 = time = 113
trigger50 = time = 115
trigger51 = time = 117
trigger52 = time = 119
trigger53 = time = 121
trigger54 = time = 123
trigger55 = time = 125
trigger56 = time = 141
trigger57 = time = 143
trigger58 = time = 145
trigger59 = time = 147
trigger60 = time = 149
trigger61 = time = 151
trigger62 = time = 153
trigger63 = time = 155
trigger64 = time = 157
trigger65 = time = 159
trigger66 = time = 161
trigger67 = time = 163
trigger68 = time = 165
trigger69 = time = 167
trigger70 = time = 169
trigger71 = time = 171
trigger72 = time = 173
trigger73 = time = 175
trigger74 = time = 177
trigger75 = time = 179
trigger76 = time = 181
trigger77 = time = 183
trigger78 = time = 185
trigger79 = time = 187
trigger80 = time = 189
trigger81 = time = 191
trigger82 = time = 193
trigger83 = time = 195
trigger84 = time = 197
trigger85 = time = 199
trigger86 = time = 201
trigger87 = time = 203
trigger88 = time = 205
trigger89 = time = 207
trigger90 = time = 209
trigger91 = time = 211
trigger92 = time = 213
trigger93 = time = 215
trigger94 = time = 217
trigger95 = time = 219
trigger96 = time = 221
trigger97 = time = 223
trigger98 = time = 225
trigger99 = time = 227
value = -2
kill = 0

[State 702, ライフ増減]
type = LifeAdd
var(44) = 0
trigger1 = time = 229
value = -100 
kill = 1

[State 702, ライフ増減]
type = LifeAdd
var(44) != 0
trigger1 = time = 229
value = -60 
kill = 1

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 17005

[State 1060, 2]
type = changeanim2
trigger1 = time = 27
trigger2 = time = 54
trigger3 = time = 81
trigger4 = time = 108
trigger5 = time = 135
trigger6 = time = 162
trigger7 = time = 189
trigger8 = time = 216
value = 3004

[State 1060, 2]
type = changeanim2
trigger1 = time = 36
trigger2 = time = 63
trigger3 = time = 90
trigger4 = time = 117
trigger5 = time = 144
trigger6 = time = 171
trigger7 = time = 198
value = 3005

[State 1060, 2]
type = changeanim2
trigger1 = time = 45
trigger2 = time = 72
trigger3 = time = 99
trigger4 = time = 126
trigger5 = time = 153
trigger6 = time = 180
trigger7 = time = 207
value = 3006

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 223
x = 0
y = 0

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 233
trigger1 = BackEdgeBodyDist <= 20
value = 6665

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 233
x = -10
y = -2

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 243
x = -10
y = 0

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 253
x = -10
y = 2

[State 1061, 2]
type = selfState
trigger1 = Time = 273
value = 5110
;------------------
;壁に当たる状態

[Statedef 17004]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 17004

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1060, 5]
type = envshake
trigger1 = Time = 0
time = 10
frep = 130
ampl = 7

[State 1027, Turn]
type = Turn
trigger1 = Time = 10

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 10
x = 15

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -3
y = -2.5

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .45

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

;[State 1027, Sound]
;type = PlaySnd
;trigger1 = Time = 0
;value = F7,0

[State 5050, 4]
type = selfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = time >= 17
trigger1 = Command = "recovery"
value = 5200

[State 5050, 5]
type = selfState
triggerall = Vel Y > -1
triggerall = alive
triggerall = time >= 17
trigger1 = Command = "recovery"
value = 5210

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 10
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5110
;---------------------------------------------------------------------------
;植物の根 弱
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = 50, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = 50, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = parent,movetype = H && parent,stateno != [120,160] 

[State 301,ステート移動]
type = changestate
trigger1 = Time = 10    ;普通に消えるときの条件。必須
value = 1102
;---------------------------------------------------------------------------
;helper 木の根 発生
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1102
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((65*root,fvar(7))<7,7,(65*root,fvar(7)))),10
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 15,15
guard.pausetime = 6,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 24
ground.hittime  = 24
guard.slidetime = 5
guard.hittime = 5
guard.ctrltime = 5
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1107
time = 0
ignorehitpause = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
trigger2 = parent,movetype = H && parent,stateno != [120,160] ;発生保障はNG
;---------------------------------------------------------------------------
;植物の根 中
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根 中
[Statedef 1104]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = parent,movetype = H && parent,stateno != [120,160] 

[State 301,ステート移動]
type = changestate
trigger1 = Time = 20    ;普通に消えるときの条件。必須
value = 1102
;---------------------------------------------------------------------------
;植物の根 強
[Statedef 1105]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根 強
[Statedef 1106]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = parent,movetype = H && parent,stateno != [120,160] 

[State 301,ステート移動]
type = changestate
trigger1 = Time = 30
value = 1102
;---------------------------------------------------------------------------
;helperは…消えるだけ
[Statedef 1107]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = 1
;---------------------------------------------------------------------------
;植物生成
[Statedef 1400]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 130
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 30, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;花
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1401
sprpriority = 0

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,30

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 1009, 受け止め定義]
type = null;ReversalDef
trigger1 = 1
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s29999
sparkxy       = 0,0
P1StateNo     = 1403

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = 1
value = , NP,SP,HP
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AT,AA
stateno = 1403
time = 0
ignorehitpause = 1

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 301,ステート移動]
type = changestate
trigger1 = Time = 220    ;普通に消えるときの条件。必須
trigger2 = root,var(59) = 0
trigger2 = parent,var(49) != 10000
trigger2 = Time > 21
trigger2 = parent,command = "c" 
trigger3 = parent,movetype = H 
trigger3 = (parent,stateno = [5000,5300]) 
value = 1402
;---------------------------------------------------------------------------
;花 消滅
[Statedef 1402]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1402
sprpriority = 0

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;花 カウンター
[Statedef 1403]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1403
sprpriority = 0

[State 200, 音を鳴らす]
type = varset
trigger1 = !var(0)
var(0) = gethitvar(damage)

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "damege"
stateno = 1404
id = 1404
pos = 0, -50
postype = p1
ownpal = 1
facing = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;カウンター 
[Statedef 1404]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
sprpriority = 6
anim = 1404
ctrl = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 1, 3

[State 1010, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, 2]
type = HitDef
trigger1 = !movecontact
attr = S, SA
animtype = hard
damage    = parent,var(0)
priority  = 7, Hit
guardflag = A
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = 0,-30
hitsound = s1, 3
guardsound = s1, 5
guard.dist = 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -1*const(size.xscale),0
air.velocity = -1*const(size.xscale),0
guard.kill = 0

[state 6031,終了]
type=destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;植物生成
[Statedef 1405]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 60, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;植物生成
[Statedef 1406]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 60, 0
postype = p2
ownpal = 1
facing = -1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カエル生成
[Statedef 11400]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11400
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
triggerall = numhelper(11401) < 3
helpertype = normal
name = "flog"
stateno = 11401
id = 11401
pos = 64, -98
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カエル　成長過程
[Statedef 11401]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1409
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animtime = 0
value = 100, 46

[State 191, 2] 
type = changestate
trigger1 = animtime = 0
value = 11402

[State 191, 2] 
type = destroyself
trigger1 = parent,movetype = H 
trigger1 = (parent,stateno = [5000,5300]) 
;---------------------------------------------------------------------------
;カエル　ジャンプ
[Statedef 11402]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1411
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 5120, 5]
type = NotHitBy
trigger1 = 1
value = , NP,SP,HP
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AT,AA
stateno = 11406
time = 0
ignorehitpause = 1

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 1026, Gravity]
type = VelAdd
trigger1 = Time >= 0
trigger1 = Time <= 10
y = -0.45

[State 1026, Gravity]
type = VelAdd
trigger1 = Time >= 11
y = 0.45

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 11403

[State 191, 2] 
type = changestate
trigger1 = parent,movetype = H 
trigger1 = (parent,stateno = [5000,5300]) 
value = 11405
;---------------------------------------------------------------------------
;カエル　地上
[Statedef 11403]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1410
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 5120, 5]
type = NotHitBy
trigger1 = 1
value = , NP,SP,HP
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AT,AA
stateno = 11406
time = 0
ignorehitpause = 1

[State 181, ]
type = Velset
trigger1 = 1
y = 0

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 191, 2] 
type = changestate
trigger1 = parent,movetype = H 
trigger1 = (parent,stateno = [5000,5300]) 
trigger2 = time >= 200
value = 11405
;---------------------------------------------------------------------------
;カエル　消滅
[Statedef 11405]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1412
sprpriority = 3

[State 181, ]
type = Velset
trigger1 = 1
y = 0

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 2] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;カエル　攻撃反射
[Statedef 11406]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1412
sprpriority = 0

[State 200, ダメージ記憶]
type = varset
trigger1 = !var(0)
var(0) = gethitvar(damage)

[State 181, ]
type = Velset
trigger1 = 1
y = 0

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "ref"
stateno = 1404
id = 1404
pos = 0, -50
postype = p2
ownpal = 1
facing = 1

[State 191, 2] 
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;テントウ虫生成
[Statedef 11420]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11400
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(14121) < 2
helpertype = normal
name = "rbag"
stateno = 11421
id = 11421
pos = 64, -98
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;テントウ虫　成長過程
[Statedef 11421]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1420
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 2] 
type = changestate
trigger1 = time = 10
value = 11422

[State 191, 2] 
type = destroyself
trigger1 = parent,movetype = H  
trigger1 = (parent,stateno = [5000,5300]) 
;---------------------------------------------------------------------------
;テントウ虫　飛行中
[Statedef 11422]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1421
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 17
channel = 3

[State 0]
type = Veladd
trigger1 = time >= 0
trigger1 = time <= 5
y = 1.0

[State 0]
type = Veladd
trigger1 = time >= 5
trigger1 = Pos Y >= -100
y = -0.5

[State 0]
type = Veladd
trigger1 = time >= 5
trigger1 = Pos Y <= -130 
y = 0.5

[State 0]
type = VelSet
Trigger1 = Facing = 1
x = 2

[State 0]
type = VelSet
Trigger1 = Facing = -1
x = 2

[State 901, Turn]
type = Turn
trigger1 = P2bodydist X < -50

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 5120, 5]
type = NotHitBy
trigger1 = 1
value = , NP,SP,HP
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AT,AA
stateno = 11426
time = 0
ignorehitpause = 1

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 191, 2] 
type = changestate
trigger1 = parent,movetype = H 
trigger1 = (parent,stateno = [5000,5300]) 
trigger2 = time >= 300
value = 11425
;---------------------------------------------------------------------------
;テントウ虫　消滅
[Statedef 11425]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1421
sprpriority = 3

[State 181, ]
type = StopSnd
trigger1 = time = 0
channel = 3


[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 2] 
type = destroyself
trigger1 = time = 5
;---------------------------------------------------------------------------
;テントウ虫　攻撃反射
[Statedef 11426]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1420
sprpriority = 0

[State 181, ]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 200, ダメージ記憶]
type = varset
trigger1 = !var(0)
var(0) = gethitvar(damage)

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "ref"
stateno = 1404
id = 1404
pos = 0, -50
postype = p2
ownpal = 1
facing = 1

[State 191, 2] 
type = destroyself
trigger1 = time = 3
;---------------------------------------------------------------------------
;植物の根S 弱
[Statedef 11100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根　dem
[Statedef 41101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 11101
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 35
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;helper 木の根
[Statedef 11101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 11101
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 95
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1107
time = 0
ignorehitpause = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;植物の根S 中
[Statedef 11110]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;植物の根S 強
[Statedef 11140]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;トビウオ　弱　S
[Statedef 11200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = animelem = 8
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11210
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギョギョーッ
[Statedef 11201]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 15

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((40*root,fvar(7))<7,7,(40*root,fvar(7)))),3
priority = 3, Hit
guardflag = MA
pausetime = 0,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -4*const(size.xscale)
air.velocity = -3,-3
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 11202
attr = SCA, NP, SP, HP
time = -1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;さようならギョギョ
[Statedef 11202]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11203
sprpriority = 3

[State 3010, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;トビウオ　弱　S
[Statedef 11203]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = animelem = 8
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11204
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ギョギョーッ
[Statedef 11204]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 15

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((30*root,fvar(7))<7,7,(30*root,fvar(7)))),3
priority = 3, Hit
guardflag = MA
pausetime = 0,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 11202
attr = SCA, NP, SP, HP
time = -1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ご存知ピラニアにだ…
[Statedef 11210]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11210
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 10

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((40*root,fvar(7))<7,7,(40*root,fvar(7)))),3
priority = 3, Hit
guardflag = MA
pausetime = 0,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 4
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -4*const(size.xscale)
air.velocity = -3,-3
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0

[State 3010, 2]
type = changestate
trigger1 = numtarget
trigger1 = !target,ishelper
trigger1 = Movehit
value = 11211

[State 3010, 2]
type = changestate
trigger1 = movecontact
value = 11212

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 11212
attr = SCA, NP, SP, HP
time = -1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ピラニア　噛み付き
[Statedef 11211]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11211
sprpriority = 3

[State 210, 2]
type = PosSet
trigger1 = 1
trigger1 = enemynear,statetype != C
x = enemynear,pos x
y = enemynear,pos y -80

[State 210, 2]
type = PosSet
trigger1 = 1
trigger1 = enemynear,statetype = C
x = enemynear,pos x
y = enemynear,pos y -30

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),3
priority = 3, Hit
guardflag = M
pausetime = 8,8
sparkno = s820
guard.sparkno = s840
sparkxy = -20,10
hitsound = s1, 4
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = 0*const(size.xscale)
air.velocity = 0,-1
p2facing = 1
givepower = 5,0
id = 200
ground.cornerpush.veloff = 0
guard.kill = 0
air.fall = 1
sprpriority = 3

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 10000, HitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 3010, 2]
type = changestate
trigger1 = time = 30
value = 11212
;---------------------------------------------------------------------------
;ピラニア消滅
[Statedef 11212]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11212
sprpriority = 3

[State 3010, 2]
type = velset
trigger1 = time = 0
x = -2

[State 3010, 2]
type = veladd
trigger1 = 1
y = 1

[State 3010, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;トビウオ　off
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1600
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1600) = 0
helpertype = normal
name = "ge"
stateno = 1601
id = 1001
pos = 10, 10
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper ge
[Statedef 1601]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1601
sprpriority = 3

[State 19300]
type = Helper
trigger1 = animelem = 8
trigger1 = numhelper(1001) = 1
helpertype = normal
name = "fish"
stateno = 11201
id = 1600
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;エア・シュート
[Statedef 1900]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 0, 2]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1901
id = 1001
pos = 30, 20
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;エア・シュート
[Statedef 1901]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1901
hitcountpersist = 1
sprpriority = 3

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,15]) && !(time%2)
flag = invisible

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 2
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((80*root,fvar(7))<7,7,(80*root,fvar(7)))),10
guardflag = HA
priority = 3
pausetime = 8,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -2,-3
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
trigger1 = pos y > -15
y = -15

[state 3000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 12
y = -0.05

[state 3000]
type = veladd
trigger1 = time >= 12
x = 1.3
y = 0.8

[State 215　移動]
type = VelSet
trigger1 = helper(1001),stateno != 1901
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック 落下
[Statedef 1902]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1902
hitcountpersist = 1
sprpriority = 3

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -8
y = -4

[State 215　移動]
type = VelSet
trigger1 = time = 2
x = -4
y = -2

[State 215　移動]
type = VelSet
trigger1 = time = 4
x = -2
y = -1

[State 215　移動]
type = VelSet
trigger1 = time = 6
x = -0
y = -0

[State 215　移動]
type = VelSet
trigger1 = time = 8
x = 0
y = 3

[State 215　移動]
type = VelSet
trigger1 = time = 10
x = 0
y = 6

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1903
;---------------------------------------------------------------------------
;キック 着地
[Statedef 1903]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1903
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 6, 2
channel = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;キック 中
[Statedef 1910]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 0, 2]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1911
id = 1001
pos = 30, 20
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック
[Statedef 1911]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1901
hitcountpersist = 1
sprpriority = 3

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,15]) && !(time%2)
flag = invisible

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 2
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((80*root,fvar(7))<7,7,(80*root,fvar(7)))),10
guardflag = HA
priority = 3
pausetime = 8,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -2,-3
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
trigger1 = pos y > -15
y = -15

[state 3000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 12
y = -0.05

[state 3000]
type = veladd
trigger1 = time >= 12
x = 1.9
y = 0.6

[State 215　移動]
type = VelSet
trigger1 = helper(1001),stateno != 1911
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック 強
[Statedef 1920]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 0, 2]
type = VelSet
trigger1 = Time <= 15
x = 0
y = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1911
id = 1001
pos = 30, 20
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック
[Statedef 1921]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1901
hitcountpersist = 1
sprpriority = 3

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,15]) && !(time%2)
flag = invisible

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 2
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((80*root,fvar(7))<7,7,(80*root,fvar(7)))),10
guardflag = HA
priority = 3
pausetime = 8,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3
air.velocity = -2,-3
guard.kill = 0

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
trigger1 = pos y > -15
y = -15

[state 3000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 12
y = -0.05

[state 3000]
type = veladd
trigger1 = time >= 12
x = 2.6
y = 0.3

[State 215　移動]
type = VelSet
trigger1 = helper(1001),stateno != 1921
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック S
[Statedef 11900]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1904
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 40
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = ceil(ifelse((80*fvar(7))<7,7,(80*fvar(7)))),10
guardflag = HA
priority = 3
pausetime = 8,10
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.slidetime = 5
guard.hittime = 5
guard.ctrltime = 5
ground.velocity = -4
air.velocity = -2,-3
guard.kill = 0

[state 3000]
type = veladd
trigger1 = time >= 0
trigger1 = time <= 8
y = -0.1

[state 3000]
type = veladd
trigger1 = time >= 8
x = 1.5
y = 0.6

[State 215　移動]
type = VelSet
trigger1 = stateno != 11900
x = 0
y = 0

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 11901

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;キック 落下 S
[Statedef 11901]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1902
hitcountpersist = 1
sprpriority = 3

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -8
y = -6

[State 215　移動]
type = VelSet
trigger1 = time = 2
x = -8
y = -4

[State 215　移動]
type = VelSet
trigger1 = time = 4
x = -8
y = -3

[State 215　移動]
type = VelSet
trigger1 = time = 6
x = -6
y = -2

[State 215　移動]
type = VelSet
trigger1 = time = 8
x = -6
y = 0

[State 215　移動]
type = VelSet
trigger1 = time = 10
x = -4
y = 2

[State 215　移動]
type = VelSet
trigger1 = time = 13
x = -3
y = 5

[State 215　移動]
type = VelSet
trigger1 = time = 16
x = -2
y = 10

[State 215　移動]
type = VelSet
trigger1 = time = 20
x = -1
y = 20

[State 215　移動]
type = Veladd
trigger1 = time >= 25
y = .1

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;樹木生成
[Statedef 2100]
type = S
movetype = I
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
anim = 2100
sprpriority = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 901, Turn]
type = Turn
trigger1 = time = 40
trigger1 = P2bodydist X < 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 15

[State 0, 2]
type = VelSet
trigger1 = time >= 10
trigger1 = time <= 15
x = 0
y = -8

[State 0, 2]
type = VelSet
trigger1 = Time >= 20
x = 0
y = 0

[State 3200]
type = StateTypeSet
trigger1 = time >= 10
statetype = A

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "jumoku"
stateno = 2109
id = 2110
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 230, 2]
type = changestate
triggerall = time >= 40
trigger1 = var(59)=0
trigger1 = command = "holdup"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = P2BodyDist X = [80,140] 
value = 41
ctrl = 1

[State 230, 2]
type = changestate
trigger1 = time >= 40
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;樹木(幼)
[Statedef 2109]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2109
sprpriority = 2

[State 10001 固定]
type = BindToParent
trigger1 = time = 0
time = 1
pos = 0,0

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 301,ステート移動]
type = changestate
trigger1 = animtime = 0
value = 2110

[State 301,消す]
type = destroyself
trigger1 = parent,movetype = H 
trigger1 = (parent,stateno = [5000,5300]) 
;---------------------------------------------------------------------------
;樹木
[Statedef 2110]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2110
sprpriority = 0

[State -2]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "jumoku2"
stateno = 2111
id = 2111
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 0, scale]
type = angledraw
trigger1 = time >= 0
trigger1 = time < 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 0, scale]
type = AngleDraw
trigger1 = time >= 10
scale = 1.2,1.2
ignorehitpause = 1

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,47

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = time < 10
value = SCA
time = 1

[State 5120, 5]
type = NotHitBy
trigger1 = 1
value = , NP,SP,HP
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AT,AA
stateno = 2113
time = 0
ignorehitpause = 1

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 301,ステート移動]
type = changestate
trigger1 = Time = 60    ;普通に消えるときの条件。必須
trigger2 = parent,movetype = H 
trigger2 = (parent,stateno = [5000,5300]) 
value = 2112
;---------------------------------------------------------------------------
;樹木（前）
[Statedef 2111]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2111
sprpriority = 2

[State 0, scale]
type = angledraw
trigger1 = time >= 0
trigger1 = time < 10
scale = (const(size.xscale)-(.08*(time-10))),(const(size.yscale)+(.06*(time-10)))

[State 0, scale]
type = AngleDraw
trigger1 = time >= 10
scale = 1.2,1.2
ignorehitpause = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,stateno = 2110
time = 1
pos = 0,0

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 301,ステート移動]
type = destroyself
trigger1 = Time = 220    ;普通に消えるときの条件。必須
trigger2 = parent,stateno != 2110
;---------------------------------------------------------------------------
;樹木 消滅
[Statedef 2112]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2112
sprpriority = 0

[State 0, scale]
type = AngleDraw
trigger1 = time >= 1
scale = 1.2,1.2
ignorehitpause = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;樹木 カウンター
[Statedef 2113]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2113
sprpriority = 0

[State 0, scale]
type = AngleDraw
trigger1 = time >= 1
scale = 1.2,1.2
ignorehitpause = 1

[State 200, 音を鳴らす]
type = varset
trigger1 = !var(0)
var(0) = gethitvar(damage)

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "damege"
stateno = 1404
id = 1404
pos = 0, -50
postype = p1
ownpal = 1
facing = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;樹木生成ON
[Statedef 12100]
type = S
movetype = I
physics = S
juggle  = 0
poweradd= 30
ctrl = 0
anim = 12100
sprpriority = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 15

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 901, Turn]
type = Turn
trigger1 = time = 40
trigger1 = P2bodydist X < 0

[State 0, 2]
type = VelSet
trigger1 = time >= 10
trigger1 = time <= 15
x = 0
y = -8

[State 0, 2]
type = VelSet
trigger1 = Time >= 20
x = 0
y = 0

[State 3200]
type = StateTypeSet
trigger1 = time >= 10
statetype = A

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "jumoku"
stateno = 2109
id = 2110
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.0
size.yscale = 1.0

[State 230, 2]
type = changestate
triggerall = time >= 40
trigger1 = var(59)=0
trigger1 = command = "holdup"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = P2BodyDist X = [60,140]
trigger3 = var(59)=1&& RoundState = 2
trigger3 = P2BodyDist X <= -20
value = 41
ctrl = 1

[State 230, 2]
type = changestate
triggerall = time >= 40
trigger1 = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-30,60]
value = 10640

[State 230, 2]
type = changestate
trigger1 = time >= 40
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;ヘビ準備
[Statedef 2000]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 101
trigger2 = root,command != "holdx" 

[State 0, end]
type = changestate
triggerall = time > 100
trigger1 = root,command != "holdx" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
;ヘビ(攻撃)
[statedef 2001]
type    = A
physics = N
movetype= A
ctrl    = 0
velset  = 0,0
anim    = 2001
sprpriority = 3

[state 11200]
type = Velset
trigger1 = animelem = 8
y = 8

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100, 38

[State 200, 1]
type = HitDef
triggerall = parent,movetype != H || (parent,stateno = [120,160]) 
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
attr = S, NA
damage = ceil(ifelse((12*root,fvar(7))<3,3,(12*root,fvar(7)))),0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, 106
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
guard.hittime  = 8
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),1
air.hittime = 12
guard.kill = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent,movetype = H  
trigger1 = (parent,stateno = [5000,5300]) 

[State 0, end]
type = changestate
trigger1 = AnimElemTime(8) > 0
trigger1 = Pos Y >= -140
value = 2002
;---------------------------------------------------------------------------
;ヘビ(着地)
[statedef 2002]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2002
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ヘビ準備中
[Statedef 2010]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 101
trigger2 = root,command != "holdy" 

[State 0, end]
type = changestate
triggerall = time > 100
trigger1 = root,command != "holdy" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
;ヘビ準備遠
[Statedef 2020]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 101
trigger2 = root,command != "holdb" 

[State 0, end]
type = changestate
triggerall = time > 100
trigger1 = root,command != "holdb" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
; レクイエムの片鱗
[Statedef 6666]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30002
ctrl = 0
sprpriority = 2

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30006
id = 30006
pos = 0,-70
postype = p1
sprpriority = 3
bindtime = -1
removeongethit = 1
pausemovetime = parent,var(14) * 9999999999999

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,14
channel = 0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = AnimElemTime(2) = 0
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 6667

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
; レクイエム・攻撃をくらった相手の状態

[Statedef 6664]
type    = A
movetype= H
physics = N
velset = 0,0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1025, Anim] ;２Ｐのスプライトステートを変更しています
type = ChangeAnim2
trigger1 = time = 0
value = 6664

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 12
x = -10
y = -3.5

[State 1026, Gravity]
type = VelAdd
trigger1 = Time > 12
y = .45

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 12
trigger1 = BackEdgeBodyDist <= 20
value = 6665

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;------------------
; レクイエム・壁に当たる状態

[Statedef 6665]
type    = A
movetype= H
physics = N
velset = 0,0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 6665

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1060, 5]
type = envshake
trigger1 = Time = 0
time = 10
frep = 130
ampl = 7

[State 1027, Turn]
type = Turn
trigger1 = Time = 10

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 10
x = 15

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -3
y = -2.5

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .45

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 10
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5110
;---------------------------------------------------------------------------
; レクイエムの片鱗 成功
[Statedef 6667]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 30003
ctrl = 0
sprpriority = 2

[State 220, 3]
type = Helper
trigger1 = animelem = 1
trigger1 = numhelper(1600) = 0
helpertype = normal
name = "ger"
stateno = 6668
id = 1600
pos = -20, 10
postype = p1
ownpal = 1
facing = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999

[State 4000, Pause]
type = Pause
trigger1 = time = 0
time = 60
movetime = 60

[State 181, EnvColor]
type = Bgpalfx
trigger1 = stateno = 6667 
time = 1
invertall = 1
color = 0
ignorehitpause = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 420, 3]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = life >= 500
trigger1 = animtime = 0
trigger1 = enemynear,movetype = H
trigger1 = enemynear,stateno = 6664
value = 195

[State 420, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper ger
[Statedef 6668]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30000
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 7,4

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 100,17
channel = 0  

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,33

[State 220, 3]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = animelem = 5
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 15
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 7000
;---------------------------------------------------------------------------
;helper dmg
[Statedef 6669]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30004
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 100
guard.dist = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 8,-4
air.velocity = 10*const(size.xscale),-1+var(19)*1.3
fall = 1
fall.recover = 0
guard.kill = 0
P2StateNo     = 6664

[State 0, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 片鱗終了(スタンド)
[Statedef 7000]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 30005
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 無駄無駄ラッシュ(超必殺)
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(28) = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 191, 3]
type = nothitby
trigger1 = time = 0
value = SCA
time = 66

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 41
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 3301
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄(スタンド)
[Statedef 3301]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 10*parent,const(size.xscale),0
anim = 3300
sprpriority = 0
facep2 = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 30

[state 3000]
type = playsnd
trigger1 = animelem = 1
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = time = [14,107]
x = 2.8*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = time = 109
x = 0

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 3
range = 0,11

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 15
range = 0,30

[State 10,combo]
type = parentVarset
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
v = 30
value = 1

[State -2,0];
type = parentVaradd
trigger1 = parent,Var(14) = 1
trigger1 = movehit
fv = 2
value = 7 * parent,fvar(19)
ignorehitpause = 1

[State 10,combo]
type = movehitreset
trigger1 = MoveHit
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
trigger11 = AnimElem = 32
trigger12 = AnimElem = 35
trigger13 = AnimElem = 38
trigger14 = AnimElem = 41
trigger15 = AnimElem = 44
trigger16 = AnimElem = 47
attr = S, HA
damage = ceil(ifelse((5*root,fvar(7))<5,5,(5*root,fvar(7)))),5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
trigger11 = AnimElem = 32
trigger12 = AnimElem = 35
trigger13 = AnimElem = 38
trigger14 = AnimElem = 41
trigger15 = AnimElem = 44
trigger16 = AnimElem = 47
attr = S, HA
damage = 0
animtype = hard
guardflag = MA
hitflag = MAFD
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
trigger6 = AnimElem = 19
trigger7 = AnimElem = 22
trigger8 = AnimElem = 25
trigger9 = AnimElem = 28
trigger10 = AnimElem = 31
trigger11 = AnimElem = 34
trigger12 = AnimElem = 37
trigger13 = AnimElem = 40
trigger14 = AnimElem = 43
trigger15 = AnimElem = 46
attr = S, HA
damage = ceil(ifelse((5*root,fvar(7))<5,5,(5*root,fvar(7)))),5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 1
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
trigger6 = AnimElem = 19
trigger7 = AnimElem = 22
trigger8 = AnimElem = 25
trigger9 = AnimElem = 28
trigger10 = AnimElem = 31
trigger11 = AnimElem = 34
trigger12 = AnimElem = 37
trigger13 = AnimElem = 40
trigger14 = AnimElem = 43
trigger15 = AnimElem = 46
attr = S, HA
damage = 0
animtype = hard
guardflag = 
hitflag = MAFD
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 48
attr = S, HA
damage = ceil(ifelse((10*root,fvar(7))<7,7,(10*root,fvar(7)))),5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11,-2
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
fall.recover = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 230, 2]
type = parentvaradd
trigger1 = movehit = 1
var(30) = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 109
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 109
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 109
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 109
value = SCA
time = -1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;-------------------------------------------------------------------
;『WIN』ヘルパー
[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 0, 28

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2;バトル中

;---------------------------
;『to be continued』ヘルパー
[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)

;-------------------------------------------------------------------
;KO勝利時の集中線と音helper
[Statedef 20053]
type    = S
;movetype= I
;physics = N
anim = 29999 ;空アニメ
;velset = 0,0
ctrl = 0

[State 20053]
type = Explod
trigger1 = time = 0
anim = 20053
pos = 0,0
postype = left
sprpriority = 10
ownpal = 1
bindtime = -1	;発生させた親に常にくっ付ける
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1	;「ヒット硬直」を無視

[State 20053]
type = PlaySnd
trigger1 = Time = 0
value = 6, 8
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1;とるすと、ヒット停止時間を無視

[State 20053]
type = DestroySelf
trigger1 = time = 120 && RoundState != 3
;-------------------------------------------------------------------
;敗北カットイン
[Statedef 20054]
type = A
anim = 29999
sprpriority = 4

[State 20054]
type = Palfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = Bgpalfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = PlaySnd
trigger1 = time = 0
value = 6,0;ドーン
persistent = 0  ;1回しかステコンが実行されません

[State 20054];敗北カットイン顔の部分
type = helper
trigger1 = time = 0
trigger1 = NumHelper(20058) = 0
stateno = 20058
id = 20058
sprpriority = 1
pos = 0,0
postype = p1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 0
keyctrl = 0

;青の背景
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 510,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 500,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = RemoveExplod
trigger1 = time = 70
trigger2 = RoundState = 4 
id = 20054

[State 20054]
type = AssertSpecial
trigger1 = time = [0,69]
flag = nobg
flag2 = nofg
flag3 = nobardisplay

[State 20054]
type = null;DestroySelf
trigger1 = RoundState != 3
;trigger1 = time = 70 || RoundState != 3
;trigger2 = RoundState = 4 
;----------------------------------------------------
;敗北カットイン顔の部分
[Statedef 20058]
type    = A
;movetype= I
;physics = N
;velset = 0,0
anim = 29999
sprpriority = 4

[State 20058]
type = Explod
trigger1 = time = 0
trigger1 = NumExplod(20058) = 0
anim = 20058
id = 20058
sprpriority = -4
;removetime = -1
bindtime = -1
pos = ifelse(ishometeam=1,ifelse(root,facing = 1,160,180),ifelse(root,facing = -1,180,160)),120
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
scale = 1.5*parent,const(size.xscale),1.5
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = 1,1,-1))
persistent = 0

[State 20058]
type = RemoveExplod
trigger1 = RoundState != 3
id = 20058

[State 20058]
type = DestroySelf
trigger1 = RoundState != 3
;-----------------------------------------------
;カットイン

[Statedef 23100]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3200
sprpriority = -3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 0+var(14)*1,239+var(14)*3
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 30,30
ownpal = 1
scale = 1,1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 30,330
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 60,60
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = 0-var(14)*1,239+var(14)*3
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = -30,330
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1
getpower = 0

[State 1000, 3]
type = ModifyExplod
trigger1 = Time < 30
ID = 23107
scale = (0.4+Var(14)/15.0)*parent,const(size.xscale) , 0.4+Var(14)/15.0
pausemovetime = 999999

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 14
value = 1

[state 3000]
type = removeexplod
trigger1 = time >= 40
id = 23100

[state 3000]
type = destroyself
trigger1 = time >= 40


;-----------------------------------------------
;SC背景

[Statedef 23101]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -5

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = 0,239
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0

[State 1000, 3]
type = PalFx
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
time = 1
add = 255-Var(14),255-Var(14),255-Var(14)

[state 3000]
type = destroyself
trigger1 = time >= 41
;---------------------------------------------------------------------------
; 木の根(超必殺)
[Statedef 3150]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3150
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 3900]
type = NotHitBy
trigger1 = time <= 55
value = SCA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100,45
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 3151
id = 1001
pos = -30, 0
postype = p1
ownpal = 1
facing = 1

[State 40, 6]
type = ChangeState
triggerall = var(59) = 1
trigger1 = numtarget
trigger1 = AnimTime = 0
value = 100600

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 木の根　
[Statedef 3151]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 10*parent,const(size.xscale),0
anim = 3151
sprpriority = 0
facep2 = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != root,facing

[State 0, ]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 11

[State 0, ]
type = PlaySnd
trigger1 = animelem = 6
value = 100, 24

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist < 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist = 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 150, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist > 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist < 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 140, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist = 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist > 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];4番目
type = Helper
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3153
id = 11101
pos = -30, 0
postype = front
ownpal = 1
facing = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;helper 木の根　S
[Statedef 3152]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 11101
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 32
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -5*const(size.xscale),-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1107
time = 0
ignorehitpause = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;helper 木の根　S
[Statedef 3153]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 3152
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 75
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-8
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1107
time = 0
ignorehitpause = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
; ミスタ
[Statedef 8000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 7000
ctrl = 0
sprpriority = 2

[State 10820, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100,2

[State 1027, helper]
type = Helper
triggerall = NumHelper(8010) = 0 
trigger1 = time = 1
helpertype = normal
name = "wakiga"
stateno = 8010
id = 8010
pos = -20, 0
postype = back
ownpal = 1
facing = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ミスタ登場
[Statedef 8010]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 7010

[State 0]
type = parentvarset
trigger1 = time = 0
var(55) = 1

[State 810, Throw Sound]
type = Playerpush
trigger1 = 1
value = 1

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 7
trigger1 = time >= 40
x = 6

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 10
x = 8

[State 1010, 移動速度]
type = VelSet
trigger1 = animelem = 6
x = 0

[State 440, 4]
type = ChangeState
trigger1 = ParentDist X < 20 
value = 8011
;---------------------------------------------------------------------------
;ミスタ攻撃
[Statedef 8011]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 7011

[State 810, Throw Sound]
type = Playerpush
trigger1 = 1
value = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 8013
id = 8013
pos = ceil(50*const(size.xscale)),ceil(-85*const(size.yscale))
postype = p1
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,35
channel = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 4
value = 100,36

[State 1000, 7]
type = nothitby
trigger1 = 1
value = ,AT
time = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 8012
;---------------------------------------------------------------------------
;ミスタ退場
[Statedef 8012]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 7012

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1410
time = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = animelem = 3
x = -6

[State 1010, 移動速度]
type = VelSet
trigger1 = time >= 10
x = -8

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
; 弾
[Statedef 8013]
type    = A
movetype= A
physics = N
juggle  = 0;0
poweradd= 0
velset = 0,0
anim = 7015
ctrl = 0
sprpriority = 3

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[state 3003]
type = helper
triggerall = NumHelper(8014) = 0 
trigger1 = root,movetype != H
trigger1 = movehit
name = "tuta"
helpertype = normal
stateno = 8014
id = 8014
pos = ceil(-0*const(size.xscale)),ceil(0*const(size.yscale))
postype = p2
ownpal = 1

[State 100,00]
type = Afterimage
trigger1 = animelem = 1
TimeGap = 2
FrameGap = 1
time = 99
length = 5
PalBright = 0,0,0
PalContrast = 255,255,170
PalAdd = 255,255,170
PalMul = .85,.85,.50

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 65
hitflag = MAF
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -5.5*parent,const(size.xscale)
air.velocity = -2*parent,const(size.xscale),-6
air.fall = 1
getpower = 72,0
guard.kill = 0

[State 1000, 7]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
trigger2 = movecontact
;---------------------------------------------------------------------------
; ツタ
[Statedef 8014]
type    = A
movetype= A
physics = N
juggle  = 0;0
poweradd= 0
velset = 0,0
anim = 7016
ctrl = 0
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,30

[State 10820, 1]
type = PlaySnd
trigger1 = time = 0
value = 100,37

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 0
hitflag = MAF
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,100
sparkno = s83099
guard.sparkno = s84099
sparkxy = -10,0
hitsound = s1, 3999
guardsound = s1, 5999
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -5.5*parent,const(size.xscale)
air.velocity = -2*parent,const(size.xscale),-6
air.fall = 1
getpower = 72,0
guard.kill = 0

[State 200, 7]
type = TargetBind
trigger1 = numtarget
pos = 0,0
time = -1
ignorehitpause = 1
persistent = 0

[State 0, target]
type = targetstate
trigger1 = time = [0,165)
trigger1 = target,alive
value = 1815

[State 1000, 7]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;敵拘束
[Statedef 1815]
type = S
movetype = H
physics = N
ctrl = 0
anim = 5000
velset = 0,0
sprpriority = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = ,AT

[State 0, anim]
type = changeanim
trigger1 = 1
value = anim
elem = 1
;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;まずon、offの記述はこんな感じ。
;ｽｲｯﾁ式？ではなく、直接10000を入れてます。var(49)は10000か0

;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 1
anim = 10001
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = Time = 60
value = 0
ctrl = 1
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 16001]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9997
scale = 0.90, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = Time = 60
value = 11
ctrl = 1
;-----------------------------------
;スタンド発現（空中）
[Statedef 16002]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10043;10122
poweradd = 0
;velset = 0,0 ;これしたら速度が0,0になる。ぴたっと止まってしまう。

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9995
scale = 0.90, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10822, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10822, ゴールドE！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;---------------------------------------------------------------------------
;あれれー
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(44) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(44) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 41      
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(43) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201    
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 830]
type = S
physics = S
ctrl = 1
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1

;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself  ;ｼﾞｮﾙﾉの絵を消す条件
trigger1 = parent,var(49) = 0  ;ｽﾀﾝﾄﾞoffのとき
;trigger2 = !Alive      ;onで死んだら-2で(49)=0にしてる。
;                       ;その後で↑trigger1が反応すればいい。

trigger2 = parent,movetype = H && parent,stateno != [5000,5210]
trigger2 = parent,movetype = H && parent,anim != [10000,15210]
;これは相手にｽﾃｰﾄ奪われた時。(投げられ時など)
;-2で、ｽﾃｰﾄ奪われたら(49)=0にしてた。
;その後で↑trigger1が反応してたから消すのが数ﾌﾚｰﾑ遅れていた。
;ので、ここで即消す。

[State 10000,ｼﾞｮﾙﾉのほうが上に表示したい]
type = SprPriority
trigger1 = 1
value = 2

[State 10000] 
type = ChangeAnim
triggerall = anim != 10196
trigger1 = parent,anim = 10195
value = 10196

[State 10000 立ち弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10200
value = 10201

[State 10000 立ち前弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10205
value = 10201

[State 10000 立ち中] 
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10210
value = 10211

[State 10000 立ち前中] 
type = ChangeAnim
triggerall = anim != 10216
trigger1 = parent,anim = 10215
value = 10216

[State 10000 立ち強] 
type = ChangeAnim
triggerall = anim != 10241
trigger1 = parent,anim = 10240
value = 10241

[State 10000 屈み弱] 
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,anim = 10400
value = 10401

[State 10000 屈み中] 
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,anim = 10410
value = 10411

[State 10000 屈み強] 
type = ChangeAnim
triggerall = anim != 10443
trigger1 = parent,anim = 10440
value = 10443

[State 10000 空中弱] 
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10600
value = 10601

[State 10000 空中中] 
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10610
value = 10601

[State 10000 空中強] 
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10640
value = 10601

[State 10000]
type = Width
trigger1 = 1
value = 0,0

[State 10000]
type = ChangeAnim
triggerall = anim != 5072
trigger1 = parent,anim = 15070
value = 5072

[State 10000] 
type = ChangeAnim
triggerall = anim != 0
trigger1 = parent,anim = 10048
value = 0

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,anim = [10041,10046]
trigger11 = parent,anim = 10100
trigger12 = parent,anim = 10101
trigger13 = parent,anim = 10105
trigger15 = parent,anim = [15020,15027]
trigger16 = parent,anim = 15030
trigger17 = parent,anim = 15040
trigger18 = parent,anim = 15050
trigger19 = parent,anim = 15051
trigger20 = parent,anim = 15061
trigger21 = parent,anim = [15070,15071]
trigger22 = parent,anim = 10101
trigger23 = parent,anim = 10047
trigger24 = parent,anim = 10048
trigger25 = parent,anim = 15005
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10120
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10130
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10140
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10150
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10121
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10131
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10141
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10151
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10122
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10132
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10142
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10152
value = 9996

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10670
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10650
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10620
value = 9996

[State 10000] ;トビウオ
type = ChangeAnim
triggerall = anim != 11202
trigger1 = parent,anim = 11200
value = 11202

[State 10000] ;木の根弱
type = ChangeAnim
triggerall = anim != 11102
trigger1 = parent,anim = 11100
value = 11102

[State 10000] ;ガーキャン
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11800
value = 11001

[State 10000] ;無駄無駄弱
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11000
value = 11001

[State 10000] ;無駄無駄中
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11010
value = 11001

[State 10000] ;無駄無駄強
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11040
value = 11001

[State 10000] ;無駄無駄ラッシュ
type = ChangeAnim
triggerall = anim != 13150
trigger1 = parent,anim = 13151
value = 13150

[State 10000] ;無駄無駄ラッシュ
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 13300
value = 11001

[State 10000] ;無駄無駄無駄無駄
type = ChangeAnim
triggerall = anim != 17003
trigger1 = parent,anim = 17000
value = 17003

[State 10000] ;無駄無駄無駄無駄
type = ChangeAnim
triggerall = anim != 17006
trigger1 = parent,anim = 17002
value = 17006

[State 10000] ;感覚暴走弱
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 11300
value = 9999

[State 10000] ;エアシュートおちる
type = ChangeAnim
triggerall = anim != 1906
trigger1 = parent,anim = 1902
value = 1906

[State 10000] ;エアシュート
type = ChangeAnim
triggerall = anim != 1905
trigger1 = parent,anim = 1904
value = 1905

[State 10000] ;カブト
type = ChangeAnim
triggerall = anim != 11402
trigger1 = parent,anim = 11400
value = 11402

[State 10000] ;樹木
type = ChangeAnim
triggerall = anim != 12101
trigger1 = parent,anim = 12100
value = 12101

[State 10000] 
type = ChangeAnim
triggerall = anim != 10180
trigger1 = parent,anim = 10181
value = 10180

[State 10000]
type = ChangeAnim
triggerall = anim != 6000
trigger1 = parent,anim = 15000
value = 6000

[State 10000]
type = ChangeAnim
triggerall = anim != 6001
trigger1 = parent,anim = 15001
value = 6001

[State 10000]
type = ChangeAnim
triggerall = anim != 6002
trigger1 = parent,anim = 15002
value = 6002

[State 10000]
type = ChangeAnim
triggerall = anim != 6010
trigger1 = parent,anim = 15010
value = 6010

[State 10000]
type = ChangeAnim
triggerall = anim != 6011
trigger1 = parent,anim = 15011
value = 6011

[State 10000]
type = ChangeAnim
triggerall = anim != 6012
trigger1 = parent,anim = 15012
value = 6012

[State 10000]
type = ChangeAnim
triggerall = anim != 6020
trigger1 = parent,anim = 15020
value = 6020

[State 10000]
type = ChangeAnim
triggerall = anim != 6021
trigger1 = parent,anim = 15021
value = 6021

[State 10000]
type = ChangeAnim
triggerall = anim != 6022
trigger1 = parent,anim = 15022
value = 6022

[State 10000]
type = ChangeAnim
triggerall = anim != 6030
trigger1 = parent,anim = 15030
value = 6030

[State 10000]
type = ChangeAnim
triggerall = anim != 6035
trigger1 = parent,anim = 15035
value = 6035

[State 10000] ;無駄無駄ラッシュ
type = ChangeAnim
triggerall = anim != 5040
trigger1 = parent,anim = 15040
value = 5040

[State 10000]
type = ChangeAnim
triggerall = anim != 10903
trigger1 = parent,anim = 10900
value = 10903

[State 10000]
type = ChangeAnim
triggerall = anim != 10153
trigger1 = parent,anim = 10152
value = 10153

[State 10000]
type = ChangeAnim
triggerall = anim != 10002
trigger1 = parent,anim = 10001
value = 10002

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 150
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 151
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 152
value = 1
ignorehitpause = 1

[State 0];地上弱
type = SprPriority
trigger1 = parent,anim = 10200
value = 1
ignorehitpause = 1

[State 0];地上前弱
type = SprPriority
trigger1 = parent,anim = 10205
value = 1
ignorehitpause = 1

[State 0];地上中
type = SprPriority
trigger1 = parent,anim = 10210
value = 1
ignorehitpause = 1

[State 0];地上前中
type = SprPriority
trigger1 = parent,anim = 10215
value = 1
ignorehitpause = 1

[State 0];地上強
type = SprPriority
trigger1 = parent,anim = 10240
value = 1
ignorehitpause = 1

[State 0];屈み弱
type = SprPriority
trigger1 = parent,anim = 10400
value = 1
ignorehitpause = 1

[State 0];屈み中
type = SprPriority
trigger1 = parent,anim = 10410
value = 1
ignorehitpause = 1

[State 0];空中弱
type = SprPriority
trigger1 = parent,anim = 10600
value = 1
ignorehitpause = 1

[State 0];空中中
type = SprPriority
trigger1 = parent,anim = 10610
value = 1
ignorehitpause = 1

[State 0];空中強
type = SprPriority
trigger1 = parent,anim = 10640
value = 1
ignorehitpause = 1

[State 0];無駄無駄弱
type = SprPriority
trigger1 = parent,anim = 11000
value = 1
ignorehitpause = 1

[State 0];無駄無駄中
type = SprPriority
trigger1 = parent,anim = 11010
value = 1
ignorehitpause = 1

[State 0];無駄無駄強
type = SprPriority
trigger1 = parent,anim = 11040
value = 1
ignorehitpause = 1

[State 0];無駄無駄ラッシュ
type = SprPriority
trigger1 = parent,anim = 13300
value = 1
ignorehitpause = 1

[State 0];無駄無駄無駄無駄
type = SprPriority
trigger1 = parent,anim = 17000
value = 1
ignorehitpause = 1

[State 0];感覚暴走弱
type = SprPriority
trigger1 = parent,anim = 11300
value = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = parent,anim = 1904
value = 1
ignorehitpause = 1

[State 0];ガーキャン
type = SprPriority
trigger1 = parent,anim = 11800
value = 1
ignorehitpause = 1

[State 0];勝利ポーズ
type = SprPriority
trigger1 = parent,anim = 10181
value = 1
ignorehitpause = 1
;===========================================================================
; 特殊技
;===========================================================================
;回り込み
[Statedef 30]
type = S
physics = N
movetype = I
anim = 30
ctrl = 0
velset = 0,0

[State 3900 e];禁止
type = Helper
trigger1 = AnimTime = 0
helpertype = normal
stateno = 31
id = 30
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time <= 30
value = SCA,NT,ST,HT
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5.0

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1
[State 30]
type = PlaySnd
trigger1 = time = 1
value = 100,10

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 2
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-70
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 100,48
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 相手のアニメ変更]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;---------------------------------------------------------------------------
[Statedef 31];禁止
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 10
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time = 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14000]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14005]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153

;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,18

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;--------------------------------------------------------------------------
;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(1)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(1)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(1) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = parent,stateno = [10820,10822];スタンド発現ｽﾃｰﾄ
trigger1 = NumHelper(20026) = 0
trigger2 = parent,stateno = [16001,16002];スタンド発現ｽﾃｰﾄ
trigger2 = NumHelper(20026) = 0
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999

;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5001]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 4     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0       
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 100, 1     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 35             ;velSetと同じﾀｲﾐﾝｸﾞで
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 35
value = 5071;足払いでこけるｽﾃｰﾄへ

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = AnimTime = 0 ;5000や5001はvel0,0設定なのでとまってしまうから。
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16011]
type = PlaySnd
trigger1 = time = 0
value = 3, 13     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 3, 12     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 35;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 35
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 10,0+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 10,0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 10,30

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 0,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞの手を表示する
[Statedef -2]

[State -2]
type = helper
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
[State -2,];プッツン時スタンド消去
type = null;destroyself
trigger1 = ishelper
trigger1 = root,stateno = 700
;---------------------------------------------------------------------------
[State -2,]
type = null;RemoveExplod
trigger1 = var(55) != 0
trigger2 = roundstate != 2 
id = 7020

[State -2,]
type = null;RemoveExplod
trigger1 = roundstate != 2 
id = 7021

;ミスタ呼び出し判定表示 呼び出し可
[State -2]
type = null;Explod
triggerall = teamside = 1
triggerall = roundstate = 2 
triggerall = var(55) = 0
trigger1 = !NumExplod(7020)
trigger1 = 1
anim = ifelse(facing=1,7020,7020)
id = 7020
pos = 52,214;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 5
postype = Back
ownpal = 1
scale = 1,1

;ミスタ呼び出し判定表示 呼び出し不可
[State -2]
type = null;Explod
triggerall = teamside = 1
triggerall = roundstate = 2 
triggerall = var(55) = 1
trigger1 = !NumExplod(7021)
trigger1 = 1
anim = ifelse(facing=1,7021,7023)
id = 7021
pos = 52,214;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 5
postype = Back
ownpal = 1
scale = 1,1

;ミスタ呼び出し判定表示 呼び出し可 2P
[State -2]
type = null;Explod
triggerall = teamside = 2
triggerall = roundstate = 2 
triggerall = var(55) = 0
trigger1 = !NumExplod(7020)
trigger1 = 1
anim = ifelse(facing=1,7020,7020)
id = 7020
pos = 54,214;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 5
postype = Back
ownpal = 1
scale = 1,1

;ミスタ呼び出し判定表示 呼び出し不可 2P
[State -2]
type = null;Explod
triggerall = teamside = 2
triggerall = roundstate = 2 
triggerall = var(55) = 1
trigger1 = !NumExplod(7021)
trigger1 = 1
anim = ifelse(facing=1,7025,7021)
id = 7021
pos = 54,214;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 5
postype = Back
ownpal = 1
scale = 1,1
;---------------------------------------------------------------------------
[State -2];根っこ判定リセット
type = varset
triggerall = numhelper(11101) = 0
triggerall = NumHelper(1001) = 0 
trigger1 = stateno = 0 || stateno = 11 || movetype = H
trigger2 = !numtarget
var(29) = 0

[State -2];SP無駄無駄判定リセット
type = varset
triggerall = numhelper(11101) = 0
triggerall = NumHelper(1001) = 0 
trigger1 = stateno = 0 || stateno = 11 || movetype = H
trigger2 = !numtarget
var(28) = 0
;---------------------------------------------------------------------------

[State -2];GEの絵をｼﾞｮﾙﾉに戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000 ;ｽﾀﾝﾄﾞonかつ
trigger1 = alive = 0       ;死んだ時かつ
trigger1 = animTime = 0    ;やられた瞬間のｱﾆﾒが終わってから!
;つまり、ふっとび開始→ふっとび　になる時に消し、ｼﾞｮﾙﾉに戻す。
;その後、var(49) = 0を認識してｼﾞｮﾙﾉの絵が消える。

trigger2 = var(49) = 10000 && movetype = H;ｽﾀﾝﾄﾞonかつ
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14000,14005]
;ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のとき。つまり、相手にｽﾃｰﾄ奪われた時
;投げ終わりにSelfStateでｺﾓﾝやられｽﾃｰﾄに返されるが、相手先で参照するDefは[5000,5210]ではない！落ち着いて考えろ
;ちなみにｽﾀﾝﾄﾞｸﾗｯｼｭのｽﾃｰﾄは16010あたり。
;つまり、ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のときに含まれる。

trigger2 = movetype = H && anim != [15000,15210]
;さらに、ｺﾞｰﾙﾄﾞｴｸｽﾍﾟﾘｴﾝｽのｱﾆﾒ以外に変更された時に。
;こうすることでDIOの時止めな感じの投げに対応できた。
;---------------------------------------------------------------------------
[State -2,];ガード不可。
type = AssertSpecial
trigger1 = NumHelper(2) = 1
trigger2 = NumHelper(1001) = 1
trigger3 = NumHelper(1900) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
;---------------------------------------------------------------------------
[State -2,];片鱗時の腕ヘルパー消去
type = RemoveExplod
trigger1 = stateno != 6666
id = 30006
;---------------------------------------------------------------------------
[State -2,];ラッシュ時の腕ヘルパー消去
type = RemoveExplod
trigger1 = stateno != [11000,11040]
trigger1 = stateno != 13000
id = 11050
;---------------------------------------------------------------------------
[State -2,];ﾊﾞｸﾞったとき用。
type = DestroySelf
trigger1 = NumHelper(2) = 1
trigger1 = helper(2),stateno = 0
;---------------------------------------------------------------------------
[State -2,];保険
type = changeanim
trigger1 = Var(49) = 10000
trigger1 = anim = 6
value = 10011
;---------------------------------------------------------------------------
;敗北
[State -2]
type = Helper
trigger1 = enemynear,stateno = [2000,4999]
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && LoseKO = 1 && NumHelper(20054) = 0
;RoundState	3: Pre-over - 決着がついた瞬間
;LoseKO		そのラウンドで負けた場合、1を返します
ID = 20054
pos = 0,0
stateno = 20054
ownpal = 1

;KO勝利時集中線と音
[State -2]
type = Helper
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && WinKO && NumHelper(20053) = 0
ID = 20053
pos = 0,0
stateno = 20053
ignorehitpause = 1;とるすと、ヒット停止時間を無視
ownpal = 1

[State -2]
type = AssertSpecial
trigger1 = winko   ;勝ったとき
flag = nobardisplay;ゲージ類を非表示にします。
ignorehitpause = 1

;WIN
[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180    ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2  ; || は、もしくは
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

;to be continued
[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180            ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2 ; || は、もしくは
trigger1 = matchover                ;ﾗｳﾝﾄﾞ取って、試合が終わったとき。
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999
;---------------------------------------------------------------------------
;スタンドが相手にめりこまないようにする
[State -2];CLSN1よりこっちのが幅が大きいと変な挙動をするので注意！！
type = Width
trigger1 = Var(49) = 10000
trigger1 = 1
value = 10,0
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = A
value = 15020
ctrl = 0
;---------------------------------------------------------------------------
;空中ジャンプ回数リセット
[State -2]
type = VarSet
trigger1 = statetype != A
;trigger1 = var(4) = 0
var(4) = 1
;---------------------------------------------------------------------------
[State -2];ヘルパーやろう
type = helper
trigger1 = var(43) = 1
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5657
ownpal = 1
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;------------------------------------------------------
[State -2, クリップボード]
type     = DisplayToClipBoard
trigger1 = 1
text     = "40=%d,32=%d,33=%d,f5=%f,f6=%f"
params   = var(40),var(32),var(33),fvar(5),fvar(6)
IgnoreHitPause = 1

;---------------------------------------------------------------------------
[State -2];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = var(2) = 1
trigger1 = time >= 40
var(2) = 0
;---------------------------------------------------------------------------

[State -2];ｽﾀﾝﾄﾞonの時ｼﾞｮﾙﾉを表示させます
;-2でﾍﾙﾊﾟｰ出してるから投げられた時もｼﾞｮﾙﾉを消せる。たぶん
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 0

;pausemovetime = 999999;Pause無視時間 (int)
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000;Sonのとき。は自分はｺﾞｰﾙﾄﾞｴｸｽﾍﾟﾘｴﾝｽだから、
flag = noshadow           ;自分の影を非表示にします
ignorehitpause = 1
;---------------------------------------------------------------------------
;コンボ補正
[State -2, 補正リセット]
type=varset
trigger1=!numtarget
var(40)=0

[State -2, ヒット数加算]
type=varadd
triggerall=numtarget
triggerall=enemynear,movetype=h
triggerall=enemynear,gethitvar(hitcount)>var(40)
triggerall=stateno != [11000,11040]
triggerall=stateno != 13000
trigger1=movehit
trigger2=projhittime(0)=0
;ヘルパー用
trigger3=numhelper(1001)
trigger3=helper(1001),movehit=1+(movetype!=a)
var(40)=1

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=1
trigger1=1
value=1.00-0.02*var(40)

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=3
value=0.8

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=5
value=0.7

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=8
value=0.6

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=12
value=0.5

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=18
value=0.4

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=24
value=0.2

[State -2, 補正適用]
type=attackmulset
trigger1=var(40)>=30
value=0.1

[State -2, 補正リセット]
type=attackmulset
trigger1=var(40)=0
trigger1=1
value=1.00
;---------------------------------------------------------------------------
;Life補正相手判別 ※随時足していきます
[state -2, var]
type = varset
triggerall = !var(35)
trigger1 = enemy,authorname = "y.y"
trigger1 = enemy,name = "jotaro" || enemy,name = "Hol horse" || enemy,name = "Hol horse & Boingo"
trigger2 = enemy,authorname = "ahuron"
trigger2 = enemy,name = "THOUTHER"
trigger3 = enemy,authorname = "muteki"
trigger4 = enemy,authorname = "Drowin hokuto"
trigger5 = enemy,authorname = "Nachel"
trigger5 = enemy,name = "Reimu_Hakurei" || enemy,name = "Remilia_Scarlet"
trigger6 = enemy,authorname = "Shiroto"
trigger7 = enemy,authorname = "kayui uma"
var(35) = 1

;コンボ補正OFF
[state -2, var]
type = varset
trigger1 = !var(30)
trigger2 = var(34) = 1
trigger2 = time = 1
var(34) = 0
ignorehitpause = 1

;コンボ補正始動State
[state -2, var]
type = varset
triggerall = stateno != [3000,3005]
triggerall = helper(1001),stateno != [3010,3020]
triggerall = var(34) != 2
trigger1 = stateno = 200
trigger2 = stateno = 201
trigger3 = stateno = 205
trigger4 = stateno = 210
trigger5 = stateno = 211
trigger6 = stateno = 215
trigger7 = stateno = 240
trigger8 = stateno = 225
trigger9 = stateno = 230
trigger10 = stateno = 400
trigger11 = stateno = 405
trigger12 = stateno = 410
trigger13 = stateno = 415
trigger14 = stateno = 440
trigger15 = stateno = 600
trigger16 = stateno = 610
trigger17 = stateno = 640
trigger18 = stateno = 10200
trigger19 = stateno = 10201
trigger20 = stateno = 10205
trigger21 = stateno = 10210
trigger22 = stateno = 10211
trigger23 = stateno = 10215
trigger24 = stateno = 10240
trigger25 = stateno = 10400
trigger26 = stateno = 10410
trigger27 = stateno = 10440
trigger28 = stateno = 10600
trigger29 = stateno = 10610
trigger30 = stateno = 10640
trigger31 = var(30)
var(34) = 1
ignorehitpause = 1

コンボ補正ON
[state -2, var]
type = varset
trigger1 = var(34) = 1
trigger1 = movehit
var(34) = 2
ignorehitpause = 1
;---------------------------------------------------------------------------
;Hit数補正
[state -2, var]
type = varset
trigger1 = numenemy
trigger1 = enemynear,movetype != H
var(30) = 0
ignorehitpause = 1

[state -2, var]
type = varadd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(30) = 1
;ignorehitpause = 1
;---------------------------------------------------------------------------
;Life補正(自分)
[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[129,144]
var(32) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[113,128]
var(32) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[97,112]
var(32) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[81,96]
var(32) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[65,80]
var(32) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[49,64]
var(32) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[33,48]
var(32) = 6
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[17,32]
var(32) = 7
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[1,16]
var(32) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=0
var(32) = 9
ignorehitpause = 1
;---------------------------------------------------------------------------
;Life補正(相手)
[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[143,144]
var(33) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[128,142]
var(33) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[112,127]
var(33) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[96,111]
var(33) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[80,95]
var(33) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[64,79]
var(33) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[48,63]
var(33) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[32,47]
var(33) = 9
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[16,31]
var(33) = 12
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(35)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[0,15]
var(33) = 13
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = 1
fvar(6) = (1+(.04*var(32)))*(1-(.02*var(33)))
ignorehitpause = 1

;---------------------------------------------------------------------------
;最終補正
[state -2, var]
type = varset
trigger1 = 1
fvar(7) = fvar(6)*ifelse(!var(34),1,1-ifelse(var(30)%2,(var(30)-1)*.04,var(30)*.04))
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = fvar(5) < 0
fvar(7) = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
; ここから下は-3のステートを書いてください、ここに書いたものはゲーム中
; に条件が成立すればいつでも開始するステートです。
;---------------------------------------------------------------------------
[Statedef -3]

;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(1) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 1
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(1) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 1
value = -(gethitvar(damage)/4)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(1) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 1
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(1) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 1
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(1) > 80
fv = 1
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(1) >= 10
var(7) = 0
;---------------------------------------------------------------------------
;-AIフラグ-
[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58) 
triggerall = RoundState = [1,2]
trigger1 = Command = "AI_58"
trigger2 = Command = "AI_01"
trigger3 = Command = "AI_02"
trigger4 = Command = "AI_03"
trigger5 = Command = "AI_04"
trigger6 = Command = "AI_05"
trigger7 = Command = "AI_06"
trigger8 = Command = "AI_07"
trigger9 = Command = "AI_08"
trigger10 = Command = "AI_09"
trigger11 = Command = "AI_10"
trigger12 = Command = "AI_11"
trigger13 = Command = "AI_12"
trigger14 = Command = "AI_13"
trigger15 = Command = "AI_14"
trigger16 = Command = "AI_15"
trigger17 = Command = "AI_16"
trigger18 = Command = "AI_17"
trigger19 = Command = "AI_18"
trigger20 = Command = "AI_19"
trigger21 = Command = "AI_20"
trigger22 = Command = "AI_21"
trigger23 = Command = "AI_22"
trigger24 = Command = "AI_23"
trigger25 = Command = "AI_24"
trigger26 = Command = "AI_25"
trigger27 = Command = "AI_26"
trigger28 = Command = "AI_27"
trigger29 = Command = "AI_28"
trigger30 = Command = "AI_29"
trigger31 = Command = "AI_30"
trigger32 = Command = "AI_31"
trigger33 = Command = "AI_32"
trigger34 = Command = "AI_33"
trigger35 = Command = "AI_34"
trigger36 = Command = "AI_35"
trigger37 = Command = "AI_36"
trigger38 = Command = "AI_37"
trigger39 = Command = "AI_38"
trigger40 = Command = "AI_39"
trigger41 = Command = "AI_40"
trigger42 = Command = "AI_41"
trigger43 = Command = "AI_42"
trigger44 = Command = "AI_43"
trigger45 = Command = "AI_44"
trigger46 = Command = "AI_45"
trigger47 = Command = "AI_46"
trigger48 = Command = "AI_47"
trigger49 = Command = "AI_48"
trigger50 = Command = "AI_49"
trigger51 = Command = "AI_50"
trigger52 = Command = "AI_51"
trigger53 = Command = "AI_52"
trigger54 = Command = "AI_53"
trigger55 = Command = "AI_54"
trigger56 = Command = "AI_55"
trigger57 = Command = "AI_56"
trigger58 = Command = "AI_57"
Trigger59 = Helper(20000),var(59)
;trigger60 = RoundState = 2  ;常時AI起動トリガー　
var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58
Value = 8 ;1～12の値で変更
;-----------------------------------
; 飛び道具検知用ヘルパー
[State -3,]
type=helper
trigger1=!NumHelper(40005)
trigger1=roundstate=2
trigger1=alive
helpertype=normal
name="AI"
stateno=40005
ID=40005
pos=9999,9999
keyctrl=0
pausemovetime=0
supermovetime=0
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(40005)
trigger1= stateno!=40005
value=40005
;-----------------------------------
[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(50000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[190,194])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, AI起動用ヘルパー]
type=helper
triggerall=NumHelper(50000)=0&&!ishelper
trigger1=roundstate<=2 && alive && var(59)=0
Trigger1=!ctrl&&stateno=0
trigger2=roundstate=2 && alive && var(59)
Trigger2=ctrl&&stateno!=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(50000)
trigger1= stateno!=50000
value=50000
;---------------------------------------------------------------------------
[Statedef 40005];飛び道具検出用ヘルパー
type = A
ctrl = 0
anim = 29999
movetype = I
physics = N
sprpriority = 1

;保険等---------------------
[State 40005]
type = SelfState
trigger1 = !IsHelper
Value = 0
[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible
[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------

[State 40005];スイッチリセット
type = parentvarset
trigger1 = 1
var(47)=0

[State 40005, 検出P];相手projが存在するときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = Enemy(0),numproj > 0
trigger2 = Enemy(numenemy=2),numproj > 0
var(47)=1

[State 40005, 検出H];相手ヘルパーが攻撃判定を持つときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = playerIDexist(ID-1)=1 ;このヘルパーの１つ前のプレイヤーIDが存在するとき。
trigger1 = (playerID(ID-1),hitdefattr = SCA,AA,AT,AP || playerID(ID-1),movetype = A) && playerID(ID-1),teamside != root,teamside && playerID(ID-1),ishelper
trigger2 = playerIDexist(ID-2)=1 ;このヘルパーの２つ前のプレイヤーIDが存在するとき。以下同様
trigger2 = (playerID(ID-2),hitdefattr = SCA,AA,AT,AP || playerID(ID-2),movetype = A) && playerID(ID-2),teamside != root,teamside && playerID(ID-2),ishelper
trigger3 = playerIDexist(ID-3)=1
trigger3 = (playerID(ID-3),hitdefattr = SCA,AA,AT,AP || playerID(ID-3),movetype = A) && playerID(ID-3),teamside != root,teamside && playerID(ID-3),ishelper
trigger4 = playerIDexist(ID-4)=1
trigger4 = (playerID(ID-4),hitdefattr = SCA,AA,AT,AP || playerID(ID-4),movetype = A) && playerID(ID-4),teamside != root,teamside && playerID(ID-4),ishelper
trigger5 = playerIDexist(ID-5)=1
trigger5 = (playerID(ID-5),hitdefattr = SCA,AA,AT,AP || playerID(ID-5),movetype = A) && playerID(ID-5),teamside != root,teamside && playerID(ID-5),ishelper
trigger6 = playerIDexist(ID-6)=1
trigger6 = (playerID(ID-6),hitdefattr = SCA,AA,AT,AP || playerID(ID-6),movetype = A) && playerID(ID-6),teamside != root,teamside && playerID(ID-6),ishelper
trigger7 = playerIDexist(ID-7)=1
trigger7 = (playerID(ID-7),hitdefattr = SCA,AA,AT,AP || playerID(ID-7),movetype = A) && playerID(ID-7),teamside != root,teamside && playerID(ID-7),ishelper
trigger8 = playerIDexist(ID-8)=1
trigger8 = (playerID(ID-8),hitdefattr = SCA,AA,AT,AP || playerID(ID-8),movetype = A) && playerID(ID-8),teamside != root,teamside && playerID(ID-8),ishelper
trigger9 = playerIDexist(ID-9)=1
trigger9 = (playerID(ID-9),hitdefattr = SCA,AA,AT,AP || playerID(ID-9),movetype = A) && playerID(ID-9),teamside != root,teamside && playerID(ID-9),ishelper
trigger10= playerIDexist(ID-10)=1
trigger10= (playerID(ID-10),hitdefattr = SCA,AA,AT,AP || playerID(ID-10),movetype = A) && playerID(ID-10),teamside != root,teamside && playerID(ID-10),ishelper
trigger11= playerIDexist(ID-11)=1
trigger11= (playerID(ID-11),hitdefattr = SCA,AA,AT,AP || playerID(ID-11),movetype = A) && playerID(ID-11),teamside != root,teamside && playerID(ID-11),ishelper
trigger12= playerIDexist(ID-12)=1
trigger12= (playerID(ID-12),hitdefattr = SCA,AA,AT,AP || playerID(ID-12),movetype = A) && playerID(ID-12),teamside != root,teamside && playerID(ID-12),ishelper
trigger13= playerIDexist(ID-13)=1
trigger13= (playerID(ID-13),hitdefattr = SCA,AA,AT,AP || playerID(ID-13),movetype = A) && playerID(ID-13),teamside != root,teamside && playerID(ID-13),ishelper
trigger14= playerIDexist(ID-14)=1
trigger14= (playerID(ID-14),hitdefattr = SCA,AA,AT,AP || playerID(ID-14),movetype = A) && playerID(ID-14),teamside != root,teamside && playerID(ID-14),ishelper
trigger15= playerIDexist(ID-15)=1
trigger15= (playerID(ID-15),hitdefattr = SCA,AA,AT,AP || playerID(ID-15),movetype = A) && playerID(ID-15),teamside != root,teamside && playerID(ID-15),ishelper
trigger16= playerIDexist(ID-16)=1
trigger16= (playerID(ID-16),hitdefattr = SCA,AA,AT,AP || playerID(ID-16),movetype = A) && playerID(ID-16),teamside != root,teamside && playerID(ID-16),ishelper
trigger17= playerIDexist(ID-17)=1
trigger17= (playerID(ID-17),hitdefattr = SCA,AA,AT,AP || playerID(ID-17),movetype = A) && playerID(ID-17),teamside != root,teamside && playerID(ID-17),ishelper
trigger18= playerIDexist(ID-18)=1
trigger18= (playerID(ID-18),hitdefattr = SCA,AA,AT,AP || playerID(ID-18),movetype = A) && playerID(ID-18),teamside != root,teamside && playerID(ID-18),ishelper
trigger19= playerIDexist(ID-19)=1
trigger19= (playerID(ID-19),hitdefattr = SCA,AA,AT,AP || playerID(ID-19),movetype = A) && playerID(ID-19),teamside != root,teamside && playerID(ID-19),ishelper
trigger20= playerIDexist(ID-20)=1
trigger20= (playerID(ID-20),hitdefattr = SCA,AA,AT,AP || playerID(ID-20),movetype = A) && playerID(ID-20),teamside != root,teamside && playerID(ID-20),ishelper
var(47)=ceil(playerID(ID-1),p2bodydist x)

[State 40005];検出にかからなかったら消滅
type = destroyself
trigger1 = root,var(47)=0
;-------------------------------------------------------------------------
;AI起動用ヘルパー
[Statedef 50000]
anim=29999;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible

[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------------------------------------------------------------
; AIフラグセット
;----------------------------------------------------------------------------------
[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,ﾌﾗｸﾞON]
type=parentvarset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1
;----------------------------------------------------------------------------------
; 暗転計測
;----------------------------------------------------------------------------------
[State -1]
type = VarSet
trigger1 = root,var(59) > 0
trigger1 = enemynear,time = 1
v = 15
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = root,var(59)
v = 15
value = 1
ignorehitpause = 1
;----------------------------------------------------------------------------------
; ガードしている時間の計測(ガーキャン条件用)
;----------------------------------------------------------------------------------
[State -1]
type = Varadd
trigger1 = root,var(59)
trigger1 = (root,stateno = [150,153]) || root,stateno = 710
var(16) = 1
ignorehitpause = 1

[State -1]
type = Varset
trigger1 = root,stateno != [150,153]
trigger1 = root,stateno != 710
var(16) = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
;コンボ用ステート
;---------------------------------------------------------------------------
;OFF時基本コンボ(前立ち弱)
[Statedef 100100]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1
ctrl = 0
anim = 205
poweradd = 20*!(var(54)=1)
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 205
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((25*fvar(7))<7,7,(25*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -26
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [70,120] 
trigger1 = numhelper(1001) = 0
trigger1 = movecontact
value = 240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType = A 
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact
value = 100300

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = EnemyNear,const(size.head.pos.y)<= -50
Triggerall = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact && time >= 8
value = 110101

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Trigger1 = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact && time >= 8
value = 100101

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
; CNS difficulty: easy
[Statedef 100101]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50*!(var(54)=1)
ctrl = 0
anim = ifelse((prevstateno=[100,105]),411,410)
sprpriority = 2

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,14
sparkxy = -10,-40
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -5
air.velocity = -2,-6
down.velocity = -5,0
down.hittime = 20
guard.kill = 0
air.fall = 1
fall.recovertime = 10

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = var(29) = 0
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact
value = 100102

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
value = 100108

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;立ち中
; CNS difficulty: easy
[Statedef 110101]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((55*fvar(7))<7,7,(55*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = var(29) = 0
trigger1 = P2BodyDist X = [-20,70] 
trigger1 = movecontact
value = 100102

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact
value = 100108
;---------------------------------------------------------------------------
; 無駄無駄中
[Statedef 100102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 1004
id = 1001
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(11101) = 0
triggerall = var(29) = 0
trigger1 =Time >= 14
trigger1 = numtarget
value = 100103

[State 230, 3]
type = ctrlset
trigger1 =Time >= 20
value = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;植物の根 中
[Statedef 100103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = frontedgebodydist<=100
trigger1 = animtime = 0
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = numtarget
value = 110104

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = animtime = 0
trigger1 = numtarget
value = 100104

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100104]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5  && command = "holdup"
value = 40

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time > 20
trigger1 = P2BodyDist X = [-20,10] 
trigger1 = numtarget
trigger1 = target,statetype = S
value = 100105

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = !numtarget
trigger1 = random <= 500
trigger1 = time > 10
trigger1 = P2BodyDist X = [-20,75] 
value = 30

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time > 10
trigger1 = P2BodyDist X = [-20,75] 
trigger1 = numtarget
trigger1 = target,statetype = C
value = 110104

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5 && command != "holdfwd"
trigger2 = AnimTime = 0
trigger3 = var(59)=1
trigger3 = time> 5 && !numtarget
value = 101
;---------------------------------------------------------------------------
;画面端ィ！ジャンプ
[Statedef 110104]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 41, HitBy]
triggerall = var(59) = 1 && RoundState = 2 
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)=1
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 110105
ctrl = 0
;---------------------------------------------------------------------------
; Jump Up
[Statedef 110105]
type    = A
physics = A

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time >= 12
trigger1 = P2BodyDist X = [-20,50]
value = 110106
;---------------------------------------------------------------------------
;空中強
[Statedef 110106]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65*!(var(54)=1)
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((65*fvar(7))<7,7,(65*fvar(7)))),5
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.hittime  = 13
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
;屈弱
[Statedef 100105]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15*!(var(54)=1)
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((23*fvar(7))<7,7,(23*fvar(7)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 12,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-42
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -6*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,30] 
trigger1 = movecontact && time >= 5
value = 100106

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,60] 
trigger1 = movecontact && time >= 5
value = 100107

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱
[Statedef 100106]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1
ctrl = 0
anim = 205
poweradd = 20*!(var(54)=1)
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 205
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((25*fvar(7))<7,7,(25*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -26
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [90,120] 
trigger1 = numhelper(1001) = 0
trigger1 = movecontact
value = 240

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = EnemyNear,const(size.head.pos.y)<= -50
Trigger1 = EnemyNear,StateType = S
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time > 7
value = 110107

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
Triggerall = EnemyNear,StateType != A
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time >= 6
value = 100107

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
[Statedef 100107]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50*!(var(54)=1)
ctrl = 0
anim = ifelse((prevstateno=[100,105]),411,410)
sprpriority = 2

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,14
sparkxy = -10,-40
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -5
air.velocity = -2,-6
down.velocity = -5,0
down.hittime = 20
guard.kill = 0
air.fall = 1
fall.recovertime = 10

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time > 6
trigger1 = random < 500
trigger1 = life <= 700
value = 104000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time > 6
value = 100108

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;立ち中
; CNS difficulty: easy
[Statedef 110107]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((55*fvar(7))<7,7,(55*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
triggerall = frontedgebodydist>100 
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time > 6
trigger1 = random < 500
trigger1 = life <= 700
value = 104000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = power >= 1000
triggerall = frontedgebodydist>100 
trigger1 = P2BodyDist X = [30,150] 
trigger1 = movehit && time > 6
trigger1 = random < 500
trigger1 = life >= 500
value = 3150

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = frontedgebodydist<=80 
trigger1 = P2BodyDist X = [-20,100]
trigger1 = target,statetype = S
trigger1 = movecontact && time > 6
value = 100500

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
trigger1 = P2BodyDist X = [-20,100] 
trigger1 = movecontact && time > 6
value = 100108
;---------------------------------------------------------------------------
;屈み中スタンド出現攻撃
[Statedef 100108]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
guard.kill = 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 400, 3]
type = CtrlSet
triggerall = var(59)=0
trigger1 = Time = 10
value = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 3000
trigger1 = P2BodyDist X = [-20,130] 
trigger1 = movehit && time > 5
value = 17000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
triggerall = target,life <= 80
trigger1 = P2BodyDist X = [-20,140] 
trigger1 = movehit && time > 5
value = 13000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,140] 
trigger1 = movehit && time > 5
value = 11040

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,160] 
trigger1 = movecontact && time > 10
value = 11110

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;ON時基本コンボ （前立ち弱）
[Statedef 100200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((10*fvar(7))<7,7,(10*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 20

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [40,90] 
trigger1 = movecontact && time >= 7
value = 100202

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,40] 
trigger1 = movecontact && time >= 7
value = 100201

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中S
[Statedef 100201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((45*fvar(7))<7,7,(45*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time > 7
value = 100202

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 100202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10215

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 3000
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -80
trigger1 = life <= 300
trigger1 = movehit && time > 8

trigger2 = P2BodyDist X = [-20,120] 
trigger2 = enemynear,pos y >= -80
trigger2 = target,life < 400
trigger2 = target,life > 200
trigger2 = movehit && time > 8
value = 17000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movehit && time > 8
value = 13000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time > 8
value = 11040

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -100
trigger1 = movecontact && time > 8
value = 10240

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;本体対空コンボ (立ち中)
[Statedef 100300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
trigger1 = P2BodyDist X = [-20,80] 
trigger1 = movecontact && time >= 6
value = 100301

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中スタンド出現攻撃
[Statedef 100301]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
ctrl = 0
anim = 10215
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 3000
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -80
trigger1 = life <= 300
trigger1 = movehit && time > 8

trigger2 = P2BodyDist X = [-20,120] 
trigger2 = enemynear,pos y >= -80
trigger2 = target,life < 400
trigger2 = target,life < 300
trigger2 = movehit && time > 8
value = 17000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time > 8
value = 13000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time > 8
value = 11040

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -100
trigger1 = movecontact && time > 8
value = 10240

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON時相手屈（屈み・弱S）
[Statedef 100400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((23*fvar(7))<7,7,(23*fvar(7)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 10
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,90] 
trigger1 = movecontact && time >= 8
value = 100401

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
[Statedef 100401]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((48*fvar(7))<7,7,(48*fvar(7)))),3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
guard.kill = 0

[State 400, 3]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numhelper(1001) = 0
triggerall = numhelper(4657) = 0
triggerall = power >= 1000
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = movehit && time > 6
trigger1 = random < 500
trigger1 = life <= 600
value = 104000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
trigger1 = random < 300
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movehit && time >= 6
value = 13000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time >= 6
value = 11040

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;---------------------------------------------------------------------------
;画面はじピラニアコン(スタンド出現攻撃)
[Statedef 100500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((80*root,fvar(7))<7,7,(80*root,fvar(7)))),5
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -10*const(size.xscale),-6.5
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = AnimTime = 0
trigger1 = numtarget
value = 100501

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ピラニア　S
[Statedef 100501]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = animelem = 8
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11210
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = AnimTime = 0
trigger1 = numtarget
value = 100502

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100502]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5  && command = "holdup"
value = 40

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time >= 5
trigger1 = P2BodyDist X = [-20,20] 
trigger1 = numtarget
value = 100513

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5 && command != "holdfwd"
trigger2 = AnimTime = 0
trigger3 = var(59)=1
trigger3 = time> 5 && !numtarget
value = 101
;---------------------------------------------------------------------------
; 待機！
[Statedef 100513]
type = S
physics = S
sprpriority = 0
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0,バグったとき用]
type = destroyself
trigger1 = time = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0 ;Turn anim over
value = 0+var(49)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 440, 4]
type = ChangeState
trigger1 = time >= 20
trigger1 = numtarget
value = 100503

[State 440, 4]
type = ChangeState
trigger1 = !numtarget
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱S
[Statedef 100503]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
velset = 0,0
anim = 10200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((22*fvar(7))<7,7,(22*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 18

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = enemynear,movetype = H
trigger1 = time >= 8
trigger1 = P2BodyDist X = [-30,80] 
value = 100504

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱S
[Statedef 100504]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((10*fvar(7))<7,7,(10*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
guard.hittime  = 8
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
air.fall = 1
fall.recovertime = 20

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = enemynear,movetype = H
trigger1 = time >= 8
trigger1 = P2BodyDist X = [-30,80] 
value = 100505

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中S
[Statedef 100505]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((45*fvar(7))<7,7,(45*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = enemynear,movetype = H
trigger1 = time >= 8
trigger1 = P2BodyDist X = [-30,80] 
value = 100506

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 100506]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10215

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 3000
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -80
trigger1 = life <= 300
trigger1 = movecontact && time > 8

trigger2 = P2BodyDist X = [-20,120] 
trigger2 = enemynear,pos y >= -80
trigger2 = target,life < 400
trigger2 = target,life < 300
trigger2 = movehit && time > 8
value = 17000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = power >= 1000
trigger1 = random < 500
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time > 8
value = 13000

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -60
trigger1 = movecontact && time > 8
value = 11040

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X = [-20,120] 
trigger1 = enemynear,pos y >= -100
trigger1 = movecontact && time > 8
value = 10240

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;超根後追い討ち  (待機！)
[Statedef 100600]
type = S
physics = S
sprpriority = 0
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0,バグったとき用]
type = destroyself
trigger1 = time = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0 ;Turn anim over
value = 0+var(49)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 440, 4]
type = ChangeState
trigger1 = time >= 20
trigger1 = numtarget
value = 100601

[State 440, 4]
type = ChangeState
trigger1 = !numtarget
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;RUN_FWD
[Statedef 100601]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5  && command = "holdup"
value = 40

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time >= 10
trigger1 = numtarget
value = 100602

[State 100, 5]
type = ChangeState
trigger1 = var(59)<=0
trigger1 = time> 5 && command != "holdfwd"
trigger2 = AnimTime = 0
trigger3 = var(59)=1
trigger3 = time> 5 && !numtarget
value = 101
;---------------------------------------------------------------------------
;ジャンプ
[Statedef 100602]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 41, HitBy]
triggerall = var(59) = 1 && RoundState = 2 
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = var(59)=0
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
trigger2 = var(59)=1
trigger2 = AnimTime = 0
trigger2 = prevstateno = 100601 ;RUN_FWD
trigger2 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100603
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 100603]
type    = A
physics = A
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 200,]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time >= 20
trigger1 = numtarget
value = 100604
;---------------------------------------------------------------------------
;空中強
[Statedef 100604]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65*!(var(54)=1)
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((65*fvar(7))<7,7,(65*fvar(7)))),5
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.hittime  = 13
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
guard.kill = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
; デム後距離詰める
[Statedef 103999]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
triggerall = var(59)=0
trigger1 = time > 5  && command = "holdup"
value = 40

[State 200,回り込む]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
trigger1 = P2BodyDist X = [-20,0] 
trigger1 = time >= 5
value = 30

[State 100, 5]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time > 5 && command != "holdfwd"
trigger2 = var(59)=1
trigger2 = time > 5 && EnemyNear,MoveType != H
trigger3 = var(59)=1
trigger3 = time > 5 && Enemynear,Statetype = L
trigger4 = AnimTime = 0
value = 101
;===========================================================================
;無駄無駄プッツンコンボ プッツンキャンセル
[Statedef 100700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 2
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-70
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 100,48
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = target,statetype = C
triggerall = !inguarddist
trigger1 = time = 30
value = 100702

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = target,statetype = S
triggerall = !inguarddist
trigger1 = time = 30
value = 100701

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = target,statetype = A
triggerall = !inguarddist
trigger1 = time = 30
value = 10200

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;ピラニア　S
[Statedef 100701]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = animelem = 8
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11210
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0

[State 440, 4]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = !inguarddist
trigger1 = AnimTime = 0
value = 100702

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み強S
[Statedef 100751]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10440
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,2
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = animelem = 6
trigger1 = numhelper(10441) = 0
helpertype = normal
name = "tuta"
stateno = 10441
id = 10441
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = !inguarddist
trigger1 = AnimTime = 0
value = 100702

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;小ジャン開始
[Statedef 100702]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 40]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = !var(59)
trigger1 = command = "holdfwd"
trigger2 = var(59)
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = !var(59)
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = !var(59)
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
trigger2 = var(59)
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100703
ctrl = 0
;---------------------------------------------------------------------------
; Jump Up
[Statedef 100703]
type    = A
physics = A

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 600, 3]
type = CtrlSet
trigger1 = !numtarget
trigger2 = inguarddist
value = 1

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
trigger1 = Time >= 5
trigger1 = target,statetype = C
trigger1 = p2bodydist x = [-25,25]
value = 100754
ctrl = 0

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
trigger1 = target,statetype != C
trigger1 = p2bodydist x = [-25,25]
value = 100704
ctrl = 0
;---------------------------------------------------------------------------
;空中中S
[Statedef 100704]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((32*fvar(7))<7,7,(32*fvar(7)))),5
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2
guard.kill = 0 
air.fall = 1
fall.recovertime = 25

[State 600, 3]
type = Changestate
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = !inguarddist
trigger1 = Time >= 12
value = 100705

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中弱S
[Statedef 100754]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((27*fvar(7))<7,7,(27*fvar(7)))),5
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-48
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.hittime  = 13
ground.velocity = -6*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1
guard.kill = 0
air.fall = 1
fall.recovertime = 20

[State 600, 3]
type = Changestate
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = numtarget
triggerall = !inguarddist
trigger1 = Time >= 5
value = 100705

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;空中強S
[Statedef 100705]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50
ctrl = 0
anim = 10640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 12
channel = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((68*fvar(7))<7,7,(68*fvar(7)))),8
guardflag = HA
priority = 3
pausetime = 8,16
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
air.velocity = -2,6
guard.kill = 0
air.fall = 1
fall.recover = 0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 100706]
type = S
physics = S
ctrl = 0
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 600, 3]
type = CtrlSet
trigger1 = !numtarget
trigger2 = inguarddist
value = 1

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = !time
x = -10

[State 101, 3]
type = ChangeState
trigger1 = !time
value = 100707

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100707]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 5]
type = ChangeState
triggerall = !var(59)
trigger1 = time > 5  && command = "holdup"
value = 40

[State 101, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = !inguarddist
triggerall = numtarget
trigger1 = time >= 8
trigger1 = p2bodydist x = [-25,20]
value = 100708

[State 100, 5]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time > 5 && command != "holdfwd"
trigger2 = !numtarget || inguarddist
trigger2 = var(59)=1
trigger2 = time > 5 && EnemyNear,MoveType != H
trigger3 = !numtarget || inguarddist
trigger3 = var(59)=1
trigger3 = time > 5 && Enemynear,Statetype = L
trigger4 = AnimTime = 0
value = 101
ctrl = 1
;---------------------------------------------------------------------------
; 立ち弱
[Statedef 100708]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse((prevstateno=[100,105]),201,200)
poweradd= 10*!(var(54)=1)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 201
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 9, 9
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = HitDef
trigger1 = anim = 200
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 10, 10
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 12
ground.velocity = -3*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 101, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = !inguarddist
triggerall = numtarget
trigger1 = movecontact && time >= 10
trigger1 = p2bodydist x = [-25,60]
value = 100710

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち弱
[Statedef 100709]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse((prevstateno=[100,105]),201,200)
poweradd= 10*!(var(54)=1)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 201
trigger1 = time = 0
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 9, 9
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
guard.hittime  = 14
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = HitDef
trigger1 = anim = 200
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((20*fvar(7))<7,7,(20*fvar(7)))),3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 10, 10
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
guard.hittime  = 12
ground.velocity = -3*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
ground.cornerpush.veloff = -8
getpower = 20*!(var(54)=1)
givepower = 5,0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 101, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = !inguarddist
triggerall = numtarget
trigger1 = movecontact
trigger1 = p2bodydist x = [-25,80]
value = 100710

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中
[Statedef 100710]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 25*!(var(54)=1)
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(7))<7,7,(42*fvar(7)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 50*!(var(54)=1)
givepower = 10,0
id = 200
ground.cornerpush.veloff = -10

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 101, 3]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = target,alive
triggerall = !inguarddist
triggerall = numtarget
trigger1 = movecontact
trigger1 = p2bodydist x = [-25,80]
value = 100108;る～ぷ

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------
;デム
[Statedef 104000]
type = S
movetype = A
physics = S
ctrl = 0 
anim = 3900
velset = 0,0

[State 230, 3]
type = varset
trigger1 = time = 0
v = 24
value = 40

[State 230, 3]
type = varset
trigger1 = var(24) <= 0
v = 24
value = 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 10822, 0]
type = PosAdd
trigger1 = time = 0
trigger1 = var(49) = 10000
x = -10

[State 3900 a];スタンドoffにする
type = VarSet
trigger1 = time = 0
var(49) = 0

[State 3900 b];タンデム中は1
type = VarSet
trigger1 = time = 0
var(23) = 1

[State 3900 c]
type = NotHitBy
trigger1 = time <= 124
value = SCA
time = 1

[State 0];けむり
type = Helper
trigger1 = time = 4
stateno = 3902;ここの1番下です
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 3900 d]
type = SuperPause
trigger1 = time = 4
time = 120
anim = s3102
pos = 0, -85
sound = s3, 10
movetime = 120
darken = 0 ;暗転しない
poweradd = -1000

[State 0];顔のカットイン
type = Explod
trigger1 = time = 4
anim = 20060
pos = 0, 230;240
postype = back
sprpriority = -3
removetime = 120
bindtime = -1
pausemovetime = 999999
supermovetime = 999999
removeongethit = 1
;scale = 1.1*const(size.xscale),1.1
ownpal = 1

[State 0];背景
type = Explod
trigger1 = time = 4
anim = 20061
pos = -40,0
postype = left
sprpriority = -4
removetime = 120
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 1.08,1.08

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 2
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[State 3900 e];鮮魚地獄
type = Helper
triggerall = numhelper(3910) = 0
triggerall = time = 4
trigger1 = EnemyNear,const(size.head.pos.y)<= -50
Trigger1 = EnemyNear,StateType = S
;trigger2 = var(58) >= 10
helpertype = normal
stateno = 104011
id = 3910
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 1;1にした場合、プレイヤーの-1ステートを参照する
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3900 e];通常デム・相手屈み
type = Helper
triggerall = numhelper(3910) = 0
trigger1 = time = 4
helpertype = normal
stateno = 104001
id = 3910
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 1;1にした場合、プレイヤーの-1ステートを参照する
supermovetime = 9999999999999
pausemovetime = 9999999999999

;延長
[State 3900 f];SuperPauseおわたらスタンドゲージ減らす。
type = VarAdd
trigger1 = time >= 124
fv = 1 ;スタンドゲージ
value = -1.6

[State 3900 g];ｹﾞｰｼﾞがﾏｲﾅｽ超えたら０にﾘｾｯﾄ。先に↓changeStateにならないか？ならない。順番大事
type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

[State 3900 h]
type = ChangeState
trigger1 = var(59)=0
trigger1 = time >= 124 ;ポーズ終了後Aボタン放したら発動
trigger1 = command != "holda" ;
trigger2 = fvar(1) <= 0 ;ゲージなくなったら発動
trigger3 = var(59)=1
trigger3 = time >= 124
value = 3901
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中（通常デム・相手屈み）
[Statedef 104001]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)～var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "z"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 108
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 20 || time = 32 || time = 44 || time = 56 || time = 68
trigger3 = parent,var(59)=1
trigger3 = time = 80 || time = 92
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 26 || time = 38 || time = 50 || time = 62 || time = 74
trigger3 = parent,var(59)=1
trigger3 = time = 86 || time = 98
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
v = 0+ceil(fvar(1))
value = 901

[State 3910];トビウオ
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "fish_x" || command = "fish_y" || command = "fish_b"
v = 0+ceil(fvar(1))
value = 903

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x" || command = "nekko_y" || command = "nekko_b"
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm" || command = "ryaku1"
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 26 || time = 32 || time = 38 || time = 46
trigger6 = parent,var(59)=1
trigger6 = time = 52 || time = 58 || time = 64 || time = 70 || time = 76
trigger7 = parent,var(59)=1
trigger7 = time = 82 || time = 88 || time = 96 || time = 102 || time = 108
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 26 || time = 32 || time = 38 || time = 46
trigger6 = parent,var(59)=1
trigger6 = time = 52 || time = 58 || time = 64 || time = 70 || time = 76
trigger7 = parent,var(59)=1
trigger7 = time = 82 || time = 88 || time = 96 || time = 102 || time = 108
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 20 || time = 32 || time = 44 || time = 56 || time = 68
trigger3 = parent,var(59)=1
trigger3 = time = 80 || time = 92
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger2 = parent,var(59)=1
trigger2 = time = 26 || time = 38 || time = 50 || time = 62 || time = 74
trigger3 = parent,var(59)=1
trigger3 = time = 86 || time = 98
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger2 = parent,var(59)=1
trigger2 = time = 108
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中（鮮魚地獄）
[Statedef 104011]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)～var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "z"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 108
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 42 || time = 62 || time = 82 || time = 102
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 20 || time = 26
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
v = 0+ceil(fvar(1))
value = 901

[State 3910];トビウオ
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "fish_x" || command = "fish_y" || command = "fish_b"
trigger2 = parent,var(59)=1
trigger2 = time = 32 || time = 52 || time = 72 || time = 92
v = 0+ceil(fvar(1))
value = 903

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x" || command = "nekko_y" || command = "nekko_b"
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm" || command = "ryaku1"
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 26
trigger6 = parent,var(59)=1
trigger6 = time = 32 || time = 42 || time = 52 || time = 62 || time = 72
trigger7 = parent,var(59)=1
trigger7 = time = 82 || time = 92 || time = 102
trigger8 = parent,var(59)=1
trigger8 = time = 108
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = parent,var(59)=1
trigger5 = time = 20 || time = 26
trigger6 = parent,var(59)=1
trigger6 = time = 32 || time = 42 || time = 52 || time = 62 || time = 72
trigger7 = parent,var(59)=1
trigger7 = time = 82 || time = 92 || time = 102
trigger8 = parent,var(59)=1
trigger8 = time = 108
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 20 || time = 26
trigger3 = parent,var(59)=1
trigger3 = time = 42 || time = 62 || time = 82 || time = 102
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger2 = parent,var(59)=1
trigger2 = time = 32 || time = 52 || time = 72 || time = 92
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger2 = parent,var(59)=1
trigger2 = time = 108
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中（通常デム・汎用）
[Statedef 104091]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)～var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "z"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
v = 0+ceil(fvar(1))
value = 901

[State 3910];トビウオ
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "fish_x" || command = "fish_y" || command = "fish_b"
v = 0+ceil(fvar(1))
value = 903

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x" || command = "nekko_y" || command = "nekko_b"
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm" || command = "ryaku1"
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅