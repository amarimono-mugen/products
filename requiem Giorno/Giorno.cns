; これはカンフーマンのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

; これはKFMの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
life = 1000
;パワーゲージの最大値
power = 10000 
  ;攻撃力（これ以上に設定すると強くなる）
attack = 100
  ;防御力（これ以上に設定すると強くなる）
defence = 80
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 0
  IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 0.90;1          ;水平方向の縮尺（通常１）
yscale = 1        ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 16    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 12       ;キャラの幅(前方,空中)
height = 60          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -90   ;頭の大体の座標
mid.pos = -5, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.4      ;前進の速度
walk.back = -2.2     ;後退の速度
run.fwd  = 8, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -8,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.5    ;垂直ジャンプの速度
jump.back = -2.55    ;後ジャンプの速度
jump.fwd = 2.5       ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0      ;空中でジャンプする回数
airjump.height = 0  ;空中でジャンプする最低限の高さ
yaccel = .55         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "去ってしまった者たちから\n受け継いだものは さらに\n『先』に進めなくてはならない！！"
victory2 = "この｢矢｣は破壊しない！"
victory3 = "生き残るのは……\nこの世の｢真実｣だけだ……"
;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空
/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 200, 1]
type = Changeanim
triggerall = var(49) = 10000  
trigger1 = time = 0
value = 10000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
type = S
ctrl = 0
anim = 181+var(49)
velset = 0,0

[State 10820, おまけ]
type = Explod
triggerall = !var(49)
trigger1 = animelem = 3
facing = 1                 
postype = p1
pos = 0,0
anim = 183
sprpriority = 0
ownpal = 1
scale = 0.95, 1
removetime = -1

[State 10820, おまけ]
type = Explod
triggerall = !var(49)
trigger1 = animelem = 3
facing = 1                 
postype = p1
pos = 0,0
anim = 184
sprpriority = 0
ownpal = 1
scale = 0.95, 1
removetime = -1

[State 10820, おまけ]
type = Explod
triggerall = !var(49)
trigger1 = animelem = 3
facing = 1                 
postype = p1
pos = 0,0
anim = 185
sprpriority = 0
ownpal = 1
scale = 0.95, 1
removetime = -1

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 191, 99] 
type = AssertSpecial
trigger1 = life <= 100
trigger1 = Time = [0,230]
flag = roundnotover

[State 200, 1]
type = PlaySnd
triggerall = var(49) = 10000  
trigger1 = animelem = 1
value = 100, 31
channel = 0

[State 191, 2] 
type = AssertSpecial
triggerall = var(49) = 10000 
trigger1 = Time = [0,230]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; 開始前の動作
[Statedef 191]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 100, 21
channel = 0

[State 200, 1]
type = PlaySnd
trigger1 = time = 20
value = 100, 36

[State 200, 1]
type = PlaySnd
trigger1 = time = 40
value = 100, 35

[State 200, 1]
type = PlaySnd
trigger1 = time = 180
value = 100, 31
channel = 0

[State 0, explod]
type = explod
trigger1 = time = 45
anim = 197
id = 197
pos = ceil(12*const(size.xscale)),ceil(-91*const(size.yscale))
postype = p1
removetime = 60
scale = .1,.1
sprpriority = -2
pausemovetime = 0
supermovetime = 0

[State 0, explod]
type = modifyexplod
trigger1 = time > 45
scale = .1+((time-45)*.035),.1+((time-45)*.035)
id = 197

[State 0, pal]
type = allpalfx
trigger1 = time = 105
time = 60
add = 0,0,0
sinadd = 256,256,256,120

[State 191, 1] 
type = ChangeAnim
trigger1 = roundstate = 0
value = 196

[State 191, 1] 
type = ChangeAnim
trigger1 = time = 147
value = 199

[State 1000, 1]
type = Helper
trigger1 = time = 147
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "GER"
stateno = 192
id = 10000
pos = 20, 10
postype = p1
ownpal = 1
facing = 1
size.xscale = .90
size.yscale = 1.00

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] 
type = ChangeState
trigger1 = anim = 199
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; GER
[Statedef 192]
type = S
ctrl = 0
anim = 10000
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = parent,stateno != 191
value = 101002
;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000
trigger1 = 1
y = 10

[State 195, 2]
type = Changeanim
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 10195
ctrl = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) != 10000
trigger1 = Time = 1
value = 100, 39
channel = 0

[State 200, 1]
type = PlaySnd
triggerall = var(49) = 10000
trigger1 = Time = 1
value = 100, 39
channel = 0

[State 1000, 1]
type = Helper
triggerall = var(49) != 10000
trigger1 = time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "GER"
stateno = 196
id = 10000
pos = 20, 10
postype = p1
ownpal = 1
facing = 1
size.xscale = .90
size.yscale = 1.00

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; GER
[Statedef 196]
type = S
ctrl = 0
anim = 194
velset = 0,0
sprpriority = 3

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 立ち・弱・パンチ・の動作
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 0                  
;Commonly-used controllers:
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = ifelse((prevstateno=[100,105]),201,200)
poweradd = 20*!(var(20))                    ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((16*fvar(2))<7,7,(16*fvar(2)))),0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
getpower = 20*!(var(20)),0
givepower = 10*!(var(20)),0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),1
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち弱S
[Statedef 10200]
type    = S
movetype= A
physics = S
poweradd= 5
ctrl = 0
velset = 0,0
anim = 10200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((19*fvar(2))<7,7,(19*fvar(2)))),1
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
getpower = 10,0
givepower = 5,0
air.hittime = 12

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガーキャン soff
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 3

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
triggerall = numhelper(2) = 0
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "gold experience"
stateno = 1801
id = 10000
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ガーキャンGE
[Statedef 1801]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0
facep2 = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger1 = parent,var(14) = 0
attr = S, SA
damage = ceil(ifelse((14*fvar(2))<7,7,(14*fvar(2)))),1
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 0
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6,-1
air.velocity = -6,1
kill = 1 - parent,var(14)
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((7*fvar(2))<7,7,(7*fvar(2)))),1
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 0
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6,-1
air.velocity = -6,1
kill = 1 - parent,var(14)
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((14*fvar(2))<7,7,(14*fvar(2)))),1
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 0
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6,-1
air.velocity = -6,1
kill = 1 - parent,var(14)
p2facing = 1
fall = 1
air.fall = 1
fall.recover = 0
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
triggerall = parent,var(14) = 0
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((7*fvar(2))<7,7,(7*fvar(2)))),1
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 3, 0
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -6,-1
air.velocity = -6,1
fall = 1
air.fall = 1
fall.recover = 0
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; ガーキャン son
[Statedef 11800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 110
velset = 0,0
anim = 11800
ctrl = 0
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
x = 10
y = 10

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 7

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
trigger11 = AnimElem = 23
trigger12 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((7*fvar(2))<7,7,(7*fvar(2)))),1
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 5, 5
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11001
;---------------------------------------------------------------------------
;前立ち弱S
[Statedef 10205]
type    = S
movetype= A
physics = S
poweradd= 10
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((14*fvar(2))<7,7,(14*fvar(2)))),1
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
getpower = 20,0
givepower = 10,0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;立ち弱スタンド出現攻撃
[Statedef 10220]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10200
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(ifelse((21*fvar(2))<7,7,(21*fvar(2)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち弱スタンド出現攻撃
[Statedef 10225]
type    = S
movetype= A
physics = S
poweradd= 20
ctrl = 0
anim = 10205
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((14*fvar(2))<7,7,(14*fvar(2)))),2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち中の動作
; 強パンチの設定は上とほぼ同じです。
; 違うのはsprpriority（表示順位）が-1になっている事です。
; これでは攻撃を出しても絵は相手の後ろに隠れてしまいます
; これはカンフーマンの強パンチを見れば分かるように奥から手前に手を振っている事を
; 表現するためです、最初は手が相手より奥、振り切った時は相手より手前になる
; 投げの場合もこういうことが必要です（掴んでいるようにみせたりするため）
[Statedef 210]
type    = S
movetype= A
physics = S
poweradd = 30*!(var(20))
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((18*fvar(2))<7,7,(18*fvar(2)))),0
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 30*!(var(20)),0
givepower = 10*!(var(20)),0
id = 200
ground.cornerpush.veloff = 0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中S
[Statedef 10210]
type    = S
movetype= A
physics = S
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10210
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(2))<7,7,(42*fvar(2)))),2
priority = 3, Hit
guardflag = M
pausetime = 6,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 30,0
givepower = 10,0
id = 200

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中S
[Statedef 10215]
type    = S
movetype= A
physics = S
poweradd= 30
ctrl = 0
anim = 10215

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(2))<7,7,(42*fvar(2)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 30,0
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中スタンド出現攻撃
[Statedef 10250]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10210
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(2))<7,7,(42*fvar(2)))),2
priority = 3, Hit
guardflag = M
pausetime = 2,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 11
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;前立ち中スタンド出現攻撃
[Statedef 10255]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
ctrl = 0
anim = 10215
poweradd = 30

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((42*fvar(2))<7,7,(42*fvar(2)))),2
priority = 3, Hit
guardflag = M
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 11
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち強
[Statedef 240]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 1

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "ge"
stateno = 241
id = 10000
pos = 35, 10
postype = p1
ownpal = 1
facing = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 25
value = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強 helper
[Statedef 241]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 242
sprpriority = 3

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((98*root,fvar(2))<7,7,(98*root,fvar(2)))),8
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 12,18
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),11,0)
ground.velocity = -10,-4
air.velocity = -10,-5
air.fall = 1
fall = 1
fall.recover = 0
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = time >= 25
trigger1 = time%2 = 0
flag = invisible

[State 181, 無敵]
type = NotHitBy
trigger1 = time >= 25
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;立ち強S
[Statedef 10240]
type    = S
movetype= A
physics = S
poweradd= 50
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((100*fvar(2))<7,7,(100*fvar(2)))),10
guardflag = MA
priority = 4, Hit
pausetime = 12,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -10,-4
air.velocity = -10,-3
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 30,0
givepower = 20,0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強スタンド出現攻撃
[Statedef 10270]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((100*fvar(2))<7,7,(100*fvar(2)))),10
guardflag = M
priority = 4, Hit
pausetime = 12,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-4
air.velocity = -10,-5
air.fall = 1
fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強スタンド出現攻撃
[Statedef 10280]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
velset = 0,0
anim = 10240
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 215]
type = VelSet
trigger1 = animelem = 3
x = 5

[State 215]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((100*fvar(2))<7,7,(100*fvar(2)))),10
guardflag = MA
priority = 4, Hit
pausetime = 12,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -7,0
air.velocity = -7,0
air.fall = 1
fall = 0
fall.recover = 1
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱・パンチ
;     これも通常の攻撃とはあまり変わらないが、変わった点といえばpriority（優先順位）
;     が３になっている事です。
;     これによって他の大抵の攻撃よりも優先権が下がる事になり相手と攻撃がかち合った
;     時は負けてしまいます。
[Statedef 400]
type    = C
movetype= A
physics = C
poweradd = 10*!(var(20))
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((18*fvar(2))<7,7,(18*fvar(2)))),0
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-42
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.velocity = -2.5*const(size.xscale),0
getpower = 10*!(var(20)),0
givepower = 5*!(var(20)),0

[State 400, 4]
type = ChangeState
triggerall = command = "FF"
trigger1 = time >= 7
value = 100

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱S
[Statedef 10400]
type    = C
movetype= A
physics = C
poweradd= 5
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((32*fvar(2))<7,7,(32*fvar(2)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
getpower = 10,0
givepower = 5,0

[State 400, 4]
type = null;ChangeState
triggerall = command = "FF"
trigger1 = time >= 7
value = 100

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み弱スタンド出現攻撃
[Statedef 10420]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = 10400
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((32*fvar(2))<7,7,(32*fvar(2)))),2
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 400, 4]
type = ChangeState
triggerall = command = "FF"
trigger1 = time >= 7
value = 100

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中
; CNS difficulty: easy
[Statedef 410]
type    = C
movetype= A
physics = C
poweradd = 30*!(var(20))
ctrl = 0
anim = ifelse((prevstateno=[100,105]),411,410)
sprpriority = 2

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((28*fvar(2))<7,7,(28*fvar(2)))),2
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,14
sparkxy = -10,-40
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
getpower = 30*!(var(20)),0
givepower = 10*!(var(20)),0

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・中S
[Statedef 10410]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 43,3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,13
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
guard.kill = 0
getpower = 30,0
givepower = 10,0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中スタンド出現攻撃
[Statedef 10450]
type    = C
movetype= A
physics = C
poweradd= 15
ctrl = 0
anim = 10410
sprpriority = 2

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((28*fvar(2))<7,7,(28*fvar(2)))),0
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -10,-15
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み・弱・キック
[Statedef 430]
type    = C
movetype= A
physics = C
poweradd = 20*!(var(20))
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((28*fvar(2))<7,7,(28*fvar(2)))),0
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み強
;
;これは足払いの効果を出すためにground.typeがTripになっています。
;それ以外は特にありません。
[Statedef 440]
type    = C
movetype= A
physics = C
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 440, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 0
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = s-1
guard.sparkno = s-1
sparkxy = -5,-50
hitsound = s1, 3
guardsound = s1,5
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.2,-3
guard.velocity = -5
fall = 0
numhits = 0

[State -2]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "ge"
stateno = 441
id = 441
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強 helper
[Statedef 441]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 241
sprpriority = 3

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 30, 50

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 440, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(ifelse((72*root,fvar(2))<7,7,(72*root,fvar(2)))),0
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-50
hitsound = s1, 3
guardsound = s1,5
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -6
air.velocity = -1.2,-3
guard.velocity = -5
fall = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 440
;---------------------------------------------------------------------------
;屈み強S
[Statedef 10440]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 10440
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,2
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = animelem = 6
trigger1 = numhelper(10441) = 0
helpertype = normal
name = "tuta"
stateno = 10441
id = 10441
pos = 80, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.3
size.yscale = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強 helper ツタ
[Statedef 10441]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 10441
sprpriority = 3

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 0
animtype  = Light
hitflag = M
guardflag = L
pausetime = 0,40
guard.pausetime = 0, 3
sparkxy = -10,-15
sparkno = s810
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = 0
air.velocity = 0,0
down.velocity = 0,0
down.hittime = 20

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 5

[State 440, 4]
type = ChangeState
trigger1 = Time = 50
trigger2 = parent,movetype = H && parent,stateno != [120,160]
value = 10442
;---------------------------------------------------------------------------
;屈み強 helper ツタ 消滅
[Statedef 10442]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 10442
sprpriority = 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;空中弱
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd = 20*!(var(20))
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((21*fvar(2))<7,7,(21*fvar(2)))),0
guardflag = HA
priority = 2, Hit
pausetime = 8,8
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
getpower = 20*!(var(20)),0
givepower = 10*!(var(20)),0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 28
value = 1
;---------------------------------------------------------------------------
;空中弱S
[Statedef 10600]
type    = A
movetype= A
physics = A
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 14

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((40*fvar(2))<7,7,(40*fvar(2)))),0
guardflag = HA
priority = 2, Hit
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
getpower = 20,0
givepower = 10,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1

;---------------------------------------------------------------------------
;空中弱スタンド出現攻撃
[Statedef 10620]
type    = A
movetype= A
physics = A
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = light
damage = ceil(ifelse((40*fvar(2))<7,7,(40*fvar(2)))),0
guardflag = HA
priority = 2, Hit
pausetime = 10,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-58
hitsound   = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;空中中
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd = 60*!(var(20))
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((28*fvar(2))<7,7,(28*fvar(2)))),0
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2+var(19)*1.3
getpower = 20*!(var(20)),0
givepower = 10*!(var(20)),0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 32
value = 1
;---------------------------------------------------------------------------
;空中中S
[Statedef 10610]
type    = A
movetype= A
physics = A
poweradd= 20
ctrl = 0
anim = 10600
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 11

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((52*fvar(2))<7,7,(52*fvar(2)))),0
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 11,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 19
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2+var(19)*1.3
getpower = 20,0
givepower = 10,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中中スタンド出現攻撃
[Statedef 10650]
type    = A
movetype= A
physics = A
poweradd= 20
ctrl = 0
anim = 10610
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, 11

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((52*fvar(2))<7,7,(52*fvar(2)))),0
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-55
hitsound   = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 19
ground.hittime  = 19
guard.hittime  = 19
ground.velocity = -5*const(size.xscale)
air.velocity = -3*const(size.xscale),-2+var(19)*1.3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;空中強
[Statedef 640]
type    = A
movetype= A
physics = A
poweradd = 50*!(var(20))
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,12
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 640, ヒット定義]
type = HitDef
trigger1 = numhelper(10000) = 0
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((68*fvar(2))<7,7,(68*fvar(2)))),0
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,22)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,22)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3
getpower = 40*!(var(20)),0
givepower = 20*!(var(20)),0

[State 640, ヒット定義]
type = HitDef
trigger1 = numhelper(10000) != 0
trigger1 = Time = 0
attr = A, NA
damage = ceil(ifelse((35*fvar(2))<7,7,(35*fvar(2)))),0
animtype = heavy
guardflag = HA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 13
ground.hittime  = 13
guard.hittime  = 13
ground.velocity = -7*const(size.xscale)
air.velocity = -1.5*const(size.xscale),-1+var(19)*1.3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 35
value = 1
;---------------------------------------------------------------------------
;空中強S
[Statedef 10640]
type    = A
movetype= A
physics = A
poweradd= 50
ctrl = 0
anim = 10640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 12
channel = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 630, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = ceil(ifelse((90*fvar(2))<7,7,(90*fvar(2)))),3
guardflag = HA
priority = 3
pausetime = 12,18
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,10,18)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,10,18)
ground.velocity = -8,8
air.velocity = -8,8
guard.kill = 0
fall.recover = 0
fall = 1
air.fall = 1
getpower = 30,0
givepower = 20,0

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;---------------------------------------------------------------------------
;空中強スタンド出現攻撃
[Statedef 10670]
type    = A
movetype= A
physics = A
poweradd= 60
ctrl = 0
anim = 10640
sprpriority = 2

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,0
anim = 9996
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 12
channel = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 630, ヒット定義]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = ceil(ifelse((90*fvar(2))<7,7,(90*fvar(2)))),3
guardflag = HA
priority = 3
pausetime = 10,18
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -8,8
air.velocity = -8,8
guard.kill = 0
fall.recover = 0
fall = 1
air.fall = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 34
value = 1
;---------------------------------------------------------------------------
;掴み son
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10900
sprpriority = 2

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(command = "holdfwd", 1, -1)
p1stateno = 810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 803

[State 1061, 2]
type = Velset
trigger1 = time = 32
y = -4
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 34
y = -3.675
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 36
y = -3.35
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 38
y = -3
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = -1.5
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 42
y = -0.75
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 44
y = -0.375
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 46
y = 0
x = -8.5

[State 1061, 2]
type = Velset
trigger1 = time = 48
y = 0.25
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = 50
y = 0.5
x = -7.5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 1
x = -7

[State 1061, 2]
type = Velset
trigger1 = time = 53
y = 2
x = -6.5

[State 1061, 2]
type = Velset
trigger1 = time = 54
y = 4
x = -6

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 6
x = -5.5

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 8
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 56
y = 9
x = -4.5

[State 1061, 2]
type = Velset
trigger1 = time > 57
y = 10
x = -4

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 35
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;成功（放り投げる）son
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 10901
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 901, Effect]
type = PlaySnd
trigger1 = time = 0
value = 100, 15
channel = 0

[State 10820,]
type = Explod
trigger1 = Time = 32
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 32
value = 1,3

[State 901, Effect]
type = PlaySnd
trigger1 = time = 25
value = 100, 13
channel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = time <= 5
pos = 50, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno != [11,12]
trigger1 = time = 32
value = -70*fvar(2)

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno = 11 
trigger1 = time = 32
value = -105*fvar(2)

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno = 12 
trigger1 = time = 32
value = -240*fvar(2)

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ（掴みモーション）
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 900+var(49)

[State 900, 1]
type = HitDef
triggerall = var(49) != 10000
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(command = "holdfwd", 1, -1)
p2facing = 1
p2stateno = 909
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 900, 1]
type = HitDef
triggerall = var(49) = 10000
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = ifelse(frontedgebodydist > backedgedist, 1, -1)
p2facing = 1
p2stateno = 919
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 901, Throw]
type = ChangeState
triggerall = var(49) != 10000
trigger1 = numtarget
trigger1 = target,stateno = 909
value = 901
persistent = 0

[State 901, Throw]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = numtarget
trigger1 = target,stateno = 919
value = 911
persistent = 0

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ（本体）
[Statedef 901]
type = S
movetype = A
physics = N
anim = 901+var(49)
velset = 0,0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1000, Spark]
type = helper
triggerall = var(49) != 10000
trigger1 = !var(49) && time = 0
stateno = 904
id = 904
pos = 20
postype = P1
ownpal = 1

[State 170, 1]
type = NotHitBy
trigger1 = numtarget
value = SCA

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 905

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 4
trigger2 = var(49) && time = 4
value = 100, 15
channel = 0

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 35
trigger2 = var(49) && time = 47
value = 0, 2

[State 901, Effect]
type = PlaySnd
trigger1 = !var(49) && time = 41
trigger2 = var(49) && time = 52
value = 1, 3

[State 901, Effect]
type = PlaySnd
trigger1 = time = 0
value = 1, 9
channel = 1

[State 1000, Spark]
type = Explod
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 52
Anim = 830
id = 8202
pos = ceil((75-(var(49)*.002))*const(size.xscale)),ceil(-82*const(size.yscale))
postype = P1
ownpal = 1
ontop = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = ceil((76-(var(49)*.002))*const(size.xscale)),0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno != [11,12]
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 51
value = -70*fvar(2)

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno = 11 
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 51
value = -105*fvar(2)

[State 901, Hurt]
type = TargetLifeAdd
triggerall = palno = 12 
trigger1 = !var(49) && time = 42
trigger2 = var(49) && time = 51
value = -240*fvar(2)

[State 901, Ctrl]
type = ChangeState
triggerall = !var(49)
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 220, 3]
type = ChangeState
triggerall = time > 1
trigger1 = var(49) = 10000
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げぬけ 自分（y.y氏製作）
[Statedef 930]
type = A
movetype = I
physics = A
anim = Ifelse(var(49)=10000,15040,5210)
velset = -3,-5

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 940

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　相手
[Statedef 940]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
---------------------------------------------------
;スタンドon 投げ　あいて
[Statedef 919]
type    = A
movetype= H
physics = N
velset = 0,0
poweradd = 40

[State 820, 1]
type = ChangeAnim2;敵（今回は自キャラ）からアニメーションを参照します。
Trigger1 = Time = 0
value = 905

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
Trigger1 = AnimTime = 0
value = 5035
ctrl=0

;---------------------------------------------------------------------------
;投げ（スタンド）
[Statedef 10901]
type = S
movetype = A
physics = N
anim = 10902
velset = 0,0
sprpriority = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 820, sprpriority]
type = sprpriority
trigger1 = animelem = 7
value = 2

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 950 && root,time = 1
trigger2 = AnimTime = 0
value = 10000
;---------------------------------------------------------------------------
;投げ helper
[Statedef 904]
type = S
movetype = A
physics = N
anim = 904
velset = 0,0
sprpriority = 0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 20,15

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 901, Effect]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 13
channel = 0

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = root,stateno != 901
value = 1002
;---------------------------------------------------------------------------
;投げ（相手）
[Statedef 905]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 905

[State 903, 2]
type = ChangeState
trigger1 = animtime = 0
value = 906
;---------------------------------------------------------------------------
;投げ（相手）2
[Statedef 906]
type = A
movetype = H
physics = N
velset = -12.5,-4.3

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelAdd
trigger1 = 1
y = .4

[State 5040, 5] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;投げ（相手）3
[Statedef 909]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
; 投げ(スタンド)
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000
sprpriority = 1

[State 230, 3]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 800
;---------------------------------------------------------------------------
; 無駄無駄弱
; 
;   これは必殺技のステートです、主な違いはattrがS, SAになっているところで
;   意味はＳ：立ち Ｓ：必殺技 Ａ：攻撃となっています。
;   これは相手のとる反応を左右するので正確にする必要があります
;   後、攻撃が近くで当たるのと遠くで当たるのを区別しています
;   1000,5はtrigger1 = p2bodydist X < 40と記述があります
;   意味は「相手の水平位置が40より近い」ということです。
;   1000,6はtrigger1 = p2bodydist X >= 40となっています、すると
;   意味は「相手の水平位置が40以上」となっているので近くなら強く
;   遠くなら弱くダメージがあると言う事です。

[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 70
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "gold experience"
stateno = 1001
id = 10000
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（弱）(スタンド)
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 13*parent,const(size.xscale)+parent,fvar(0),0
anim = 1001
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((14*root,fvar(2))<5,5,(14*root,fvar(2)))),0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 1*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((6*root,fvar(2))<2,2,(6*root,fvar(2)))),2
animtype = middle
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((7*root,fvar(2))<3,3,(7*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 1*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((20*root,fvar(2))<8,8,(20*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11,-3
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

;---------------------------------------------------------------------------
; 無駄無駄終了（弱）(スタンド)
[Statedef 1002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1002
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1002
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;イントロ終了（弱）(スタンド)
[Statedef 101002]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10193
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 10193
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 無駄無駄中

[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 70
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "gold experience"
stateno = 1004
id = 10000
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（中）(スタンド)
[Statedef 1004]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 20*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((14*root,fvar(2))<5,5,(14*root,fvar(2)))),0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -3*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((6*root,fvar(2))<2,2,(6*root,fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 2*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((7*root,fvar(2))<3,3,(7*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((20*root,fvar(2))<8,8,(20*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 無駄無駄強
[Statedef 1005]
type    = S
movetype= A
physics = S
poweradd= 70
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "gold experience"
stateno = 1006
id = 10000
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄（強）(スタンド)
[Statedef 1006]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 26*parent,const(size.xscale)+parent,fvar(0),0
anim = 1003
sprpriority = 0
facep2 = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 100, 16
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 17
channel = 0  

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = varset
trigger1 = time = 0
fv = 5
value = parent,fvar(5)

[State -2,1];摩擦設定
type = varadd
trigger1 = time > 0
trigger1 = fvar(5) < 0
fv = 5
value = .85

[State -2,1];押し戻し速度が+にならないように
type = varset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];押し戻し速度が+にならないように
type = parentvarset
trigger1 = fvar(5) >= 0
fv = 5
value = 0

[State -2,1];計算した押し戻し速度をPosaddで反映させる
type = posadd
trigger1 = parent,var(14) = 0
trigger1 = fvar(5) < 0
trigger1 = parent,var(32) = 1
x = floor(fvar(5))

[State 191, 3]
type = nothitby
trigger1 = parent,var(14) = 1
value = SCA
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 5
range = 0,30

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifelse((14*root,fvar(2))<5,5,(14*root,fvar(2)))),0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 3
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
attr = S, SA
damage = ceil(ifelse((6*root,fvar(2))<2,2,(6*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -3
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
attr = S, SA
damage = ceil(ifelse((7*root,fvar(2))<3,3,(7*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 3
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = ceil(ifelse((20*root,fvar(2))<8,8,(20*root,fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11,-3
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-5+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
kill = 1 - parent,var(14)
p2facing = 1
getpower = 20 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 47
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 47
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 47
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 47
value = SCA
time = -1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5997]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3014
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3015
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3016
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3017
ignorehitpause = 1

[State 230, 2]
type = removeexplod
trigger1 = time = 0
id = 3018
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,hitshakeover
trigger2 = root,hitshakeover
trigger2 = root,prevstateno = [5000,5099]
value = 5998
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 5998]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5998
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 5999
id = 5999
pos = 0,ceil(-70*const(size.yscale))
postype = p1
sprpriority = 0
removetime = 10
bindtime = -1
scale = const(size.xscale),const(size.yscale)
persistent = 0

[State 1000, 2]
type = Varset
trigger1 = !hitshakeover
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = hitshakeover
v = 13
value = 1

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 0
ID = 5999
scale = const(size.xscale)+var(13)/11.5 , const(size.yscale)-var(13)/11.5

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 1

[State 230, 2]
type = destroyself
trigger1 = root,hitover
trigger2 = root,movetype != H && time > 0
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 1020]
type = U
movetype = H
physics = N
ctrl = 0
anim = 1020
velset = 0,0
sprpriority = -1

[State 0, assert]
type = offset
trigger1 = 1
y = -10
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, var]
type = parentvarset
trigger1 = !time
var(9) = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 1520
;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 1520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 1020
velset = 0,0
sprpriority = -1

[State 0, assert]
type = offset
trigger1 = 1
y = -10
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 4

[State 0, hitvel]
type = hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 9994

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
;---------------------------------------------------------------------------
;無駄無駄S
[Statedef 11000]
type    = S
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 8
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 11
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 72
value = 11001
;---------------------------------------------------------------------------
;無駄無駄S終了
[Statedef 11001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11003
hitcountpersist = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = heavy
damage    = 20, 9
guardflag = M
priority = 4, Hit
pausetime = 15,15
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
guard.hittime  = 16
ground.velocity = -12,-2
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
fall = 1
guard.kill = 0
p2stateno = 6664

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 17
channel = 0 

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄中S
[Statedef 11010]
type    = S
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 8
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 11
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 200, 7]
type = velset
trigger1 = time >= 5
x = 15*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 7
x = 1.2*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 57
x = 0

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 72
value = 11001
;---------------------------------------------------------------------------
;無駄無駄S 強 
[Statedef 11040]
type    = S
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11000
hitcountpersist = 1

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 8
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 11
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,-1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,-1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = S, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = M
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,-1
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 200, 7]
type = velset
trigger1 = time >= 5
x = 24*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 7
x = 2.8*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 57
x = 0

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 72
value = 11001
;---------------------------------------------------------------------------
;無駄無駄S 空中
[Statedef 11500]
type    = A
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 11500
hitcountpersist = 1

[State 0];ループ回避
type = varset
trigger1 = 1
var(32) = 1

[State 1026, Gravity]
type = Velset
triggerall = prevstateno = 116
trigger1 = time >= 5
x = 5

[State 1026, Gravity]
type = Velset
triggerall = prevstateno = 117
trigger1 = time >= 5
x = -1

[State 1026, Gravity]
type = Velset
triggerall = command = "holdfwd"
trigger1 = time >= 5
x = 3

[State 1026, Gravity]
type = Velset
triggerall = command = "holdback"
trigger1 = time >= 5
x = -3

[State 1026, Gravity]
type = Velset
triggerall = command = "holdup"
trigger1 = time >= 10
y = -3

[State 1026, Gravity]
type = Velset
trigger1 = time = 30
y = 0

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 20
y = .08

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 8
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 11
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
attr = A, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 30
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 15
trigger4 = AnimElem = 23
attr = A, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -65
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 30
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
attr = A, SA
damage = ceil(ifelse((12*fvar(2))<3,3,(12*fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 4, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -55
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5,0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
fall.recovertime = 30
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = time > 29
trigger1 = var(6) = 0
trigger2 = time = 72
value = 50
ctrl = 1

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
; 無駄無駄ラッシュ S(超必殺)　
[Statedef 13000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13300
ctrl = 0
sprpriority = 2

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 200, 7]
type = velset
trigger1 = time >= 50
x = 10*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 54
x = 3*const(size.xscale)

[State 200, 7]
type = velset
trigger1 = time >= 141
x = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 60

[State 3000, 相手の特定の攻撃属性無効]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 27
trigger5 = AnimElem = 35
trigger6 = AnimElem = 43
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 45
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 31
trigger5 = AnimElem = 39
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25
trigger4 = AnimElem = 33
trigger5 = AnimElem = 41
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 27
trigger6 = AnimElem = 33
trigger7 = AnimElem = 39
trigger8 = AnimElem = 45
attr = S, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, -85
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
trigger7 = AnimElem = 41
attr = S, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -66
hitsound = s1, 3
guardsound = s1, 5
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
trigger6 = AnimElem = 37
trigger7 = AnimElem = 43
attr = S, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -50
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 47
attr = S, HA
animtype  = heavy
damage = ceil(ifelse((120*fvar(2))<80,80,(120*fvar(2)))),5
guardflag = MA
priority = 4, Hit
pausetime = 24,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 15
ground.velocity = -10,-4
guard.velocity = -13
envshake.time = 8
envshake.frep = 300
envshake.ampl = 14
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
p2stateno = 6664

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄SP 空中
[Statedef 13500]
type    = A
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 13500
hitcountpersist = 1

[State 1026, Gravity]
type = Velset
trigger1 = time = 0
x = 0

[State 1026, Gravity]
type = Velset
triggerall = command = "holdfwd"
trigger1 = time >= 45
trigger1 = time <= 130
x = 5

[State 1026, Gravity]
type = Velset
triggerall = command != "holdfwd"
triggerall = command != "holdback"
trigger1 = time >= 45
trigger1 = time <= 130
x = 3

[State 1026, Gravity]
type = Velset
triggerall = command = "holdback"
trigger1 = time >= 45
trigger1 = time <= 130
x = 1

[State 1026, Gravity]
type = Velset
triggerall = command = "holdup"
trigger1 = time >= 50
trigger1 = time <= 130
y = -1

[State 1026, Gravity]
type = Velset
triggerall = command != "holdup"
triggerall = Pos Y > -20
trigger1 = time >= 50
trigger1 = time <= 130
y = 0

[State 1026, Gravity]
type = Velset
triggerall = command != "holdup"
triggerall = command != "holddown"
triggerall = Pos Y <= -20
trigger1 = time >= 50
trigger1 = time <= 130
y = 1

[State 1026, Gravity]
type = Velset
triggerall = command = "holddown"
triggerall = Pos Y <= -20
trigger1 = time >= 50
trigger1 = time <= 130
y = 2

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 130
y = .8

[State 210, Width]
type = Width
trigger1 = 1
value = 30,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 60

[State 3000, 相手の特定の攻撃属性無効]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 10820, 手1]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 27
trigger5 = AnimElem = 35
trigger6 = AnimElem = 43
facing = 1                 
postype = p1
pos = 30,-90
anim = 11050
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手2]
type = Explod
trigger1 = AnimElem = 5
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 29
trigger5 = AnimElem = 37
trigger6 = AnimElem = 45
facing = 1                 
postype = p1
pos = 35,-70
anim = 11053
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手3]
type = Explod
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
trigger3 = AnimElem = 23
trigger4 = AnimElem = 31
trigger5 = AnimElem = 39
facing = 1                 
postype = p1
pos = 31,-77
anim = 11052
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 10820, 手4]
type = Explod
trigger1 = AnimElem = 9
trigger2 = AnimElem = 17
trigger3 = AnimElem = 25
trigger4 = AnimElem = 33
trigger5 = AnimElem = 41
facing = 1                 
postype = p1
pos = 37,-90
anim = 11051
sprpriority = 2
ownpal = 1
scale = .90, 1
removetime = 9
bindtime = 9999
id = 11050

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 27
trigger6 = AnimElem = 33
trigger7 = AnimElem = 39
trigger8 = AnimElem = 45
attr = A, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 5, 5
sparkno = s850
guard.sparkno = s840
sparkxy = -10, -85
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
trigger7 = AnimElem = 41
attr = A, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 5, 5
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -66
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
trigger6 = AnimElem = 37
trigger7 = AnimElem = 43
attr = A, HA
damage = ceil(ifelse((14*fvar(2))<4,4,(14*fvar(2)))),3
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 5, 5
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -50
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),-0.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
getpower = 10 * (parent,var(14) = 0),0
givepower = 10,0
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 47
attr = A, HA
animtype  = heavy
damage = ceil(ifelse((28*fvar(2))<7,7,(28*fvar(2)))),5
guardflag = MA
priority = 4, Hit
pausetime = 24,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 15
ground.velocity = -10,-4
guard.velocity = -13
envshake.time = 8
envshake.frep = 300
envshake.ampl = 14
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
p2stateno = 6664

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 16
channel = 0   

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(14) < 0
trigger1 = var(6) > 0
var(6) = -1
persistent = 1
ignorehitpause = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelem = 3
var(6) = 16

[State 1100, VarSet]
type = VarSet
triggerall = var(6) > 0
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "b"
var(6) = 16
persistent = 1
ignorehitpause = 1

[State 210, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0
value = 52
;---------------------------------------------------------------------------
;木の根　超必
[Statedef 13150]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
velset = 0,0
anim = 13151
hitcountpersist = 1

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,28
channel = 0  

[State 0, ]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = ceil((P2dist X)-30),0
postype = p1
ownpal = 1
facing = 1

[State 0, ]
type = Helper
trigger1 = AnimElem = 7, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = ceil((P2dist X)+50),0
postype = p1
ownpal = 1
facing = -1

[State 0, ]
type = Helper
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = ceil((P2dist X)-30),0
postype = p1
ownpal = 1
facing = 1

[State 0, ]
type = Helper
trigger1 = BackEdgeBodyDist > 130
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3153
id = 11101
pos = ceil((P2dist X)-100),0
postype = front
ownpal = 1
facing = -1

[State 0, ]
type = Helper
trigger1 = BackEdgeBodyDist < 131
trigger1 = AnimElem = 7, = 40
helpertype = normal
name = "nekko"
stateno = 3153
id = 11101
pos = ceil((P2dist X)-200),0
postype = front
ownpal = 1
facing = -1

[State 1027, Sound]
type = PlaySnd
trigger1 = AnimElem = 7, = 40
value = 100,29
channel = 0  

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;無駄無駄無駄無駄
[Statedef 17000]
type    = S
movetype= A
physics = S
poweradd= 70
ctrl = 0
velset = 0,0
anim = 17000
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 215]
type = VelSet
trigger1 = animelem = 2
x = 10

[State 215]
type = VelSet
trigger1 = animelem = 7
x = 0

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -2000

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = heavy
damage = ceil(ifelse((63*fvar(2))<7,7,(63*fvar(2)))),0
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s7, 5
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
fall = 1
p2facing = 1
p1stateno = 17001
p2stateno = 17003
kill = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 25

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 43
value = 100,13
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄無駄無駄その２ 本体
[Statedef 17001]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 17001
ctrl = 0
sprpriority = 2

[State 901,1]
type = targetBind
trigger1 = time <= 5
pos = 60, 0
postype = P1
time = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[state 3000]
type = nothitby
trigger1 = 1
value = CA ,AP, AT, NA, SA

[State 215]
type = HitAdd
trigger1 = time = 63
trigger2 = time = 93
value = 1

[State 215]
type = HitAdd
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 12
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 16
trigger9 = animelem = 17
trigger10 = animelem = 18
trigger11 = animelem = 19
trigger12 = animelem = 21
trigger13 = animelem = 22
trigger14 = animelem = 23
trigger15 = animelem = 24
trigger16 = animelem = 25
trigger17 = animelem = 27
trigger18 = animelem = 28
trigger19 = animelem = 29
trigger20 = animelem = 30
trigger21 = animelem = 31
trigger22 = animelem = 33
trigger23 = animelem = 34
trigger24 = animelem = 35
trigger25 = animelem = 37
trigger26 = animelem = 6
value = 1

[State 702, ライフ増減]
type = targetLifeAdd
trigger1 = time = 21
trigger2 = time = 127
trigger3 = time = 129
trigger4 = time = 131
trigger5 = time = 133
trigger6 = time = 135
trigger7 = time = 137
trigger8 = time = 139
trigger9 = time = 33
trigger10 = time = 35
trigger11 = time = 37
trigger12 = time = 39
trigger13 = time = 41
trigger14 = time = 43
trigger15 = time = 45
trigger16 = time = 47
trigger17 = time = 49
trigger18 = time = 51
trigger19 = time = 53
trigger20 = time = 55
trigger21 = time = 57
trigger22 = time = 59
trigger23 = time = 61
trigger24 = time = 63
trigger25 = time = 65
trigger26 = time = 67
trigger27 = time = 69
trigger28 = time = 71
trigger29 = time = 73
trigger30 = time = 75
trigger31 = time = 77
trigger32 = time = 79
trigger33 = time = 81
trigger34 = time = 83
trigger35 = time = 85
trigger36 = time = 87
trigger37 = time = 89
trigger38 = time = 91
trigger39 = time = 93
trigger40 = time = 95
trigger41 = time = 97
trigger42 = time = 99
trigger43 = time = 101
trigger44 = time = 103
trigger45 = time = 105
trigger46 = time = 107
trigger47 = time = 109
trigger48 = time = 111
trigger49 = time = 113
trigger50 = time = 115
trigger51 = time = 117
trigger52 = time = 119
trigger53 = time = 121
trigger54 = time = 123
trigger55 = time = 125
trigger56 = time = 141
trigger57 = time = 143
trigger58 = time = 145
trigger59 = time = 147
trigger60 = time = 149
trigger61 = time = 151
trigger62 = time = 153
trigger63 = time = 155
trigger64 = time = 157
trigger65 = time = 159
trigger66 = time = 161
trigger67 = time = 163
trigger68 = time = 165
trigger69 = time = 167
trigger70 = time = 169
trigger71 = time = 171
trigger72 = time = 173
trigger73 = time = 175
trigger74 = time = 177
trigger75 = time = 179
trigger76 = time = 181
trigger77 = time = 183
trigger78 = time = 185
trigger79 = time = 187
trigger80 = time = 189
trigger81 = time = 191
trigger82 = time = 193
trigger83 = time = 195
trigger84 = time = 197
trigger85 = time = 199
trigger86 = time = 201
trigger87 = time = 203
trigger88 = time = 205
trigger89 = time = 207
trigger90 = time = 209
trigger91 = time = 211
trigger92 = time = 213
trigger93 = time = 215
trigger94 = time = 217
trigger95 = time = 219
trigger96 = time = 221
trigger97 = time = 223
trigger98 = time = 225
trigger99 = time = 227
value = ceil(ifelse((-4*fvar(2))>-1,-1,(-4*fvar(2))))
kill = 0

[State 215]
type = HitAdd
trigger1 = animelem = 11
trigger2 = animelem = 14
trigger3 = animelem = 20
trigger4 = animelem = 26
trigger5 = animelem = 36
value = 2

[State 1060, 5]
type = envshake
trigger1 = Time = 220
time = 8
frep = 320
ampl = -14

[State 16010, 仮面]
type = Explod      
trigger1 = time = 220
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 220
value = 7, 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 15
trigger4 = animelem = 23
anim = 850
ID = 17000
pos = 0, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 13
trigger2 = animelem = 19
trigger3 = animelem = 27
trigger4 = animelem = 31
trigger5 = animelem = 37
anim = 850
ID = 17000
pos = -4, -60
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 21
trigger2 = animelem = 29
trigger3 = animelem = 33
anim = 850
ID = 17000
pos = 3, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 9
trigger2 = animelem = 17
trigger3 = animelem = 25
trigger4 = animelem = 35
anim = 850
ID = 17000
pos = 10, -35
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = ModifyExplod
trigger1 = time = 223
ID = 17000
removetime = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 18
value = 100, 34
channel = 0  

[State 400, コントロール]
type = CtrlSet
trigger1 = 1
value = 0

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[state 3000]
type = playsnd
trigger1 = time = 213
value = 100,17
channel = 0

[state 3000]
type = ChangeState
trigger1 = time = 223
value = 17002
;---------------------------------------------------------------------------
; 無駄無駄無駄無駄その3 本体
[Statedef 17002]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 17002
ctrl = 0
sprpriority = 0

[State 215]
type = targetLifeAdd
trigger1 = time = 0
trigger1 = PalNo = 11
value = -100

[State 215]
type = targetLifeAdd
trigger1 = time = 0
trigger1 = PalNo = 12
value = -500


[state 3000]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------------------------------------
; 無駄無駄無駄無駄・相手くらい空中
[Statedef 17003]
type    = A
movetype= H
physics = N
velset = 0,0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, ライフ増減]
type = LifeAdd
trigger1 = time = 229
value = -20
kill = 1

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 17005

[State 1060, 2]
type = changeanim2
trigger1 = time = 27
trigger2 = time = 54
trigger3 = time = 81
trigger4 = time = 108
trigger5 = time = 135
trigger6 = time = 162
trigger7 = time = 189
trigger8 = time = 216
value = 3004

[State 1060, 2]
type = changeanim2
trigger1 = time = 36
trigger2 = time = 63
trigger3 = time = 90
trigger4 = time = 117
trigger5 = time = 144
trigger6 = time = 171
trigger7 = time = 198
value = 3005

[State 1060, 2]
type = changeanim2
trigger1 = time = 45
trigger2 = time = 72
trigger3 = time = 99
trigger4 = time = 126
trigger5 = time = 153
trigger6 = time = 180
trigger7 = time = 207
value = 3006

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 223
x = 0
y = 0

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 233
trigger1 = BackEdgeBodyDist <= 20
value = 6665

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 233
x = -10
y = -2

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 243
x = -10
y = 0

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 253
x = -10
y = 2

[State 1061, 2]
type = selfState
trigger1 = Time = 273
value = 5110
;------------------
;壁に当たる状態

[Statedef 17004]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 17004

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1060, 5]
type = envshake
trigger1 = Time = 0
time = 10
frep = 130
ampl = 7

[State 1027, Turn]
type = Turn
trigger1 = Time = 10

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 10
x = 15

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -3
y = -2.5

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .45

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

;[State 1027, Sound]
;type = PlaySnd
;trigger1 = Time = 0
;value = F7,0

[State 5050, 4]
type = selfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = time >= 17
trigger1 = Command = "recovery"
value = 5200

[State 5050, 5]
type = selfState
triggerall = Vel Y > -1
triggerall = alive
triggerall = time >= 17
trigger1 = Command = "recovery"
value = 5210

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 10
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5110
;---------------------------------------------------------------------------
;植物の根 弱
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = 50, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = 50, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 210
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1101
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根
[Statedef 1101]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = parent,movetype = H && parent,stateno != [120,160]

[State 301,ステート移動]
type = changestate
trigger1 = Time = 10    ;普通に消えるときの条件。必須
value = 1102
;---------------------------------------------------------------------------
;helper 木の根 発生
[Statedef 1102]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1102
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((69*root,fvar(2))<7,7,(69*root,fvar(2)))),0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,12
guard.pausetime = 6,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime = 5
guard.hittime  = 5
ground.velocity = 0*const(size.xscale)
air.velocity = 0*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
trigger2 = parent,movetype = H && parent,stateno != [120,160] ;申し訳ないが発生保障はNG
;---------------------------------------------------------------------------
;植物の根 中
[Statedef 1103]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 160
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1104
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根 中
[Statedef 1104]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,ステート移動]
type = changestate
trigger1 = Time = 20    ;普通に消えるときの条件。必須
value = 1102
;---------------------------------------------------------------------------
;植物の根 強
[Statedef 1105]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 110
trigger1 = animelem = 2
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 1106
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根 強
[Statedef 1106]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1101
sprpriority = 3

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,ステート移動]
type = changestate
trigger1 = Time = 30    ;普通に消えるときの条件。必須
value = 1102
;---------------------------------------------------------------------------
;植物生成
[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd= 130
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 30, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;花
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1401
sprpriority = 0

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,30

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = 1
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s29999
sparkxy       = 0,0
P1StateNo     = 1403

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,ステート移動]
type = changestate
trigger1 = Time = 220    ;普通に消えるときの条件。必須
trigger2 = Time > 21
trigger2 = parent,command = "c"
value = 1402
;---------------------------------------------------------------------------
;花 消滅
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1402
sprpriority = 0

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;花 カウンター
[Statedef 1403]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1403
sprpriority = 0

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "act1"
stateno = 1404
id = 1404
pos = 0, -50
postype = p1
ownpal = 1
facing = 1

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;カウンター 
[Statedef 1404]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
sprpriority = 6
anim = 1404
ctrl = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 1, 3

[State 1010, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype = hard
damage    = 45
priority  = 7, Hit
guardflag = A
pausetime = 0,14
sparkno = s830
guard.sparkno = s840
sparkxy = 0,-30
hitsound = s1, 3
guardsound = s1, 5
guard.dist = 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -1*const(size.xscale),0
air.velocity = -1*const(size.xscale),0
guard.kill = 0

[state 6031,終了]
type=destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
;植物生成
[Statedef 1405]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 130
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 60, 0
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;植物生成
[Statedef 1406]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 130
ctrl = 0
velset = 0,0
anim = 1100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "flower"
stateno = 1401
id = 1401
pos = 60, 0
postype = p2
ownpal = 1
facing = -1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カブト生成 s
[Statedef 11400]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 130
ctrl = 0
velset = 0,0
anim = 11400
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,14
channel = 0  

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(1401) = 0
helpertype = normal
name = "fly"
stateno = 11401
id = 11401
pos = 55, -110
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カブト
[Statedef 11401]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 11401
sprpriority = 3

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 1
x = 15

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = 1
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s29999
sparkxy       = 0,0
P1StateNo     = 11403

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 2] 
type = destroyself
trigger1 = time = 200
;---------------------------------------------------------------------------
;カブト カウンター
[Statedef 11403]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 29999
sprpriority = 0

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 1
time = 2
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State -2]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "act1"
stateno = 1404
id = 1404
pos = 0, -50
postype = p2
ownpal = 1
facing = 1

[State 191, 2] 
type = destroyself
trigger1 = time = 3
;---------------------------------------------------------------------------
;植物の根S 弱
[Statedef 11100]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 80, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -50, 0
postype = front
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper 木の根　dem
[Statedef 41101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1102
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((35*root,fvar(2))<7,7,(35*root,fvar(2)))),0
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;helper 木の根
[Statedef 11101]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11101
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = enemy,stateno != 5050
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((50*root,fvar(2))<7,7,(50*root,fvar(2)))),6
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 0,12
guard.pausetime = 0,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime = 11
guard.hittime  = 11
ground.velocity = 0, -10
air.velocity = 0, -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 11103

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;相手　リフトアップ
[Statedef 11103]
type    = S
movetype= H
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 5160
sprpriority = 3

[State 1061, 2]
type = Velset
trigger1 = 1
x = 0
y = -8

[State 0, end]
type = selfstate
trigger1 = time > 3
value = 5050
;---------------------------------------------------------------------------
;植物の根S 中
[Statedef 11110]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 130
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -50, 0
postype = front
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;植物の根S 強
[Statedef 11140]
type    = S
movetype= A
physics = S
poweradd= 90
ctrl = 0
velset = 0,0
anim = 11100
hitcountpersist = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 160, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 110
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 11101
id = 11101
pos = -50, 0
postype = front
ownpal = 1
facing = 1
size.xscale = 1.2
size.yscale = 1.2

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;サソリ　弱　S
[Statedef 11200]
type    = S
movetype= A
physics = S
poweradd= 40
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 10820, けむり]
type = Explod
trigger1 = time = 12
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 36,-95
anim = 870
sprpriority = 4
ownpal = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11201
id = 11201
pos = 25, -95
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;サソリーッ
[Statedef 11201]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 30

[State 210, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((95*root,fvar(2))<7,7,(95*root,fvar(2)))),40
priority = 3, Hit
guardflag = MA
pausetime = 0,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -7*const(size.xscale)
air.velocity = -8*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
air.fall = 1
id = 200
ground.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifelse((270*root,fvar(2))<30,30,(270*root,fvar(2)))),30
priority = 3, Hit
guardflag =
pausetime = 9,18
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s4, 2
guardsound = s1,5
ground.type = high
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -8,-5
air.velocity = -12,5
p2facing = 1
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 0
id = 200
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;さようならサソリ
[Statedef 11202]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11203
sprpriority = 3

[State 3010, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;サソリ　弱　S
[Statedef 11203]
type    = S
movetype= A
physics = S
poweradd= 40
ctrl = 0
velset = 0,0
anim = 11200
hitcountpersist = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = animelem = 8
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11204
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;サソリーッ
[Statedef 11204]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 15

[State 210, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((95*root,fvar(2))<7,7,(95*root,fvar(2)))),40
priority = 3, Hit
guardflag = MA
pausetime = 0,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -7*const(size.xscale)
air.velocity = -8*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
air.fall = 1
id = 200
ground.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifelse((270*root,fvar(2))<30,30,(270*root,fvar(2)))),30
priority = 3, Hit
guardflag =
pausetime = 9,18
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s4, 2
guardsound = s1,5
ground.type = high
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -8,-5
air.velocity = -12,5
p2facing = 1
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 0
id = 200
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;サソリ　弱　S air
[Statedef 11250]
type    = A
movetype= A
physics = A
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11250
hitcountpersist = 1

[State 1100, Position]
type = velset
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(7) <= 0
x = 0
y = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 12
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 36,-95
anim = 870
sprpriority = 4
ownpal = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "sc air"
stateno = 11251
id = 11201
pos = 25, -95
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;空中　サソリ
[Statedef 11251]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 20
y = 10

[State 210, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((95*root,fvar(2))<7,7,(95*root,fvar(2)))),40
priority = 3, Hit
guardflag = MA
pausetime = 0,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -7*const(size.xscale)
air.velocity = -8*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
air.fall = 1
id = 200
ground.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifelse((270*root,fvar(2))<30,30,(270*root,fvar(2)))),30
priority = 3, Hit
guardflag =
pausetime = 9,18
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s4, 2
guardsound = s1,5
ground.type = high
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -8,-5
air.velocity = -12,5
p2facing = 1
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 0
id = 200
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0
y = 0

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;サソリ　中　S air
[Statedef 11260]
type    = A
movetype= A
physics = A
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11250
hitcountpersist = 1

[State 1100, Position]
type = velset
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(7) <= 0
x = 0
y = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 12
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 36,-95
anim = 870
sprpriority = 4
ownpal = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "sc air"
stateno = 11261
id = 11201
pos = 25, -95
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;空中　サソリ
[Statedef 11261]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 20
y = 8

[State 210, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((95*root,fvar(2))<7,7,(95*root,fvar(2)))),40
priority = 3, Hit
guardflag = MA
pausetime = 0,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -7*const(size.xscale)
air.velocity = -8*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
air.fall = 1
id = 200
ground.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifelse((270*root,fvar(2))<30,30,(270*root,fvar(2)))),30
priority = 3, Hit
guardflag =
pausetime = 9,18
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s4, 2
guardsound = s1,5
ground.type = high
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -8,-5
air.velocity = -12,5
p2facing = 1
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 0
id = 200
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0
y = 0

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

;---------------------------------------------------------------------------
;サソリ　弱　S air
[Statedef 11270]
type    = A
movetype= A
physics = A
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11250
hitcountpersist = 1

[State 1100, Position]
type = velset
trigger1 = AnimElemTime(1) > 0 && AnimElemTime(7) <= 0
x = 0
y = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 12
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 36,-95
anim = 870
sprpriority = 4
ownpal = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "sc air"
stateno = 11271
id = 11201
pos = 25, -95
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;空中　サソリ　強
[Statedef 11271]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11201
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = 1
x = 20
y = 5

[State 210, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NP
animtype  = Medium
damage = ceil(ifelse((95*root,fvar(2))<7,7,(95*root,fvar(2)))),40
priority = 3, Hit
guardflag = MA
pausetime = 0,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -7*const(size.xscale)
air.velocity = -8*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
givepower = 10,0
air.fall = 1
id = 200
ground.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifelse((270*root,fvar(2))<30,30,(270*root,fvar(2)))),30
priority = 3, Hit
guardflag =
pausetime = 9,18
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s4, 2
guardsound = s1,5
ground.type = high
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -8,-5
air.velocity = -12,5
p2facing = 1
givepower = 10,0
fall = 1
air.fall = 1
fall.recover = 0
id = 200
ground.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 1010, 移動速度]
type = VelSet
trigger1 = MoveContact
x = 0
y = 0

[State 3010, 2]
type = changestate
trigger1 = MoveContact
value = 11202

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 27

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;感覚の暴走S
[Statedef 11300]
type    = S
movetype= A
physics = S
poweradd= 50
ctrl = 0
velset = 0,0
anim = 11300
hitcountpersist = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = P2StateType != A
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((15*fvar(2))<7,7,(15*fvar(0)))),2
priority = 3, Hit
guardflag = H
pausetime = 2,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0
p2facing = 1
p2stateno = 11301

[State 210, 2]
type = HitDef
trigger1 = P2StateType = A
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifelse((72*fvar(2))<7,7,(72*fvar(0)))),2
priority = 3, Hit
guardflag = A
pausetime = 2,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
givepower = 10,0
id = 200
ground.cornerpush.veloff = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 13
channel = 0  

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;敵　食らい
[Statedef 11301]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 5300

[State 1010, BGcolor]
type = BGPalFX
trigger1 = time = 0
time = 5
add = 0,0,0
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State 1010, BGcolor]
type = PalFX
trigger1 = time = 0
time = 5
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,10
invertall = 0
color = 0

[State 191, 2] 
type = AttackDist
trigger1 = 1
value = 0

[State 3002　押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 821, 相手にｽﾃｰﾄを返す]
type = SelfState
trigger1 = time = 220
trigger2 = RoundState = 3; && LoseKO = 1
trigger3 = life = 0
trigger2 = root,MoveType = H  ;rootのほうがいい？
trigger2 = root,stateno != [0,155];立ち～ガード以外。
value = 5200;地上に近い時の空中受け身
;---------------------------------------------------------------------------
;サソリ　off
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd= 40
ctrl = 0
velset = 0,0
anim = 1600
hitcountpersist = 1

[State -2]
type = Helper
trigger1 = animelem = 2
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "ge"
stateno = 1601
id = 10000
pos = 10, 10
postype = p1
ownpal = 1
facing = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper ge
[Statedef 1601]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1601
sprpriority = 3

[State 10820, けむり]
type = Explod
trigger1 = time = 12
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 36,-95
anim = 870
sprpriority = 4
ownpal = 1

[State 19300]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
trigger1 = numhelper(10000) = 1
helpertype = normal
name = "fish"
stateno = 11201
id = 1600
pos = 25, -95
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック
[Statedef 1900]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 215　移動]
type = VelSet
trigger1 = Time < 10
x = 0
y = -1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 18
channel = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1901
id = 10000
pos = -10, -30
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック弱
[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1901
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 10
value = 100, 13
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((65*root,fvar(2))<7,7,(65*root,fvar(2)))),3
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = heavy
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -10,-4
air.velocity = -8,-3
guard.kill = 0
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 215　移動]
type = VelSet
trigger1 = animelem = 1
x = -1
y = 0

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,25]) && !(time%2)
flag = invisible

[State 215　移動]
type = VelSet
trigger1 = Time = 28
trigger2 = Time = 30
trigger3 = Time = 32
trigger4 = Time = 34
trigger5 = Time = 36
trigger6 = Time = 38
trigger7 = Time = 40
trigger8 = Time = 42
trigger9 = Time = 44
x = 15
y = 8

[State 215　移動]
type = VelSet
trigger1 = helper(10000),stateno != 1901
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック中
[Statedef 1910]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 215　移動]
type = VelSet
trigger1 = Time < 10
x = 0
y = -1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 18
channel = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1911
id = 10000
pos = -10, -30
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック中stand
[Statedef 1911]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1911
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 10
value = 100, 13
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((65*root,fvar(2))<7,7,(65*root,fvar(2)))),3
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = heavy
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -10,-4
air.velocity = -8,-3
guard.kill = 0
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 215　移動]
type = VelSet
trigger1 = animelem = 1
x = -1
y = 0

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,35]) && !(time%2)
flag = invisible

[State 215　移動]
type = VelSet
trigger1 = Time = 38
trigger2 = Time = 40
trigger3 = Time = 42
trigger4 = Time = 44
trigger5 = Time = 46
trigger6 = Time = 48
trigger7 = Time = 50
trigger8 = Time = 52
trigger9 = Time = 54
x = 15
y = 8

[State 215　移動]
type = VelSet
trigger1 = helper(10000),stateno != 1911
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック強
[Statedef 1920]
type = A
movetype = A
physics = A
juggle  = 0
poweradd= 90
ctrl = 0
anim = 1900
hitcountpersist = 1

[State 215　移動]
type = VelSet
trigger1 = Time < 10
x = 0
y = -1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 18
channel = 0

[State -2]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "ge"
stateno = 1921
id = 10000
pos = -10, -30
postype = p1
ownpal = 1
facing = 1

[State 600, 3]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;キック強stand
[Statedef 1921]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1921
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 10
value = 100, 13
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((65*root,fvar(2))<7,7,(65*root,fvar(2)))),3
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = heavy
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -10,-4
air.velocity = -8,-3
guard.kill = 0
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 215　移動]
type = VelSet
trigger1 = animelem = 1
x = -1
y = 0

[State 230, 2]
type = assertspecial
trigger1 = (time = [0,45]) && !(time%2)
flag = invisible

[State 215　移動]
type = VelSet
trigger1 = Time = 48
trigger2 = Time = 50
trigger3 = Time = 52
trigger4 = Time = 54
trigger5 = Time = 56
trigger6 = Time = 58
trigger7 = Time = 60
trigger8 = Time = 62
trigger9 = Time = 64
x = 15
y = 8

[State 215　移動]
type = VelSet
trigger1 = helper(10000),stateno != 1921
x = 0
y = 0

[State 191, 2] 
type = PlayerPush
trigger1 = 1
value = 0

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = movecontact
value = 1902

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;キック 落下
[Statedef 1902]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1902
hitcountpersist = 1
sprpriority = 3

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -8
y = -4

[State 215　移動]
type = VelSet
trigger1 = time = 2
x = -4
y = -2

[State 215　移動]
type = VelSet
trigger1 = time = 4
x = -2
y = -1

[State 215　移動]
type = VelSet
trigger1 = time = 6
x = -0
y = -0

[State 215　移動]
type = VelSet
trigger1 = time = 8
x = 0
y = 3

[State 215　移動]
type = VelSet
trigger1 = time = 10
x = 0
y = 6

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 1903
;---------------------------------------------------------------------------
;キック 着地
[Statedef 1903]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1903
hitcountpersist = 1
sprpriority = 3

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 6, 2
channel = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;キック S
[Statedef 11900]
type    = A
movetype= A
physics = S
poweradd= 30
ctrl = 0
velset = 0,0
anim = 11900
hitcountpersist = 1
sprpriority = 3

[State 200, vel]
type = varadd
trigger1 = !time
var(37) = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 13
channel = 0

[State 630, ヒット定義]
type = HitDef
trigger1 = var(37) != 3
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((45*fvar(2))<7,7,(45*fvar(2)))),4
guardflag = HA
priority = 3
pausetime = 8,20
sparkno = s830
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 30,0
givepower = 2,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -1,-3
air.velocity = -1,-3
guard.kill = 0
fall = 1
fall.recover = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 630, ヒット定義]
type = HitDef
trigger1 = var(37) = 3
trigger1 = time = 0
attr = A, NA
damage = ceil(ifelse((85*fvar(2))<7,7,(85*fvar(2)))),12
guardflag = HA
priority = 3
pausetime = 0,30
sparkno = s850
guard.sparkno = s840
sparkxy = -5,-35
hitsound = s1,3
guardsound = s1,5
animtype = hard
getpower = 0,0
givepower = 2,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -15,-2
air.velocity = -15,-2
guard.kill = 0
fall = 1
fall.recover = 0
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State -2]
type = Helper
trigger1 = animelem = 1
trigger1 = numhelper(11910) <= 1
helpertype = normal
name = "kiseki"
stateno = 11910
id = 11910
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 215　移動]
type = VelSet
trigger1 = var(37) != 3
trigger1 = Time = 8
trigger2 = Time = 10
trigger3 = Time = 12
trigger4 = Time = 14
trigger5 = Time = 16
trigger6 = Time = 18
trigger7 = Time = 20
trigger8 = Time = 22
trigger9 = Time = 24
x = 10
y = 8

[State 215　移動]
type = VelSet
trigger1 = var(37) = 3
trigger1 = Time = 8
trigger2 = Time = 10
trigger3 = Time = 12
trigger4 = Time = 14
trigger5 = Time = 16
trigger6 = Time = 18
trigger7 = Time = 20
trigger8 = Time = 22
trigger9 = Time = 24
x = 20
y = 16

[State 215　移動]
type = VelSet
trigger1 = stateno != 11900
x = 0
y = 0

[State 230, 2]
type = changestate
trigger1 = var(37) != 3
trigger1 = movecontact
value = 11901

[State 230, 2]
type = changestate
trigger1 = var(37) = 3
trigger1 = Pos Y >= -5
value = 11905

[State 230, 2]
type = changestate
trigger1 = var(37) != 3
trigger1 = Pos Y >= -5
value = 11907

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;キック 落下 S
[Statedef 11901]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11902
hitcountpersist = 1
sprpriority = 3

[State 215　移動]
type = VelSet
trigger1 = time = 0
x = -5
y = -15

[State 215　移動]
type = VelSet
trigger1 = time = 1
x = -3.5
y = -9

[State 215　移動]
type = VelSet
trigger1 = time = 2
x = -2.5
y = -5

[State 215　移動]
type = VelSet
trigger1 = time = 4
x = -1.5
y = 3

[State 215　移動]
type = VelSet
trigger1 = time = 6
x = -1
y = 0

[State 200, vel]
type = veladd
trigger1 = anim = 11901
trigger1 = time >= 0
y = .4

[State 230, 2]
type = changestate
triggerall = var(59)=1
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 50000

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;キック 着地 S
[Statedef 11905]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11905
hitcountpersist = 1
sprpriority = 3

[State 215　移動]
type = VelSet
trigger1 = time <= 5
x = 3
y = 0

[State 215　位置]
type = PosSet
trigger1 = time = 0
y = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 5
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 876
sprpriority = -1
ownpal = 1
scale = 1.5,1.0

[State 230, 2]
type = changeanim
triggerall = anim = 11905
triggerall = time >= 30
trigger1 = !numtarget
trigger2 = target,stateno = 5100
trigger3 = time >= 60
value = 11910

[State 230, 2]
type = changestate
trigger1 = anim = 11910
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;キック 着地2 S
[Statedef 11907]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11907
hitcountpersist = 1
sprpriority = 3

[State 215　移動]
type = VelSet
trigger1 = time <= 5
x = 3
y = 0

[State 215　位置]
type = PosSet
trigger1 = time = 0
y = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 5
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 876
sprpriority = -1
ownpal = 1
scale = 1.0,1.0

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;エフェクト用ヘルパー
[Statedef 11910]
type = A
ctrl = 0
anim = 880
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[State 100, 4]
type = bindtoroot
trigger1 = 1
time = 1
facing = 1
pos = -10,5

[State 100, 1]
type = PalFX
trigger1 = 1
time = 1
mul = 255,255,0

[State 100, 1]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 150, 100

[State 230, 2]
type = changestate
trigger1 = root,stateno != 11900
value = 11911

[State 230, 2]
type = destroyself
trigger1 = root,stateno != 11900
;----------------------------------------------------------------------------
;エフェクト用ヘルパー 消滅
[Statedef 11911]
type = A
ctrl = 0
anim = 881
velset = 0,0
movetype = I
physics = N
sprpriority = 4

[State 100, 1]
type = PalFX
trigger1 = 1
time = 1
mul = 255,255,0

[State 9500, noshadow]
type=assertspecial
trigger1= 1
flag=noshadow

[State 215　移動]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ヘビ準備
[Statedef 2000]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 61
trigger2 = root,command != "holdx" 

[State 0, end]
type = changestate
triggerall = time > 60
trigger1 = root,command != "holdx" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
;ヘビ(攻撃)
[statedef 2001]
type    = A
physics = N
movetype= A
ctrl    = 0
velset  = 0,0
anim    = 2001
sprpriority = 3

[state 11200]
type = Velset
trigger1 = animelem = 8
y = 8

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100, 38

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
attr = S, NA
damage = 16, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, 106
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = changestate
trigger1 = AnimElemTime(8) > 0
trigger1 = Pos Y >= -140
value = 2002
;---------------------------------------------------------------------------
;ヘビ(着地)
[statedef 2002]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2002
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ヘビ準備中
[Statedef 2010]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 61
trigger2 = root,command != "holdy" 

[State 0, end]
type = changestate
triggerall = time > 60
trigger1 = root,command != "holdy" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
;ヘビ準備遠
[Statedef 2020]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2000
hitcountpersist = 1
sprpriority = 3

[state 13100]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 11200]
type = varset
trigger1 = !time
var(2) = floor(screenpos y)

[state 11200]
type = varadd
trigger1 = !time
var(2) = floor(15*const(size.yscale))

[state 11200]
type = varadd
trigger1 = time=[1,9]
var(2) = floor(8*const(size.yscale))

[state 11200]
type = PosAdd
trigger1 = time&&floor(screenpos y)!=var(2)
y = var(2)-floor(screenpos y)

[state 11200]
type = DestroySelf
trigger1 = root,movetype=H&&(root,stateno!=[150,155])&&(root,stateno!=[120,132])
trigger2 = time < 61
trigger2 = root,command != "holdb" 

[State 0, end]
type = changestate
triggerall = time > 60
trigger1 = root,command != "holdb" 
trigger2 = time > 500
value = 2001
;---------------------------------------------------------------------------
; レクイエムの片鱗
[Statedef 6666]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 30002
ctrl = 0
sprpriority = 2

[State 1000, 5]
type = explod
trigger1 = 1
anim = 30006
id = 30006
pos = 0,-70
postype = p1
sprpriority = 3
bindtime = -1
removeongethit = 1
pausemovetime = parent,var(14) * 9999999999999

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,14
channel = 0

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = AnimElemTime(2) = 0
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 0,0
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 6667

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------
; レクイエム・攻撃をくらった相手の状態

[Statedef 6664]
type    = A
movetype= H
physics = N
velset = 0,0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1025, Anim] ;２Ｐのスプライトステートを変更しています
type = ChangeAnim2
trigger1 = time = 0
value = 6664

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 12
x = -10
y = -3.5

[State 1026, Gravity]
type = VelAdd
trigger1 = Time > 12
y = .45

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 12
trigger1 = BackEdgeBodyDist <= 20
value = 6665

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;------------------
; レクイエム・壁に当たる状態

[Statedef 6665]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 6665

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1060, 5]
type = envshake
trigger1 = Time = 0
time = 10
frep = 130
ampl = 7

[State 1027, Turn]
type = Turn
trigger1 = Time = 10

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 10
x = 15

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -3
y = -2.5

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .45

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 10
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100
;---------------------------------------------------------------------------
; レクイエムの片鱗 成功
[Statedef 6667]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 30003
ctrl = 0
sprpriority = 2

[State 220, 3]
type = Helper
trigger1 = animelem = 1
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "ger"
stateno = 6668
id = 10000
pos = -20, 10
postype = p1
ownpal = 1
facing = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999

[State 10000, Assert]
type = AssertSpecial
trigger1 = time = [0,50]
flag = nomusic
ignorehitpause = 1

[State 4000, Pause]
type = Pause
trigger1 = time = 0
time = 50
movetime = 50

[State 181, EnvColor]
type = Bgpalfx
trigger1 = stateno = 6667
trigger1 = time <= 50
time = 1
invertall = 1
color = 0
ignorehitpause = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 420, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;helper ger
[Statedef 6668]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30000
sprpriority = 3

[State 3901]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 7,4

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 100,17
channel = 0  

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,33

[State 220, 3]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "dmg"
stateno = 6669
id = 1600
pos = 0, 0
postype = p2
ownpal = 1
facing = 1
pausemovetime = 99999999

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = animelem = 5
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 15
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 7000
;---------------------------------------------------------------------------
;helper dmg
[Statedef 6669]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 30004
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = 50
guard.dist = 0
priority = 4, Hit
pausetime = 10,7
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = 8,-4
air.velocity = 10*const(size.xscale),-1+var(19)*1.3
fall = 1
fall.recover = 0
guard.kill = 0
P2StateNo     = 6664

[State 0, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 片鱗終了(スタンド)
[Statedef 7000]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 30005
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 30005
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; レクイエムの片鱗 S
[Statedef 16666]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16666
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 5
value = -500

[State 191, 3]
type = nothitby
trigger1 = time = 5
value = SCA
time = 15

[State 1000, 1]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(16667) = 0
helpertype = normal
name = "circle"
stateno = 16667
id = 16667
pos = 0, -70
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.9
size.yscale = 0.9

[state 3003　飛び道具消去ヘルパー]
type = helper
trigger1 = time = 5
trigger1 = numhelper(166667) = 0
name = "plodelete"
helpertype = normal
stateno = 166667
id = 166667
pos = 0, -70
postype = p1
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999999999999
pausemovetime = 9999999999999
facing = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; レクイエムの片鱗 S 円
[Statedef 16667]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 16668
ctrl = 0
sprpriority = 3

[State 200, 1]
type = HitDef
trigger1 = 1
trigger1 = enemynear,movetype = A
attr = S, SA
damage = 0,0
animtype = Light
guard.dist = 0
guardflag = 
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = s-1
guard.sparkno = s-1
sparkxy = -10, -96
hitsound = s100, 35
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 16668

[State 0, pal]
type = allpalfx
trigger1 = movehit
time = 1
add = 256,256,256

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = parent,stateno != 16666
trigger1 = parent,stateno != 17777
trigger2 = time = 15
;---------------------------------------------------------------------------
;飛び道具死すべし
[Statedef 166667]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16665
ctrl = 0
sprpriority = 3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000]
type = turn
trigger1 = facing != root,facing
value = root,facing

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = , NA, SA, HA, NT, ST, HT

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 166668
attr = SCA,NP,SP,HP
time = -1

[State 230, 2]
type = destroyself
trigger1 = parent,stateno != 16666
trigger1 = parent,stateno != 17777
trigger1 = parent,stateno != 99999
trigger2 = time = 15
;---------------------------------------------------------------------------
;慈悲はない
[Statedef 166668]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16665
ctrl = 0
sprpriority = 3

[State -2,1];ゲージ増加ギミック
type = varadd
trigger1 = time = 0
v = 35
value = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
trigger1 = helper(166667),var(35) = 1
value = 500

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
trigger1 = helper(166667),var(35) != 1
value = 100

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = turn
trigger1 = facing != root,facing
value = root,facing

[State 1000]
type = nothitby
trigger1 = 1
value = , NA, SA, HA, NT, ST, HT

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 166668
attr = SCA,NP,SP,HP
time = -1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 35
channel = 10

[State 1000, ステート変更]
type = changestate
trigger1 = !time
value = 166667

[State 230, 2]
type = destroyself
trigger1 = parent,stateno != 16666
trigger1 = parent,stateno != 17777
trigger1 = parent,stateno != 99999
;---------------------------------------------------------------------------
; レクイエムの片鱗 円(永続)
[Statedef 999999]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 16661
ctrl = 0
sprpriority = 3

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, -70

[State 200, 1]
type = HitDef
trigger1 = 1
triggerall = root,PalNo = 11
trigger1 = enemynear,movetype = A
attr = S, SA
damage = 0,0
animtype = Light
guard.dist = 0
guardflag = 
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = s-1
guard.sparkno = s-1
sparkxy = -10, -96
hitsound = s100, 35
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
guard.dist = 0
p2stateno = 16668

[State 200, 1]
type = HitDef
trigger1 = 1
triggerall = root,PalNo = 12
trigger1 = enemynear,movetype = A
attr = S, SA
damage = 0,0
animtype = Light
guard.dist = 0
guardflag = 
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = s-1
guard.sparkno = s-1
sparkxy = -10, -96
hitsound = s100, 35
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
guard.dist = 0
p2stateno = 99995

[State 1009, 受け止め定義]
type = ReversalDef
triggerall = root,PalNo = 11
trigger1 = 1
trigger2 = !time
attr = S, HA
reversal.attr = SCA, NA, SA, HA
hitsound = s100, 35
pausetime     = 0,0
numhits       = 0
sparkno       = s29999
sparkxy       = 0,0
P2StateNo     = 16668

[State 1009, 受け止め定義]
type = ReversalDef
triggerall = root,PalNo = 12
trigger1 = 1
trigger2 = !time
attr = S, HA
reversal.attr = SCA, NA, SA, HA
hitsound = s100, 35
pausetime     = 0,0
numhits       = 0
sparkno       = s29999
sparkxy       = 0,0
P2StateNo     = 99995

[State 1100, dist]
type = AttackDist
trigger1 = 1
value = 0

[State 0, pal]
type = allpalfx
trigger1 = movehit = 1
time = 1
add = 256,256,256

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = root,movetype = H
;trigger3 = movehit
;trigger4 = time = 1
trigger2 = root,var(49) != 10000
;---------------------------------------------------------------------------
; レクイエムの片鱗 円 見た目(永続)
[Statedef 999995]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16663
ctrl = 0
sprpriority = 0

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, -70

[State 1100, dist]
type = AttackDist
trigger1 = 1
value = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,var(49) != 10000
;---------------------------------------------------------------------------
;飛び道具死すべし(永続)
[Statedef 999998]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16662
ctrl = 0
sprpriority = 3

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, -70

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, anim]
type = changeanim
trigger1 = root,stateno = 99999
value = 16664

[State 1000]
type = turn
trigger1 = facing != root,facing
value = root,facing

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = nothitby
trigger1 = 1
value = , NA, SA, HA, NT, ST, HT

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 999997
attr = SCA,NP,SP,HP
time = -1

[State 1100, dist]
type = AttackDist
trigger1 = 1
value = 0

[State 230, 2]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,var(49) != 10000
;---------------------------------------------------------------------------
;慈悲はない(永続)
[Statedef 999997]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16662
ctrl = 0
sprpriority = 3

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 0
value = 100

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
pos = 0, -70

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1000]
type = turn
trigger1 = facing != root,facing
value = root,facing

[State 1000]
type = nothitby
trigger1 = 1
value = , NA, SA, HA, NT, ST, HT

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 999997
attr = SCA,NP,SP,HP
time = -1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 35
channel = 10

[State 1000, ステート変更]
type = changestate
trigger1 = !time
value = 999998

[State 230, 2]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,var(49) != 10000
;---------------------------------------------------------------------------
; 敵　待機
[Statedef 16668]
type    = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 2

[State 181, 1]
type = changeanim
trigger1 = !time
value = 5300

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[State 0, end]
type = selfstate
trigger1 = time = 50
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; レクイエムの片鱗 S 空中
[Statedef 17777]
type    = A
movetype= I
physics = S
velset = 0,0
anim = 17777
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 5
value = -500

[State 191, 3]
type = nothitby
trigger1 = time = 5
value = SCA
time = 15

[State 1000, 1]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(16667) = 0
helpertype = normal
name = "circle"
stateno = 16667
id = 16667
pos = 0, -70
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.9
size.yscale = 0.9

[state 3003　飛び道具消去ヘルパー]
type = helper
trigger1 = time = 5
trigger1 = numhelper(166667) = 0
name = "plodelete"
helpertype = normal
stateno = 166667
id = 166667
pos = 0, -70
postype = p1
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999999999999
pausemovetime = 9999999999999
facing = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0

[State 0, vel]
type = veladd
trigger1 = time >= 35
y = .45

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0
value = 52
;---------------------------------------------------------------------------
; 終わりが無いのが終わり
[Statedef 99999]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 99999
ctrl = 0
sprpriority = 2
poweradd = -3000

[State 191, 3]
type = nothitby
trigger1 = time = 5
value = SCA
time = 15

[State 200, 1]
type = HitDef
trigger1 = 1
trigger1 = enemynear,movetype = A
attr = S, SA
damage = 0,0
animtype = Light
guard.dist = 0
guardflag = 
hitflag = MAF
priority = 2, Hit
pausetime = 0, 0
sparkno = s-1
guard.sparkno = s-1
sparkxy = -10, -96
hitsound = s100, 35
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p1stateno = 99997
p2stateno = 99995

[State 1000, 1]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(16667) = 0
helpertype = normal
name = "circle"
stateno = 99998
id = 99998
pos = 0, -70
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.9
size.yscale = 0.9

[state 3003　飛び道具消去ヘルパー]
type = helper
trigger1 = time = 5
trigger1 = numhelper(166667) = 0
name = "plodelete"
helpertype = normal
stateno = 166667
id = 166667
pos = 0, -70
postype = p1
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
supermovetime = 9999999999999
pausemovetime = 9999999999999
facing = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 14
channel = 0  

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 終わりが無いのが終わり 円
[Statedef 99998]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 16669
ctrl = 0
sprpriority = 3

[State 0, pal]
type = allpalfx
trigger1 = movehit
time = 1
add = 256,256,256

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = parent,stateno != 99999
trigger2 = time = 15
;---------------------------------------------------------------------------
; 終わりが無いのが終わり 成功
[Statedef 99997]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 99997
ctrl = 0
sprpriority = 2

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = 0 
time = 250
add = 128,128,0
invertall = 1
color = 150
ignorehitpause = 1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[state 3000]
type = pause
trigger1 = time = 6
time = 40
movetime = 40

[State 0, ]
type = PlaySnd
trigger1 = time = 6
value = 4, 0

[state 3003]
type = helper
trigger1 = time = 6
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 6
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 860, 4]
type = PowerSet
trigger1 = time = 0
value = 0

[State 0, pal]
type = allpalfx
trigger1 = time = 0
time = 5
add = 256,256,256

[State 0, ハアアアア]
type = PlaySnd
trigger1 = time = 5
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, 1]
type = Offset
Trigger1 = Facing = 1
trigger1 = 1
x = 20
y = 10

[State 0, 1]
type = Offset
Trigger1 = Facing = -1
trigger1 = 1
x = -20
y = 10

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 60
value = 100, 34
channel = 0  

[State 215]
type = HitAdd
trigger2 = time = 127
trigger3 = time = 129
trigger4 = time = 131
trigger5 = time = 133
trigger6 = time = 135
trigger7 = time = 137
trigger8 = time = 139
trigger25 = time = 65
trigger26 = time = 67
trigger27 = time = 69
trigger28 = time = 71
trigger29 = time = 73
trigger30 = time = 75
trigger31 = time = 77
trigger32 = time = 79
trigger33 = time = 81
trigger34 = time = 83
trigger35 = time = 85
trigger36 = time = 87
trigger37 = time = 89
trigger38 = time = 91
trigger39 = time = 93
trigger40 = time = 95
trigger41 = time = 97
trigger42 = time = 99
trigger43 = time = 101
trigger44 = time = 103
trigger45 = time = 105
trigger46 = time = 107
trigger47 = time = 109
trigger48 = time = 111
trigger49 = time = 113
trigger50 = time = 115
trigger51 = time = 117
trigger52 = time = 119
trigger53 = time = 121
trigger54 = time = 123
trigger55 = time = 125
trigger56 = time = 141
trigger57 = time = 143
trigger58 = time = 145
trigger59 = time = 147
trigger60 = time = 149
trigger61 = time = 151
trigger62 = time = 153
trigger63 = time = 155
trigger64 = time = 157
trigger65 = time = 159
trigger66 = time = 161
trigger67 = time = 163
trigger68 = time = 165
trigger69 = time = 167
trigger70 = time = 169
trigger71 = time = 171
trigger72 = time = 173
trigger73 = time = 175
trigger74 = time = 177
trigger75 = time = 179
trigger76 = time = 181
trigger77 = time = 183
trigger78 = time = 185
trigger79 = time = 187
trigger80 = time = 189
trigger81 = time = 191
trigger82 = time = 193
trigger83 = time = 195
trigger84 = time = 197
trigger85 = time = 199
trigger86 = time = 201
trigger87 = time = 203
trigger88 = time = 205
trigger89 = time = 207
trigger90 = time = 209
trigger91 = time = 211
trigger92 = time = 213
trigger93 = time = 215
trigger16 = time = 217
trigger17 = time = 219
trigger18 = time = 221
trigger19 = time = 223
trigger20 = time = 225
trigger21 = time = 227
trigger22 = time = 229
trigger23 = time = 231
trigger24 = time = 233
trigger10 = time = 235
trigger11 = time = 237
trigger12 = time = 239
trigger13 = time = 241
trigger14 = time = 243
trigger15 = time = 245
trigger9 = time = 247
trigger1 = time = 249
value = 2

[State 702, ライフ増減]
type = targetLifeAdd
trigger2 = time = 127
trigger3 = time = 129
trigger4 = time = 131
trigger5 = time = 133
trigger6 = time = 135
trigger7 = time = 137
trigger8 = time = 139
trigger25 = time = 65
trigger26 = time = 67
trigger27 = time = 69
trigger28 = time = 71
trigger29 = time = 73
trigger30 = time = 75
trigger31 = time = 77
trigger32 = time = 79
trigger33 = time = 81
trigger34 = time = 83
trigger35 = time = 85
trigger36 = time = 87
trigger37 = time = 89
trigger38 = time = 91
trigger39 = time = 93
trigger40 = time = 95
trigger41 = time = 97
trigger42 = time = 99
trigger43 = time = 101
trigger44 = time = 103
trigger45 = time = 105
trigger46 = time = 107
trigger47 = time = 109
trigger48 = time = 111
trigger49 = time = 113
trigger50 = time = 115
trigger51 = time = 117
trigger52 = time = 119
trigger53 = time = 121
trigger54 = time = 123
trigger55 = time = 125
trigger56 = time = 141
trigger57 = time = 143
trigger58 = time = 145
trigger59 = time = 147
trigger60 = time = 149
trigger61 = time = 151
trigger62 = time = 153
trigger63 = time = 155
trigger64 = time = 157
trigger65 = time = 159
trigger66 = time = 161
trigger67 = time = 163
trigger68 = time = 165
trigger69 = time = 167
trigger70 = time = 169
trigger71 = time = 171
trigger72 = time = 173
trigger73 = time = 175
trigger74 = time = 177
trigger75 = time = 179
trigger76 = time = 181
trigger77 = time = 183
trigger78 = time = 185
trigger79 = time = 187
trigger80 = time = 189
trigger81 = time = 191
trigger82 = time = 193
trigger83 = time = 195
trigger84 = time = 197
trigger85 = time = 199
trigger86 = time = 201
trigger87 = time = 203
trigger88 = time = 205
trigger89 = time = 207
trigger90 = time = 209
trigger91 = time = 211
trigger92 = time = 213
trigger93 = time = 215
trigger16 = time = 217
trigger17 = time = 219
trigger18 = time = 221
trigger19 = time = 223
trigger20 = time = 225
trigger21 = time = 227
trigger22 = time = 229
trigger23 = time = 231
trigger24 = time = 233
trigger10 = time = 235
trigger11 = time = 237
trigger12 = time = 239
trigger13 = time = 241
trigger14 = time = 243
trigger15 = time = 245
trigger9 = time = 247
trigger1 = time = 249
value = -8*fvar(2) 
kill = 0

[state 3000, explod]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 15
trigger4 = animelem = 23
anim = 850
ID = 17000
pos = 0, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 13
trigger2 = animelem = 19
trigger3 = animelem = 27
trigger4 = animelem = 31
trigger5 = animelem = 37
anim = 850
ID = 17000
pos = -4, -60
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 21
trigger2 = animelem = 29
trigger3 = animelem = 33
anim = 850
ID = 17000
pos = 3, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000, explod]
type = Explod
trigger1 = animelem = 9
trigger2 = animelem = 17
trigger3 = animelem = 25
trigger4 = animelem = 35
anim = 850
ID = 17000
pos = 10, -35
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 901, Turn]
type = Turn
trigger1 = time = 1
trigger1 = P2bodydist X < 0

[State 10000, Assert]
type = AssertSpecial
trigger1 = time = [0,250]
flag = nomusic
ignorehitpause = 1

[State 420, 3]
type = ChangeState
trigger1 = time = 250
value = 99996
;---------------------------------------------------------------------------
; 締め
[Statedef 99996]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 99996
ctrl = 0
sprpriority = 0

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 1060, 5]
type = envshake
trigger1 = time = 0
time = 10
frep = 600
ampl = -30

[state 3000, explod]
type = Explod
trigger1 = time = 0
anim = 850
ID = 17000
pos = 3, -85
postype = p2
removetime = 12
bindtime = -1
facing = ifelse(facing=1,1,-1)
pausemovetime = 999999
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 100,17
channel = 0

[State 3000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 7, 1

[state 3000]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-----------------------------------------------
; 終わりが無いのが終わり・相手くらい
[Statedef 99995]
type    = A
movetype= H
physics = N
velset = 0,0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 1027, 位置]
type = PosSet
trigger1 = facing = 1
trigger1 = time = 0
x = enemynear,pos x - 70

[State 1027, 位置]
type = PosSet
trigger1 = facing = -1
trigger1 = time = 0
x = enemynear,pos x + 70

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0 
y = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 17005

[State 1060, 2]
type = changeanim2
trigger1 = time = 21
trigger2 = time = 58
trigger3 = time = 95
trigger4 = time = 122
trigger5 = time = 149
trigger6 = time = 176
trigger7 = time = 210
value = 3004

[State 1060, 2]
type = changeanim2
trigger1 = time = 30
trigger2 = time = 67
trigger3 = time = 104
trigger4 = time = 131
trigger5 = time = 158
trigger6 = time = 190
trigger7 = time = 220
value = 3005

[State 1060, 2]
type = changeanim2
trigger1 = time = 39
trigger2 = time = 76
trigger3 = time = 113
trigger4 = time = 140
trigger5 = time = 167
trigger6 = time = 200
trigger7 = time = 230
value = 3006

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 183
x = 0
y = 0

[State 702, ライフ増減]
type = LifeAdd
trigger1 = time = 219
value = -9999999
kill = 1

[State 5050, 6]
type = changeState
trigger1 = Time = 223
value = 99993
;-----------------------------------------------
;飛んでく相手
[Statedef 99993]
type    = A
movetype= H
physics = N
velset = 0,0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 1061, 2]
type = changestate
trigger1 = matchover
trigger1 = life = 0
trigger1 = Time > 0
trigger1 = BackEdgeBodyDist <= 20
value = 99994

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 0
trigger1 = BackEdgeBodyDist <= 20
value = 6665

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 0
x = -10
y = -2

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -10
y = 0

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 20
x = -10
y = 2

[State 1061, 2]
type = selfState
trigger1 = Time = 40
value = 5110
ctrl = 1
;-----------------------------------------------
; 決着ゥー！
[Statedef 99994]
type    = S
movetype= H
physics = S
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 5050, 6]
type = changeState
trigger1 = time = 1
value = 5150
;---------------------------------------------------------------------------
; 無駄無駄ラッシュ(超必殺)
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 191, 3]
type = nothitby
trigger1 = time = 0
value = SCA
time = 66

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 41
trigger1 = numhelper(10000) = 0
helpertype = normal
name = "gold experience"
stateno = 3301
id = 10000
pos = 0, 10
postype = p1
ownpal = 1
facing = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 無駄無駄(スタンド)
[Statedef 3301]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 20*parent,const(size.xscale),0
anim = 3300
sprpriority = 0
facep2 = 1

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 30

[state 3000]
type = playsnd
trigger1 = animelem = 1
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = velset
trigger1 = time = [14,107]
x = 4.2*parent,const(size.xscale)

[State 230, 2]
type = velset
trigger1 = time = 109
x = 0

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 3
range = 0,11

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 15
range = 0,30

[State 10,combo]
type = parentVarset
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
v = 30
value = 1

[State -2,0];
type = parentVaradd
trigger1 = parent,Var(14) = 1
trigger1 = movehit
fv = 2
value = 7 * parent,fvar(19)
ignorehitpause = 1

[State 10,combo]
type = movehitreset
trigger1 = MoveHit
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 17
trigger7 = AnimElem = 20
trigger8 = AnimElem = 23
trigger9 = AnimElem = 26
trigger10 = AnimElem = 29
trigger11 = AnimElem = 32
trigger12 = AnimElem = 35
trigger13 = AnimElem = 38
trigger14 = AnimElem = 41
trigger15 = AnimElem = 44
trigger16 = AnimElem = 47
attr = S, HA
damage = ceil(ifelse((6*root,fvar(2))<2,2,(6*root,fvar(2)))),0
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
trigger6 = AnimElem = 19
trigger7 = AnimElem = 22
trigger8 = AnimElem = 25
trigger9 = AnimElem = 28
trigger10 = AnimElem = 31
trigger11 = AnimElem = 34
trigger12 = AnimElem = 37
trigger13 = AnimElem = 40
trigger14 = AnimElem = 43
trigger15 = AnimElem = 46
attr = S, HA
damage = ceil(ifelse((7*root,fvar(2))<3,3,(7*root,fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 49
attr = S, HA
damage = ceil(ifelse((7*root,fvar(2))<3,3,(7*root,fvar(2)))),2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(15)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11*parent,const(size.xscale) * (parent,var(14) = 0)
airguard.velocity = -4*parent,const(size.xscale) * (parent,var(14) = 0),-6 * (parent,var(14) = 0)
air.velocity = -15*parent,const(size.xscale) * (parent,var(14) = 0),(-6+parent,var(19)*1.3) * (parent,var(14) = 0)
fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7
kill = 1 - parent,var(14)
p2facing = 1
getpower = 0,0
givepower = 10,0
guard.kill = 0
ground.cornerpush.veloff = -6*parent,const(size.xscale) * (parent,var(14) = 0)
P2StateNo     = 6664

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = playerpush
trigger1 = time >= 109
value = 0

[State 230, 2]
type = statetypeset
trigger1 = time >= 109
movetype = I

[State 230, 2]
type = assertspecial
trigger1 = time >= 109
trigger1 = time%2 = 0
flag = invisible

[State 230, 2]
type = nothitby
trigger1 = time >= 109
value = SCA
time = -1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;-------------------------------------------------------------------
;『WIN』ヘルパー
[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 0, 28

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2;バトル中

;---------------------------
;『to be continued』ヘルパー
[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)

;-------------------------------------------------------------------
;KO勝利時の集中線と音helper
[Statedef 20053]
type    = S
;movetype= I
;physics = N
anim = 29999 ;空アニメ
;velset = 0,0
ctrl = 0

[State 20053]
type = Explod
trigger1 = time = 0
anim = 20053
pos = 0,0
postype = left
sprpriority = 10
ownpal = 1
bindtime = -1	;発生させた親に常にくっ付ける
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1	;「ヒット硬直」を無視

[State 20053]
type = PlaySnd
trigger1 = Time = 0
value = 6, 8
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1;とるすと、ヒット停止時間を無視

[State 20053]
type = DestroySelf
trigger1 = time = 120 && RoundState != 3
;-------------------------------------------------------------------
;敗北カットイン
[Statedef 20054]
type = A
anim = 29999
sprpriority = 4

[State 20054]
type = Palfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = Bgpalfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = PlaySnd
trigger1 = time = 0
value = 6,0;ドーン
persistent = 0  ;1回しかステコンが実行されません

[State 20054];敗北カットイン顔の部分
type = helper
trigger1 = time = 0
trigger1 = NumHelper(20058) = 0
stateno = 20058
id = 20058
sprpriority = 1
pos = 0,0
postype = p1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 0
keyctrl = 0

;青の背景
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 510,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 500,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = RemoveExplod
trigger1 = time = 70
trigger2 = RoundState = 4 
id = 20054

[State 20054]
type = AssertSpecial
trigger1 = time = [0,69]
flag = nobg
flag2 = nofg
flag3 = nobardisplay

[State 20054]
type = null;DestroySelf
trigger1 = RoundState != 3
;trigger1 = time = 70 || RoundState != 3
;trigger2 = RoundState = 4 
;----------------------------------------------------
;敗北カットイン顔の部分
[Statedef 20058]
type    = A
;movetype= I
;physics = N
;velset = 0,0
anim = 29999
sprpriority = 4

[State 20058]
type = Explod
trigger1 = time = 0
trigger1 = NumExplod(20058) = 0
anim = 20058
id = 20058
sprpriority = -4
;removetime = -1
bindtime = -1
pos = ifelse(ishometeam=1,ifelse(root,facing = 1,160,180),ifelse(root,facing = -1,180,160)),120
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
scale = 1.5*parent,const(size.xscale),1.5
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = 1,1,-1))
persistent = 0

[State 20058]
type = RemoveExplod
trigger1 = RoundState != 3
id = 20058

[State 20058]
type = DestroySelf
trigger1 = RoundState != 3
;-----------------------------------------------
;カットイン

[Statedef 23100]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3200
sprpriority = -3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 0+var(14)*1,239+var(14)*3
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 30,30
ownpal = 1
scale = 1,1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 30,330
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 60,60
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = 0-var(14)*1,239+var(14)*3
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = -30,330
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1
getpower = 0

[State 1000, 3]
type = ModifyExplod
trigger1 = Time < 30
ID = 23107
scale = (0.4+Var(14)/15.0)*parent,const(size.xscale) , 0.4+Var(14)/15.0
pausemovetime = 999999

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 14
value = 1

[state 3000]
type = removeexplod
trigger1 = time >= 40
id = 23100

[state 3000]
type = destroyself
trigger1 = time >= 40


;-----------------------------------------------
;SC背景

[Statedef 23101]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -5

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = 0,239
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0

[State 1000, 3]
type = PalFx
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
time = 1
add = 255-Var(14),255-Var(14),255-Var(14)

[state 3000]
type = destroyself
trigger1 = time >= 41
;---------------------------------------------------------------------------
; 木の根(超必殺)
[Statedef 3150]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3150
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 3900]
type = NotHitBy
trigger1 = time <= 55
value = SCA
time = 1

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100,20
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "gold experience"
stateno = 3151
id = 10000
pos = -30, 0
postype = p1
ownpal = 1
facing = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 木の根　
[Statedef 3151]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 10*parent,const(size.xscale),0
anim = 3151
sprpriority = 0
facep2 = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != root,facing

[State 0, ]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 11

[State 0, ]
type = PlaySnd
trigger1 = animelem = 6
value = 100, 24

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 80, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 120, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 6
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist < 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist = 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 150, 0
postype = p1
ownpal = 1
facing = 1

[State -2];2番目
type = Helper
trigger1 = BackEdgeBodyDist > 120
trigger1 = AnimElem = 6, = 20
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist < 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 140, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist = 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = 110, 0
postype = p1
ownpal = 1
facing = 1

[State -2];3番目
type = Helper
trigger1 = BackEdgeBodyDist > 90
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3152
id = 11101
pos = -80, 0
postype = front
ownpal = 1
facing = 1

[State -2];4番目
type = Helper
trigger1 = AnimElem = 6, = 40
helpertype = normal
name = "nekko"
stateno = 3153
id = 11101
pos = -30, 0
postype = front
ownpal = 1
facing = 1

[State -2,***]
type = sprpriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1
;---------------------------------------------------------------------------
;helper 木の根　S
[Statedef 3152]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1102
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((32*root,fvar(2))<7,7,(32*root,fvar(2)))),2
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((96*root,fvar(2))<24,24,(96*root,fvar(2)))),20
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
;helper 木の根　S
[Statedef 3153]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 3152
sprpriority = 3

[State 240, 2]
type = HitDef
trigger1 = root,PalNo != 12
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((75*root,fvar(2))<7,7,(75*root,fvar(2)))),2
hitflag = MAF
guardflag = M
priority = 4, Hit
pausetime = 12,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-8
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 1
fall = 1

[State 240, 2]
type = HitDef
trigger1 = root,PalNo = 12
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage = ceil(ifelse((96*root,fvar(2))<24,24,(96*root,fvar(2)))),20
hitflag = MAF
guardflag = 
priority = 4, Hit
pausetime = 24,24
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-8
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 1
fall = 1
envshake.time = 16
envshake.ampl = 12
envshake.freq = 200

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 100, 24

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 301,けす]
type = destroyself
trigger1 = animTime = 0    ;普通に消えるときの条件。必須
;---------------------------------------------------------------------------
; ツタ
[Statedef 8014]
type    = A
movetype= A
physics = N
juggle  = 0;0
poweradd= 0
velset = 0,0
anim = 7016
ctrl = 0
sprpriority = 3

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 100,30

[State 10820, 1]
type = PlaySnd
trigger1 = time = 0
value = 100,37

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 0
hitflag = MAF
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,100
sparkno = s83099
guard.sparkno = s84099
sparkxy = -10,0
hitsound = s1, 3999
guardsound = s1, 5999
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -5.5*parent,const(size.xscale)
air.velocity = -2*parent,const(size.xscale),-6
air.fall = 1
getpower = 72,0
guard.kill = 0

[State 200, 7]
type = TargetBind
trigger1 = numtarget
pos = 0,0
time = -1
ignorehitpause = 1
persistent = 0

[State 0, target]
type = targetstate
trigger1 = time = [0,165)
trigger1 = target,alive
value = 1815

[State 1000, 7]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;敵拘束
[Statedef 1815]
type = S
movetype = H
physics = N
ctrl = 0
anim = 5000
velset = 0,0
sprpriority = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = ,AT

[State 0, anim]
type = changeanim
trigger1 = 1
value = anim
elem = 1
;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;まずon、offの記述はこんな感じ。
;ｽｲｯﾁ式？ではなく、直接10000を入れてます。var(49)は10000か0

;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 1
anim = 10820
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
id = 5656

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.90, 1
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 16001]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
id = 5656

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9997
scale = 0.90, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 10820, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10820, Gエクスペリエンス！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------------
;スタンド発現（空中）
[Statedef 16002]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10043;10122
poweradd = 0
;velset = 0,0 ;これしたら速度が0,0になる。ぴたっと止まってしまう。

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 810,ヘルパーやろう]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
id = 5656

[State 0];これで絵がGEになり、-2がHelper貼りつくｼﾞｮﾙﾉを出す
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-10
anim = 9995
scale = 0.90, 1
sprpriority = 2
ownpal = 1
removetime = 1

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10822, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,16

[State 10822, ゴールドE！]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100,20
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;---------------------------------------------------------------------------
;あれれー
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(47) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(47) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 61      
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(46) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201    
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 830]
type = S
physics = S
ctrl = 1
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1

;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself  ;ｼﾞｮﾙﾉの絵を消す条件
trigger1 = parent,var(49) = 0  ;ｽﾀﾝﾄﾞoffのとき
;trigger2 = !Alive      ;onで死んだら-2で(49)=0にしてる。
;                       ;その後で↑trigger1が反応すればいい。

trigger2 = parent,movetype = H && parent,stateno != [5000,5210]
trigger2 = parent,movetype = H && parent,anim != [10000,15210]
;これは相手にｽﾃｰﾄ奪われた時。(投げられ時など)
;-2で、ｽﾃｰﾄ奪われたら(49)=0にしてた。
;その後で↑trigger1が反応してたから消すのが数ﾌﾚｰﾑ遅れていた。
;ので、ここで即消す。

[State 10000,ｼﾞｮﾙﾉのほうが上に表示したい]
type = SprPriority
trigger1 = 1
value = 2

[State 10000];発現
type = ChangeAnim
triggerall = anim != 10821
trigger1 = root,stateno = 10820
value = 10821

[State 10000]
type = ChangeAnim
triggerall = anim != 10031
trigger1 = root,anim = 10030
value = 10031

[State 10000];
type = ChangeAnim
triggerall = anim != 11001
trigger1 = root,anim = 99997
value = 11001

[State 10000];カウンター
type = ChangeAnim
triggerall = anim != 16667
trigger1 = root,anim = 16666
trigger2 = root,anim = 99999
value = 16667

[State 10000];カウンター
type = ChangeAnim
triggerall = anim != 17778
trigger1 = root,anim = 17777
value = 17778

[State 10000];空中ON無駄SP
type = ChangeAnim
triggerall = anim != 13501
trigger1 = root,anim = 13500
value = 13501

[State 10000] 
type = ChangeAnim
triggerall = anim != 10196
trigger1 = parent,anim = 10195
value = 10196

[State 10000 立ち弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10200
value = 10201

[State 10000 立ち前弱] 
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10205
value = 10201

[State 10000 立ち中] 
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10210
value = 10211

[State 10000 立ち前中] 
type = ChangeAnim
triggerall = anim != 10216
trigger1 = parent,anim = 10215
value = 10216

[State 10000 立ち強] 
type = ChangeAnim
triggerall = anim != 10241
trigger1 = parent,anim = 10240
value = 10241

[State 10000 屈み弱] 
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,anim = 10400
value = 10401

[State 10000 屈み中] 
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,anim = 10410
value = 10411

[State 10000 屈み強] 
type = ChangeAnim
triggerall = anim != 10443
trigger1 = parent,anim = 10440
value = 10443

[State 10000] ;トビウオ
type = ChangeAnim
triggerall = anim != 11251
trigger1 = parent,anim = 11250
value = 11251

[State 10000] ;トビウオ
type = ChangeAnim
triggerall = anim != 11252
trigger1 = parent,anim = 10044
trigger1 = parent,prevstateno = 116 || 117
value = 11252

[State 10000] ;キック
type = ChangeAnim
triggerall = anim != 11901
trigger1 = parent,anim = 11900
value = 11901

[State 10000] ;キック
type = ChangeAnim
triggerall = anim != 11903
trigger1 = parent,anim = 11902
value = 11903

[State 10000] ;キック着地
type = ChangeAnim
triggerall = anim != 11906
trigger1 = parent,anim = 11905
value = 11906

[State 10000] ;キック着地2
type = ChangeAnim
triggerall = anim != 11916
trigger1 = parent,anim = 11910
value = 11916

[State 10000] ;キック着地
type = ChangeAnim
triggerall = anim != 11908
trigger1 = parent,anim = 11907
value = 11908

[State 10000]
type = Width
trigger1 = 1
value = 0,0

[State 10000]
type = ChangeAnim
triggerall = anim != 5072
trigger1 = parent,anim = 15070
value = 5072

[State 10000]
type = ChangeAnim
triggerall = anim != 5200
trigger1 = parent,anim = 15200
value = 5200

[State 10000]
type = ChangeAnim
triggerall = anim != 5210
trigger1 = parent,anim = 15210
value = 5210

[State 10000] 
type = ChangeAnim
triggerall = anim != 0
trigger1 = parent,anim = 10048
value = 0

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000 && parent,stateno != 10820 
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,anim = [10041,10046]
trigger11 = parent,anim = 10100
trigger12 = parent,anim = 10101
trigger13 = parent,anim = 10105
trigger15 = parent,anim = [15020,15027]
trigger16 = parent,anim = 15030
trigger17 = parent,anim = 15040
trigger18 = parent,anim = 15050
trigger19 = parent,anim = 15051
trigger20 = parent,anim = 15061
trigger21 = parent,anim = [15070,15071]
trigger22 = parent,anim = 10101
trigger23 = parent,anim = 10047
trigger24 = parent,anim = 10048
trigger25 = parent,anim = 15005
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 116
trigger1 = parent,stateno = 116
value = 116

[State 10000]
type = ChangeAnim
triggerall = anim != 117
trigger1 = parent,stateno = 117
value = 117

[State 10000]
type = ChangeAnim
triggerall = anim != 118
trigger1 = parent,stateno = 118
trigger2 = parent,stateno = 119
value = 118

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10120
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10130
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10140
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9999
trigger1 = parent,anim = 10150
value = 9999

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10121
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10131
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10141
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9997
trigger1 = parent,anim = 10151
value = 9997

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10122
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10132
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10142
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,anim = 10152
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10670
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10650
value = 9996

[State 10000]
type = ChangeAnim
triggerall = anim != 9996
trigger1 = parent,stateno = 10620
value = 9996

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000] ;トビウオ
type = ChangeAnim
triggerall = anim != 11202
trigger1 = parent,anim = 11200
value = 11202

[State 10000] ;木の根弱
type = ChangeAnim
triggerall = anim != 11102
trigger1 = parent,anim = 11100
value = 11102

[State 10000] ;ガーキャン
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11800
value = 11001

[State 10000] ;無駄無駄弱
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11000
value = 11001

[State 10000] ;無駄無駄中
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11010
value = 11001

[State 10000] ;無駄無駄強
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 11040
value = 11001

[State 10000] ;空中無駄無駄
type = ChangeAnim
triggerall = anim != 11501
trigger1 = parent,anim = 11500
value = 11501

[State 10000] ;無駄無駄ラッシュ
type = ChangeAnim
triggerall = anim != 13150
trigger1 = parent,anim = 13151
value = 13150

[State 10000] ;無駄無駄ラッシュ
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,anim = 13300
value = 11001

[State 10000] ;無駄無駄無駄無駄
type = ChangeAnim
triggerall = anim != 17003
trigger1 = parent,anim = 17000
value = 17003

[State 10000] ;無駄無駄無駄無駄
type = ChangeAnim
triggerall = anim != 17006
trigger1 = parent,anim = 17002
value = 17006

[State 10000] 
type = ChangeAnim
triggerall = anim != 10180
trigger1 = parent,anim = 10181
value = 10180

[State 10000]
type = ChangeAnim
triggerall = anim != 6000
trigger1 = parent,anim = 15000
value = 6000

[State 10000]
type = ChangeAnim
triggerall = anim != 6001
trigger1 = parent,anim = 15001
value = 6001

[State 10000]
type = ChangeAnim
triggerall = anim != 6002
trigger1 = parent,anim = 15002
value = 6002

[State 10000]
type = ChangeAnim
triggerall = anim != 6010
trigger1 = parent,anim = 15010
value = 6010

[State 10000]
type = ChangeAnim
triggerall = anim != 6011
trigger1 = parent,anim = 15011
value = 6011

[State 10000]
type = ChangeAnim
triggerall = anim != 6012
trigger1 = parent,anim = 15012
value = 6012

[State 10000]
type = ChangeAnim
triggerall = anim != 6020
trigger1 = parent,anim = 15020
value = 6020

[State 10000]
type = ChangeAnim
triggerall = anim != 6021
trigger1 = parent,anim = 15021
value = 6021

[State 10000]
type = ChangeAnim
triggerall = anim != 6022
trigger1 = parent,anim = 15022
value = 6022

[State 10000]
type = ChangeAnim
triggerall = anim != 6030
trigger1 = parent,anim = 15030
value = 6030

[State 10000]
type = ChangeAnim
triggerall = anim != 6035
trigger1 = parent,anim = 15035
value = 6035

[State 10000]
type = ChangeAnim
triggerall = anim != 10903
trigger1 = parent,anim = 10900
value = 10903

[State 10000] ;受身
type = ChangeAnim
triggerall = anim != 5040
trigger1 = parent,anim = 15040
value = 5040

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 150
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 151
value = 1
ignorehitpause = 1

[State -3];ガード
type = SprPriority
trigger1 = parent,stateno = 152
value = 1
ignorehitpause = 1

[State 0];地上弱
type = SprPriority
trigger1 = parent,anim = 10200
value = 1
ignorehitpause = 1

[State 0];地上前弱
type = SprPriority
trigger1 = parent,anim = 10205
value = 1
ignorehitpause = 1

[State 0];地上中
type = SprPriority
trigger1 = parent,anim = 10210
value = 1
ignorehitpause = 1

[State 0];地上前中
type = SprPriority
trigger1 = parent,anim = 10215
value = 1
ignorehitpause = 1

[State 0];地上強
type = SprPriority
trigger1 = parent,anim = 10240
value = 1
ignorehitpause = 1

[State 0];屈み弱
type = SprPriority
trigger1 = parent,anim = 10400
value = 1
ignorehitpause = 1

[State 0];屈み中
type = SprPriority
trigger1 = parent,anim = 10410
value = 1
ignorehitpause = 1

[State 0];空中弱
type = SprPriority
trigger1 = parent,anim = 10600
value = 1
ignorehitpause = 1

[State 0];空中中
type = SprPriority
trigger1 = parent,anim = 10610
value = 1
ignorehitpause = 1

[State 0];空中強
type = SprPriority
trigger1 = parent,anim = 10640
value = 1
ignorehitpause = 1

[State 0];無駄無駄弱
type = SprPriority
trigger1 = parent,anim = 11000
value = 1
ignorehitpause = 1

[State 0];無駄無駄中
type = SprPriority
trigger1 = parent,anim = 11010
value = 1
ignorehitpause = 1

[State 0];無駄無駄強
type = SprPriority
trigger1 = parent,anim = 11040
value = 1
ignorehitpause = 1

[State 0];無駄無駄ラッシュ
type = SprPriority
trigger1 = parent,anim = 13300
value = 1
ignorehitpause = 1

[State 0];無駄無駄無駄無駄
type = SprPriority
trigger1 = parent,anim = 16666
value = 1
ignorehitpause = 1

[State 0];無駄無駄無駄無駄
type = SprPriority
trigger1 = parent,anim = 17000
value = 1
ignorehitpause = 1

[State 0];感覚暴走弱
type = SprPriority
trigger1 = parent,anim = 11300
value = 1
ignorehitpause = 1

[State 0]
type = SprPriority
trigger1 = parent,anim = 11900
value = 1
ignorehitpause = 1

[State 0];ガーキャン
type = SprPriority
trigger1 = parent,anim = 11800
value = 1
ignorehitpause = 1

;===========================================================================
; 特殊技
;===========================================================================
[Statedef 29];禁止
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 10

;回り込み
[Statedef 30]
type = S
physics = N
movetype = I
anim = 30
ctrl = 0
velset = 0,0

[State 3900 e];禁止
type = Helper
trigger1 = AnimTime = 0
helpertype = normal
stateno = 29
id = 29
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 30

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1
[State 30]
type = PlaySnd
trigger1 = time = 1
value = 100,10

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;回り込み(on時)
[Statedef 10030]
type = S
physics = N
movetype = I
anim = 10030
ctrl = 0
velset = 0,0

[State 3900 e];禁止
type = Helper
trigger1 = AnimTime = 0
helpertype = normal
stateno = 29
id = 29
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 30

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1
[State 30]
type = PlaySnd
trigger1 = time = 1
value = 100,10

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-50
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 6,9
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14000]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14005]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153

;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 100,15

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,18

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;--------------------------------------------------------------------------
;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(1)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(1)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(1) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
triggerall = NumHelper(20026) = 0
trigger1 = parent,stateno = 10820;スタンド発現ｽﾃｰﾄ
trigger2 = parent,stateno = 16001;スタンド発現ｽﾃｰﾄ
trigger3 = parent,stateno = 16002;スタンド発現ｽﾃｰﾄ
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999
;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U 
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5001]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))
ctrl = 0

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 4     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0       
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 100, 1     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 35             ;velSetと同じﾀｲﾐﾝｸﾞで
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 35
value = 5071;足払いでこけるｽﾃｰﾄへ
ctrl = 1;これはいらないかも。

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = AnimTime = 0 ;5000や5001はvel0,0設定なのでとまってしまうから。
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014
ctrl = 0

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 4     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 3, 12     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 35;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 35
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 10,10+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 10,10

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 20,35

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 15,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞの手を表示する
[Statedef -2]

[State -2]
type = helper
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;--------------------------------------------------------------------------
[State -2, 3];12pカラー用ヘルパ－1
type = helper
triggerall = var(49) = 10000
trigger1 = !numhelper(999999)
trigger1 = PalNo = 11 || PalNo = 12
trigger1 = movetype != H
sprpriority = -10
helpertype = normal
postype = p1
pos = 0,0
id = 999999
stateno = 999999
pausemovetime = 999999
supermovetime = 999999

[State -2, 3];12pカラー用ヘルパ－2
type = helper
triggerall = var(49) = 10000
trigger1 = !numhelper(999998)
trigger1 = PalNo = 11 || PalNo = 12
trigger1 = movetype != H
sprpriority = -10
helpertype = normal
postype = p1
pos = 0,0
id = 999998
stateno = 999998
pausemovetime = 999999
supermovetime = 999999

[State -2, 3];12pカラー用ヘルパ－3
type = helper
triggerall = var(49) = 10000
trigger1 = !numhelper(999995)
trigger1 = PalNo = 11 || PalNo = 12
trigger1 = movetype != H
sprpriority = -10
helpertype = normal
postype = p1
pos = 0,0
id = 999995
stateno = 999995
pausemovetime = 999999
supermovetime = 999999

;12pカラー用発光処理
[State 1010, BGcolor]
type = PalFX
triggerall = var(49) = 10000
trigger1 = PalNo = 11 || PalNo = 12
time = 1
add = 255,255,0
mul = 128,128,128
sinadd = 122,122,122,40
invertall = 0
color = 256
ignorehitpause = 1

;11Pカラー時Sゲージ減少
[State 3900 f]
type = VarAdd
triggerall = var(49) = 10000
triggerall = stateno != 13000
triggerall = stateno != 13150
triggerall = stateno != [17000,17001]
trigger1 = PalNo = 11
fv = 1
value = -0.3

;攻撃力1.5倍プッシュ
[State -2, 補正適用]
type=attackmulset
triggerall = var(49) = 10000
trigger1 = PalNo = 11
value=1.5

;攻撃力3倍プッシュ
[State -2, 補正適用]
type=attackmulset
trigger1 = PalNo = 12
value=3

;終わりHIT時ステート変更
[State -2, 補正適用]
type = changestate
trigger1 = PalNo = 12
trigger1 = stateno != [99996,99997]
trigger1 = enemynear,stateno = 99995
value=99997

;自動スタンドON
[State -2, 補正適用]
type=varset
trigger1 = roundstate = 2
trigger1 = movetype != H
trigger1 = stateno != 5900
trigger1 = PalNo = 12
var(49) = 10000

;ゲージ自動回復
[State -2, 補正適用]
type=poweradd
triggerall = var(49) = 10000
trigger1 = roundstate = 2
trigger1 = PalNo = 11
trigger1 = power <= 10000
value = 1

;ゲージ自動回復
[State -2, 補正適用]
type=poweradd
trigger1 = roundstate = 2
trigger1 = PalNo = 12
trigger1 = power <= 10000
value = 1000

;12pカラー用対飛び道具、投げ無敵
[State 1000]
type = nothitby
triggerall = var(49) = 10000
trigger1 = PalNo = 12
trigger1 = 1
value = , NP, SP, HP, NT, ST, HT
;--------------------------------------------------------------------------
[State 0];空中無駄無駄制限解除
type = varset
trigger1 = statetype != A
trigger2 = movetype = H
var(32) = 0

[State -3];キックリセット
type = varset
trigger1 = stateno != 11900
trigger1 = stateno != 11901
var(37) = 0
;---------------------------------------------------------------------------
[State -2];GEの絵をｼﾞｮﾙﾉに戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000 ;ｽﾀﾝﾄﾞonかつ
trigger1 = alive = 0       ;死んだ時かつ
trigger1 = animTime = 0    ;やられた瞬間のｱﾆﾒが終わってから!
;つまり、ふっとび開始→ふっとび　になる時に消し、ｼﾞｮﾙﾉに戻す。
;その後、var(49) = 0を認識してｼﾞｮﾙﾉの絵が消える。

trigger2 = var(49) = 10000 && movetype = H;ｽﾀﾝﾄﾞonかつ
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14000,14005]
;ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のとき。つまり、相手にｽﾃｰﾄ奪われた時
;投げ終わりにSelfStateでｺﾓﾝやられｽﾃｰﾄに返されるが、相手先で参照するDefは[5000,5210]ではない！落ち着いて考えろ
;ちなみにｽﾀﾝﾄﾞｸﾗｯｼｭのｽﾃｰﾄは16010あたり。
;つまり、ヒット状態、かつ、やられｺﾓﾝｽﾃｰﾄ以外のときに含まれる。

trigger2 = movetype = H && anim != [15000,15210]
;さらに、ｺﾞｰﾙﾄﾞｴｸｽﾍﾟﾘｴﾝｽのｱﾆﾒ以外に変更された時に。
;こうすることでDIOの時止めな感じの投げに対応できた
;---------------------------------------------------------------------------
[State -2,];ガード不可。
type = AssertSpecial
trigger1 = NumHelper(10000) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
;---------------------------------------------------------------------------
[State -2,];ﾊﾞｸﾞったとき用。
type = DestroySelf
trigger1 = NumHelper(2) = 1
trigger1 = helper(2),stateno = 0
;---------------------------------------------------------------------------
;敗北
[State -2]
type = Helper
trigger1 = enemynear,stateno = [2000,4999]
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && LoseKO = 1 && NumHelper(20054) = 0
;RoundState	3: Pre-over - 決着がついた瞬間
;LoseKO		そのラウンドで負けた場合、1を返します
ID = 20054
pos = 0,0
stateno = 20054
ownpal = 1

;KO勝利時集中線と音
[State -2]
type = Helper
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && WinKO && NumHelper(20053) = 0
ID = 20053
pos = 0,0
stateno = 20053
ignorehitpause = 1;とるすと、ヒット停止時間を無視
ownpal = 1

[State -2]
type = AssertSpecial
trigger1 = winko   ;勝ったとき
flag = nobardisplay;ゲージ類を非表示にします。
ignorehitpause = 1

;WIN
[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180    ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2  ; || は、もしくは
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

;to be continued
[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180            ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2 ; || は、もしくは
trigger1 = matchover                ;ﾗｳﾝﾄﾞ取って、試合が終わったとき。
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(10000),stateno = 1020
trigger1 = !helper(10000),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(10000),stateno = 1020
trigger1 = !helper(10000),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
trigger1 = helper(10000),stateno = 1020
trigger1 = !helper(10000),time
trigger1 = statetype = A
value = 15020
ctrl = 0
;---------------------------------------------------------------------------
;空中ジャンプ回数リセット
[State -2]
type = VarSet
trigger1 = statetype != A
;trigger1 = var(4) = 0
var(4) = 1
;---------------------------------------------------------------------------
[State -2];ヘルパーやろう
type = helper
trigger1 = var(46) = 1
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5657
ownpal = 1
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;---------------------------------------------------------------------------
[State -2];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = var(2) = 1
trigger1 = time >= 40
var(2) = 0
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;補正
;---------------------------------------------------------------------------

;Life補正相手判別 ※随時足していきます
[state -2, var]
type = varset
triggerall = !var(45)
trigger1 = enemy,authorname = "y.y"
trigger1 = enemy,name = "jotaro" || enemy,name = "Hol horse" || enemy,name = "Hol horse & Boingo"
trigger2 = enemy,authorname = "ahuron"
trigger2 = enemy,name = "THOUTHER"
trigger3 = enemy,authorname = "muteki"
trigger4 = enemy,authorname = "Drowin hokuto"
trigger5 = enemy,authorname = "Nachel"
trigger5 = enemy,name = "Reimu_Hakurei" || enemy,name = "Remilia_Scarlet"
trigger6 = enemy,authorname = "Shiroto"
trigger7 = enemy,authorname = "kayui uma"
var(45) = 1

;コンボ補正OFF
[state -2, var]
type = varset
trigger1 = !var(40)
trigger2 = var(44) = 1
trigger2 = time = 1
var(44) = 0
ignorehitpause = 1

;コンボ補正始動State
[state -2, var]
type = varset
triggerall = var(44) != 2
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 220
trigger4 = stateno = 400
trigger5 = stateno = 410
trigger6 = stateno = 420
trigger7 = stateno = 600
trigger8 = stateno = 610
trigger9 = stateno = 620
trigger10 = stateno = 10200
trigger11 = stateno = 10205
trigger12 = stateno = 10210
trigger13 = stateno = 10215
trigger14 = stateno = 10240
trigger15 = stateno = 10400
trigger16 = stateno = 10415
trigger17 = stateno = 10440
trigger18 = stateno = 11000
trigger19 = stateno = 11010
trigger20 = stateno = 11040
trigger21 = stateno = 11100
trigger22 = stateno = 11110
trigger23 = stateno = 11140
trigger24 = stateno = 13000
var(44) = 1
ignorehitpause = 1

コンボ補正ON
[state -2, var]
type = varset
trigger1 = var(44) = 1
trigger1 = movehit
var(44) = 2
ignorehitpause = 1

;---------------------------------------------------------------------------
;Hit数補正
[state -2, var]
type = varset
trigger1 = numenemy
trigger1 = enemynear,movetype != H
var(40) = 0
ignorehitpause = 1

[state -2, var]
type = varadd
trigger1 = movehit = 1
var(40) = 1
;ignorehitpause = 1

;---------------------------------------------------------------------------
;Life補正(自分)
[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[129,144]
var(42) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[113,128]
var(42) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[97,112]
var(42) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[81,96]
var(42) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[65,80]
var(42) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[49,64]
var(42) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[33,48]
var(42) = 6
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[17,32]
var(42) = 7
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=[1,16]
var(42) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = roundstate = 2
trigger1 = ceil(144*life/const(data.life))=0
var(42) = 9
ignorehitpause = 1


;---------------------------------------------------------------------------
;Life補正(相手)
[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[143,144]
var(43) = 0
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[128,142]
var(43) = 1
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[112,127]
var(43) = 2
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[96,111]
var(43) = 3
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[80,95]
var(43) = 4
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[64,79]
var(43) = 5
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[48,63]
var(43) = 8
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[32,47]
var(43) = 9
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[16,31]
var(43) = 12
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = !var(45)
trigger1 = roundstate = 2
trigger1 = ceil(144*enemy,life/enemy,const(data.life))=[0,15]
var(43) = 13
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = 1
fvar(3) = (1+(.08*var(42)))*(1-(.04*var(43)))
ignorehitpause = 1

;---------------------------------------------------------------------------
;最終補正
[state -2, var]
type = varset
trigger1 = 1
fvar(2) = fvar(3)*ifelse(!var(44),1,1-ifelse(var(40)%2,(var(40)-1)*.08,var(40)*.08))
ignorehitpause = 1

[state -2, var]
type = varset
trigger1 = fvar(0) < 0
fvar(2) = 0
ignorehitpause = 1
;---------------------------------------------------------------------------

[State -2];ｽﾀﾝﾄﾞonの時ｼﾞｮﾙﾉを表示させます
;-2でﾍﾙﾊﾟｰ出してるから投げられた時もｼﾞｮﾙﾉを消せる。たぶん
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 0
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000;Sonのとき。は自分はｺﾞｰﾙﾄﾞｴｸｽﾍﾟﾘｴﾝｽだから、
flag = noshadow           ;自分の影を非表示にします
ignorehitpause = 1

[Statedef 10000];ﾍﾙﾊﾟｰ。GEに張り付くジョルノ
type = U
physics = N
anim = 1
velset = 0,0

;---------------------------------------------------------------------------
; ここから下は-3のステートを書いてください、ここに書いたものはゲーム中
; に条件が成立すればいつでも開始するステートです。
;---------------------------------------------------------------------------
[Statedef -3]

;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(1) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 1
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(1) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 1
value = -(gethitvar(damage)/8)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(1) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 1
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンド強制解除（11P）
[State -3]
type = varset
triggerall = PalNo = 11
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0   ;ｹﾞｰｼﾞが０以下になった時
;trigger1 = statetype != A ;sca
var(49) = 0

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(1) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 1
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(1) > 80
fv = 1
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(1) >= 80
var(7) = 0

[State -1];AIレベル設定
type = VarSet
trigger1 = !ishelper  
var(58) = 8 ; 1から8まで。デフォ値は7