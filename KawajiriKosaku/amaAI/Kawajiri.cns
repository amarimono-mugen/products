; 『川尻浩作』のコンスタンツとステートのファイルです。
;===========================================================================
; コンスタンツ（定数）
;===========================================================================
;---------------------------------------------------------------------------
; ここがキャラの心臓部とも言うべき場所。
; １キャラ単位のライフや大きさなど、標準のステータスを予め決めておく部分。
; このコーナー自体省略出来ません。
;---------------------------------------------------------------------------
; 基本データ
;---------------------------------------------------------------------------
[Data]
life              = 1000   ;ライフ（体力ゲージ）最大値
power             = 3000   ;パワーゲージ最大値（オプション・デフォルトは3000=Lv.3）
attack            = 100    ;攻撃力（デフォルトは１００％）
defence           = 100    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に倒れている時間（フレーム）
airjuggle         = 80     ;ジャグルポイント限界値（「小ネタ.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパーク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガードスパーク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 0      ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex  = 58,59     ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める（※１）
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める（※１）
;---------------------------------------------------------------------------
; ※１：変数のラウンド持ち越し方法
;
; 　変数を次のラウンドへ持ち越したい場合は、↑の
; 　「IntPersistIndex」と「FloatPersistIndex」を使う。
; 　そのやり方はM.U.G.E.Nの説明書にすら載ってないので、ここで例を元に解説。
;
; 　①IntPersistIndex = 23　（Var(23)～Var(59)までを全て次のラウンドへ持ち越せる）
; 　②FloatPersistIndex = 18（FVar(18)～FVar(39)までを全て次のラウンドへ持ち越せる）
;
; 　つまり「Var(**)（Fvar(**)）以降全ての変数を持ち越す」という命令になる。
; 　それ以前のアドレスの変数は全て持ち越さなくなる。
;
; 　全ての変数を持ち越さない場合は、
; 　IntPersistIndexは60以上、FloatPersistIndexは40以上にしておこう。
;
; 　×これはダメ×
; 　　①IntPersistIndex = 10,15,20,25　（15,20,25の部分は意味無し）
; 　　②FloatPersistIndex = 4,16 　　　（16の部分は意味無し）
; 　　これらは最初の数字以外全て無効。
; 
;---------------------------------------------------------------------------
; 改訂前の和訳ＫＦＭではPersistIndexの解釈が無茶苦茶間違ってました。
; 大変失礼致しました。(人・ω・｀)ごめんなさい
; 今回はちゃんと調べて正確な情報を載せてるんで安心してください（苦笑
;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale = .833			;水平方向の縮尺（通常１）
yscale = 1.00			;垂直方向の縮尺（通常１）
ground.back      = 15      ;地上にいる時の「後方の物理的な幅」
ground.front     = 16      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 160     ;相手がガード態勢に入る最低の距離
proj.attack.dist = 90      ;自分の「Projectile」に対して相手がガード態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = -5,-90  ;キャラの標準の頭の座標（Bind系で適用される）
mid.pos          = -5,-60  ;キャラの標準の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標
draw.offset      = 0,0     ;キャラの表示座標（Ｘ軸,Ｙ軸）

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.4         ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.2        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 4.6,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -4.5,-3.8   ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu = 0,-10     ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back = -2.67      ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd = 2.97        ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -4.5,-11	;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4.5,-11	;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu  = 0,-8.1      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.55       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.5         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; 運動関係
;---------------------------------------------------------------------------
[Movement]
 airjump.num = 0       ;空中ジャンプが出来る回数
airjump.height  = 35       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel = .6		      ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "持って生まれた「性」というものは、\n誰もおさえる事ができない…………\n
どうしようもない…困ったものだ。"
victory2 = "「闘争」は、わたしが目指す\n「平穏な人生」とは相反しているから嫌いだ…"
victory3 = "「思い込む」という事は、\n何よりも「恐ろしい」事だ…………"
victory4 = "｢命｣を｢運｣んで来ると書いて『運命』！\n……フフ よくぞ言ったものだ"
victory5 = "他人と争うのはきりがなくムナしい行為だ"
victory6 = "激しい｢喜び｣はいらない…\nそのかわり 深い｢絶望｣もない…"
victory7 = "｢植物の心｣のような人生を…"
victory8 = "ひとつの｢闘い｣に勝利する事は簡単だ…"
;===========================================================================
; ステート
;===========================================================================
;---------------------------------------------------------------------------
; ここからはキャラのそれぞれの行動（ステート）を設定する。
; 番号（ステートナンバー）に気を付ければ良いだけで、
; 行動の決め方もステートの数も作りたいキャラによって自由。
;
; 本来ステートは別のファイルとして扱っているものだけど、
; このようにコンスタンツファイルと一緒にまとめる事も可能。
;
; ステートの基本的な設定はおまけフォルダの「テンプレート.txt」を参照。
;===========================================================================
; 基本行動
;===========================================================================
;---------------------------------------------------------------------------
;タイムオーバー（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, pos]
type = playsnd
triggerall = var(49) = 10000
trigger1 = time = 0
value = 6,6

[State 0, 円]
type = explod
triggerall = var(49) = 10000
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 8500, 1]
type = varset
triggerall = var(49) = 10000
trigger1 = !time
var(49) = 0


[State 170, 無敵]
type = NotHitBy
trigger1 = 1 ;トリガーを何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利ポーズ分岐（common1.cnsには無いけど、これもコモンステート）
[Statedef 180]
type = S

[State 0, var]
type = varrandom
trigger1 = !time
v = 10
range = 0,1

[State 180, ステート変更]
type = ChangeState
triggerall = var(10) = 0
trigger1 = matchover
value = 182

[State 180, ステート変更]
type = ChangeState
triggerall = var(10) = 1
trigger1 = matchover
value = 183

[State 180, ステート変更]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, pos]
type = playsnd
triggerall = var(49) = 10000
trigger1 = time = 0
value = 6,6

[State 0, 0]
type = PosAdd
triggerall = var(49) = 10000
trigger1 = !time
x = -10

[State 0, 円]
type = explod
triggerall = var(49) = 10000
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 8500, 1]
type = varset
triggerall = var(49) = 10000
trigger1 = !time
var(49) = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 181, 0
channel = 0

[State 191, 2] 
type = AssertSpecial
trigger1 = Time = [0,330]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マッチ勝利ポーズ1
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, pos]
type = playsnd
triggerall = var(49) = 10000
trigger1 = time = 0
value = 6,6

[State 0, 0]
type = PosAdd
triggerall = var(49) = 10000
trigger1 = !time
x = -10

[State 0, 円]
type = explod
triggerall = var(49) = 10000
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 8500, 1]
type = varset
triggerall = var(49) = 10000
trigger1 = !time
var(49) = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 182, 0
channel = 0

[State 191, 2] 
type = AssertSpecial
trigger1 = Time = [0,492]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マッチ勝利ポーズ2
[Statedef 183]
type = S
ctrl = 0
anim = 36400
velset = 0,0

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 0, var]
type = varrandom
trigger1 = !time
v = 10
range = 0,1

[State 0, pos]
type = playsnd
triggerall = var(49) = 10000
trigger1 = time = 0
value = 6,6

[State 0, 0]
type = PosAdd
triggerall = var(49) = 10000
trigger1 = !time
x = -10

[State 0, 円]
type = explod
triggerall = var(49) = 10000
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 8500, 1]
type = varset
triggerall = var(49) = 10000
trigger1 = !time
var(49) = 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "damy"
stateno = 20183
id = 183
pos = 0,0
postype = p1
pausemovetime = 0
supermovetime = 0
size.xscale = .83
size.yscale = 1
facing = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(10) = 0
trigger1 = animelem = 1
value = 183, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(10) = 1
trigger1 = animelem = 1
value = 183, 1
channel = 0

[State 191, 2] 
type = AssertSpecial
trigger1 = var(10) = 0
trigger1 = Time = [0,469]
flag = roundnotover

[State 191, 2] 
type = AssertSpecial
trigger1 = var(10) = 1
trigger1 = Time = [0,609]
flag = roundnotover

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;マッチ勝利ポーズ2ダミー
[Statedef 20183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 20, 1]
type = VelSet
trigger1 = time >= 14
x = -const(velocity.walk.fwd.x)

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 2] ;vs仗助
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "ASB_JOSUKE" || P4Name = "ASB_JOSUKE"
trigger2 = P2Name = "josuke" || P4Name = "josuke"
value = 25192

[State 190, 2] ;vs露伴
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "rohan" || P4Name = "rohan"
value = 25193

[State 190, 2] ;vs康一さん
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "hirose koiti" || P4Name = "hirose koiti"
value = 25194

[State 190, 2] ;vs吉良
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "killa yoshikage" || P4Name = "killa yoshikage"
value = 25195

[State 190, 2] ;vs億泰
type = ChangeState
triggerall = Time = 0
trigger1 = P2Name = "Okuyasu" || P4Name = "Okuyasu"
value = 25196

[State 190, 2] ;Go straight to intro.
type = ChangeState
triggerall = P2Name != "josuke" && P4Name != "josuke"
triggerall = P2Name != "ASB_JOSUKE" && P4Name != "ASB_JOSUKE"
triggerall = P2Name != "rohan" && P4Name != "rohan"
triggerall = P2Name != "koiti" && P4Name != "koiti"
triggerall = P2Name != "killa yoshikage" && P4Name != "killa yoshikage"
;triggerall = P2Name != "KawajiriKosaku" || P4Name != "KawajiriKosaku"
trigger1 = Time = 0
value = 191
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 10820, スタンド]
type = Explod
trigger1 = time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -2,-60
anim = 187
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 100, 9
channel = 0

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = Time = 0
trigger1 = Random <= 500
value = 192

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = !animTime
value = 0
;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 192]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 10820, スタンド]
type = Explod
trigger1 = time = 100
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,-60
anim = 188
sprpriority = -2
ownpal = 1

[State 10820, けむり]
type = Explod
trigger1 = time = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 20,-100
anim = 186
sprpriority = 4
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 21

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 6
value = 192, 0
channel = 0

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 185

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = animTime = 0
value = 0
;---------------------------------------------------------------------------
;VS仗助イントロ（試合開始前の登場演出アクション）
[Statedef 25192]
type = S
ctrl = 0
anim = 25192
velset = 0,0

[State 10820, スタンド]
type = null;Explod
trigger1 = time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -2,-60
anim = 187
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 25192
trigger1 = animelemtime(2) = 0
value = 190, 10
channel = 0 

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 25192

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
trigger1 = !animTime
value = 0
;---------------------------------------------------------------------------
;VS露伴（試合開始前の登場演出アクション）
[Statedef 25193]
type = S
ctrl = 0
anim = 26190
velset = 0,0

[State 10820, スタンド]
type = null;Explod
trigger1 = time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -2,-60
anim = 187
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 25193
trigger1 = animelemtime(2) = 0
value = 190, 20
channel = 0 

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 26190

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 16010]
type = changeanim
triggerall = anim = 26190
trigger1 = p2stateno = 0
trigger2 = time > 800
value = 25193

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
triggerall = anim = 25193
trigger1 = !animTime
value = 0
;---------------------------------------------------------------------------
;VS康一（試合開始前の登場演出アクション）
[Statedef 25194]
type = S
ctrl = 0
anim = 26190
velset = 0,0

[State 10820, スタンド]
type = null;Explod
trigger1 = time = 30
facing = 1
postype = p1
pos = -2,-60
anim = 187
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 25194
trigger1 = animelemtime(2) = 0
value = 190, 30
channel = 0 

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 26190

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 16010]
type = changeanim
triggerall = anim = 26190
trigger1 = p2stateno = 0
trigger2 = time > 800
value = 25194

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
triggerall = anim = 25194
trigger1 = !animTime
value = 0
;---------------------------------------------------------------------------
;VS吉良（試合開始前の登場演出アクション）
[Statedef 25195]
type = S
ctrl = 0
anim = 26190
velset = 0,0

[State 10820, スタンド]
type = null;Explod
trigger1 = time = 30
facing = 1
postype = p1
pos = -2,-60
anim = 187
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 25195
trigger1 = animelemtime(2) = 0
value = 190, 40
channel = 0 

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 26190

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 16010]
type = changeanim
triggerall = anim = 26190
trigger1 = p2stateno = 0
trigger2 = time > 800
value = 25195

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
triggerall = anim = 25195
trigger1 = !animTime
value = 0

;---------------------------------------------------------------------------
;VS露伴（試合開始前の登場演出アクション）
[Statedef 25196]
type = S
ctrl = 0
anim = 26190
velset = 0,0

[State 10820, スタンド]
type = Explod
trigger1 = anim = 25196
trigger1 = animelemtime(2) = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -2,-60
anim = 26196
sprpriority = -2
ownpal = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 25196
trigger1 = animelemtime(2) = 0
value = 190, 50
channel = 0 

[State 191, アニメ変更];バトル画面に切り替わった瞬間のフェードインの時、アニメを固定している
type = ChangeAnim
trigger1 = RoundState = 0
value = 26190

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 16010]
type = changeanim
triggerall = anim = 26190
trigger1 = p2stateno = 0
trigger2 = time > 800
value = 25196

[State 191, ステート変更];アニメーションが終われば「通常立ち」のステートに変更する
type = ChangeState
triggerall = anim = 25196
trigger1 = !animTime
value = 0
;---------------------------------------------------------------------------
; ※２：AssertSpecial
;
; 　他のコントローラでは設定出来ない『特殊な効果』を指定する命令。
; 　設定したトリガーが有効になってる間だけ一時的に適用される。
;
; 　適用出来るパラメータはこのコントローラを一つ設置する場合、最大３つまで。
; 　書式としては「flag」「flag2」「flag3」を順に加えていく形。
; 　flag2とflag3はオプション。ではその特殊効果を全て紹介。
;
; 　Intro          = イントロ（試合開始前の登場演出アクション）の状態になる。イントロステート専用。
; 　Invisible      = 自分の姿を消す。しかし残像（AfterImage）は消せない。
; 　RoundNotOver   = 現在のラウンドを過ぎない。勝利ポーズ専用。
; 　NoBarDisplay   = ライフバーを非表示にする。
; 　NoBG           = ステージの奥の画像を非表示にし、「真っ黒の背景」にする。
; 　NoFG           = ステージの手前の画像を非表示にする。
; 　NoStandGuard   = 立ちガードが出来なくなる。
; 　NoCrouchGuard  = しゃがみガードが出来なくなる。
; 　NoAirGuard     = 空中ガードが出来なくなる。
; 　NoAutoTurn     = 自動で振り向かない。
; 　NoJuggleCheck  = ジャグルをチェックしない。（ジャグルポイントが減らなくなる）
; 　NoKOSnd        = ＫＯ時の音声（11,0）を鳴らさないようにする。画面中に存在する全員に有効なので注意。
; 　NoKOSlow       = ＫＯ時のスローモーションを無効にする。（ＫＯ直前に有効にしないといけない）
; 　NoShadow       = 自分の影を消す。
; 　GlobalNoShadow = 画面中に存在する全てのプレイヤー（ヘルパーとProjectileも含む）の影を消す。
; 　NoMusic        = 演奏しているＢＧＭを止める。（プラグインによってはＢＧＭがバグるので要注意）
; 　NoWalk         = 歩かない。（前か後ろのキーを入力中コントロールが可能の時に勝手に[Statedef 20]にならない）
; 　TimerFreeze    = タイムカウント（制限時間）を停止する。
; 　UnGuardable    = 自分の全ての攻撃が『ガード不可』になる。
;
;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195+var(49)
velset = 0,0
sprpriority = 2

[State 210, 画像表示優先度]
type = SprPriority
triggerall = var(49) = 10000
trigger1 = !time
value = 0

[State 0, var]
type = varset
trigger1 = !time
trigger1 = var(10) > 1
v = 10
value = 0

[State 0, var]
type = varadd
trigger1 = !animtime
v = 10
value = 1

[State 180, ステート変更]
type = Changeanim
trigger1 = var(10) = 0
trigger1 = !Time
value = 195+var(49)

[State 180, ステート変更]
type = Changeanim
trigger1 = var(10) = 1
trigger1 = !Time
value = 196+var(49)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(10) = 0
trigger1 = Time = 10
value = 195, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = var(10) = 1
trigger1 = Time = 10
value = 195, 1
channel = 0

[State 195, コントロール]
type = CtrlSet
trigger1 = var(59)=0
trigger1 = inguarddist
trigger1 = command = "holdback"

trigger2 = var(59)=1
trigger2 = inguarddist
value = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 9196
id = 1001
pos = -30, -5
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 0, 円];腕
type = explod
triggerall = var(49) = 10000
trigger1 = time = 13
anim = 9198
id = 9198
pos = -40,-5
postype = p1
sprpriority = 3
removetime = -1
ownpal = 1
shadow = 0,0,0
scale = .833,1
;pausemovetime = 999999
;supermovetime = 999999
persistent = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;挑発キラークイーン
[Statedef 9196]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 9196
sprpriority = 0
facep2 = 1

[State 0, 円]
type = explod
trigger1 = !time
anim = 865
id = 867
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 0, 円];腕
type = explod
trigger1 = time = 6
anim = 9198
id = 9198
pos = 0,0
postype = p1
sprpriority = 3
removetime = -1
ownpal = 1
shadow = 0,0,0
scale = .833,1
;pausemovetime = 999999
;supermovetime = 999999
persistent = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 5

[State -2,***]
type = null;sprpriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State -2, エフェクトを消す];挑発KQ腕
type = RemoveExplod
trigger1 = root,stateno != 195
trigger2 = root,inguarddist
trigger2 = root,command = "holdback"
ID = 9198

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
trigger2 = root,inguarddist
trigger2 = root,command = "holdback"
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,stateno != 195
value = 9197
;---------------------------------------------------------------------------
; 終了(挑発スタンド)
[Statedef 9197]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9197
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 9197
id = 9197
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 9197
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 0, 円]
type = explod
trigger1 = !time
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;===========================================================================
; 通常攻撃技
;===========================================================================
;---------------------------------------------------------------------------
; 通常技はそんなに難しいテクニックは使ってないから、
; テンプレートを見ながら確認すれば覚えやすいと思う。
; 基本忘るべからず。
;
; ステートナンバーは、立ち技が２００～２９９、しゃがみ技が４００～４９９、
; ジャンプ技が６００～６９９の間で決めて作るのが一般的。
; しかし強制じゃないので自由に作っちゃってＯＫ。
;---------------------------------------------------------------------------
;立ち弱パンチ
[Statedef 200]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 200
sprpriority = 2
facep2 = 1

[State 0, vel]
type = varset
trigger1 = !time
var(8) = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, ヒット定義]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 15*fvar(1), 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
sparkno = s810
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1, 5
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,ifelse(var(40)<30,-3+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
air.hittime = 12
fall = 0
fall.recover = 0
air.fall = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 下の「立ち強パンチ」のステートを見てみましょ。
;
;「Width」のコントローラは相手や画面端を押すための『物理的な幅』を
; 一時的に伸ばしたり縮ませたりする命令。
; キャラの幅はバトル中に「Ctrl+C」を押して「判定ボックス」を表示させてる時に
; 一緒に確認出来る。「軸位置から伸びる黄緑色の線」がその幅。
;
; 後は「ChangeAnim」を使って５枚目で攻撃を当てたらすぐに６枚目に
; コマを進ませる命令をしてたり、
;『画像表示優先度』で「振りかぶる時は奥」「振り切った直後から手前」に
; モーション表示の操作をしてるくらいで、難しくない処理。
;
; これは余談だけど、Widthの読み方は「ウィッズ」。
; この解説文書いた時に初めて読み方知ったよ！　｡ﾟ(ﾟつД`ﾟ)ﾟ｡
;---------------------------------------------------------------------------
;立ち中
[Statedef 210]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 0, EB解除]
type = varset
triggerall = !time
trigger1 = (command = "y" || command = "z")
var(8) = 0

[State 210, アニメ変更]
type = null;ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
value = 210
elem = 6
ignorehitpause = 1
persistent = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 1027, 位置]
type = null;velset
trigger1 = time = 7
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 18*fvar(1)
guardflag = MA
pausetime = 10,10
getpower = ifelse(helper(8500),fvar(8)=0,25,25*1.1)
givepower = 25
sparkno = s820
sparkxy = -10,-20
hitsound = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
air.velocity = -2.5,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
fall = 0
fall.recover = 0
air.fall = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強
[Statedef 220]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 30*fvar(1)
guardflag = MA
pausetime = 12,14
getpower = ifelse(helper(8500),fvar(8)=0,30,30*1.1)
givepower = 30
sparkno = s830
sparkxy = -10,-60
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 28
ground.hittime  = 28
guard.slidetime = 20
ground.hittime  = 20
ground.velocity = -4
air.velocity = -2.5,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
fall = 0
fall.recover = 0
air.fall = 0

[State 0, EB解除]
type = varset
triggerall = !time
trigger1 = (command = "y" || command = "z")
var(8) = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 220, 0
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 221
id = 221
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;本体立ち強スタンド
[Statedef 221]
type = S
movetype = A
physics = N
ctrl = 0
anim = 221
sprpriority = 1

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 100, 3

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 10,-10

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 220 
;---------------------------------------------------------------------------
;前立ち強
[Statedef 250]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 0, EB解除]
type = varset
triggerall = !time
trigger1 = command = "holdfwd"
trigger1 = command = "z"
var(8) = 0


[State 1027, 位置]
type = velset
trigger1 = time = 7
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 35*fvar(1)
guardflag = MA
pausetime = 14,14
getpower = ifelse(helper(8500),fvar(8)=0,30,30*1.1)
givepower = 40
sparkno = s830
sparkxy = -10,-60
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
guard.hittime  = 21
guard.slidetime = 21
ground.velocity = -3.5
air.velocity = -2.5,ifelse(var(40)<30,3+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
fall.recover = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 22
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 251
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = .9
size.yscale = 1.07

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;本体前立ち強スタンド
[Statedef 251]
type = S
movetype = A
physics = N
ctrl = 0
anim = 251
sprpriority = 0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 12,-10

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-70
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 250 
;===========================================================================
;---------------------------------------------------------------------------
; ２Ｄ格ゲーでのしゃがみ通常攻撃は空中ガードが不可な作品が結構多い。
; カンフーマンも例外ではなかったみたい。
; ↓のしゃがみ弱パンチのguardflagが「L」のみになってるのに注目。
; 意味は「Low」。相手はこのしゃがみ弱パンチをガードする場合、
; 「しゃがみガードだけしか出来ない」という事になる。
;
; それ以外は簡単。
;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 400]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 400, 0
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 12*fvar(1)
pausetime = 8,7
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
guard.pausetime = 8,7
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-60
hitsound = S1,0
guardsound = S1,5
ground.type = Low
air.type = Low
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -2.5
guard.velocity = -2.5
air.velocity = -3
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
fall = 0
fall.recover = 0
air.fall = 0
yaccel = .44

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1

;---------------------------------------------------------------------------
; 効果の違う攻撃を連続でヒットさせる場合は、複数のHitDefが必要。
; ↓のしゃがみ強パンチのguardflagの効果がそれぞれ別々（MとMA）なように、
; パラメータが数値じゃなければ特に。こればかりはどうしようもない。
;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 410]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 410
sprpriority = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 2
animtype  = Medium
damage    = 20*fvar(1)
guardflag = L
pausetime = 10,10
getpower = ifelse(helper(8500),fvar(8)=0,35,35*1.1)
givepower = 25
sparkno = s820
sparkxy = -10,-30
hitsound = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -4.5,-4
fall = 0
air.fall = 1
fall.recovertime = 30

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 410, 0
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 411
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;本体屈中スタンド
[Statedef 411]
type = S
movetype = A
physics = N
ctrl = 0
anim = 411
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 7
value = 0, 1

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 20,0

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 210, ヒット定義]
type = null;HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 2
animtype  = Medium
damage    = 20*root,fvar(1)
guardflag = L
pausetime = 5,10
sparkno = s820
sparkxy = -10,-30
hitsound = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -3
guard.velocity = -4
air.velocity = -4.5,-4
fall = 0
fall.recover = 0
air.fall = 0

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 410
;---------------------------------------------------------------------------
;しゃがみ強
[Statedef 420]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 440
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 420, 0
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 441
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;本体屈強スタンド
[Statedef 441]
type = S
movetype = A
physics = N
ctrl = 0
anim = 441
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 7
value = 100, 3

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 15,-1

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 2
animtype  = Medium
damage    = 30*root,fvar(3)
guardflag = MA
pausetime = 5,13
sparkno = s830
sparkxy = -10,-30
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -8.5
guard.velocity = -6
air.velocity = -4.5,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
air.velocity = -4.5,-4
fall = 0
fall.recover = 0
air.fall = 0

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 420
;---------------------------------------------------------------------------
;打ち上げ
[Statedef 422]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 442
sprpriority = 2

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 2
animtype  = up
damage    = 40*fvar(1)
guardflag = MA
pausetime = 5,13
getpower = ifelse(helper(8500),fvar(8)=0,70,70*1.1)
givepower = 30
sparkno = s830
sparkxy = -10,-40
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -1,-7
guard.velocity = -6
air.velocity = -1,ifelse(var(40)<30,-5+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
air.velocity = -1,-6
airguard.velocity = -6
fall = 1
air.fall = 1
fall.recover = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 420,0
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 423
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 230, 3]
type = null;changestate
triggerall = command = "holdup"
trigger1 =Time >= 18
value = 40

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;本体屈強スタンド
[Statedef 423]
type = S
movetype = I
physics = N
ctrl = 0
anim = 443
sprpriority = 2

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 13
value = 100, 3

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 15,-10

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-30
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 422
;---------------------------------------------------------------------------
;しば
[Statedef 450]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 450
sprpriority = 2

[State 1027, 位置]
type = velset
trigger1 = time = 7
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 40*fvar(1),8
guardflag = MA
pausetime = 16,16
getpower = ifelse(helper(8500),fvar(8)=0,40,40*1.1)
givepower = 40
sparkno = s830
sparkxy = -10,-60
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 10
guard.slidetime = 10
ground.velocity = -2.5,-1
air.velocity = -2.5,4
fall = 1
fall.recover = 0
hitonce = 1
numhits = 1
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 22
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 451
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 0.9
size.yscale = 1.07

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;しばスタンド
[Statedef 451]
type = S
movetype = A
physics = N
ctrl = 0
anim = 451
sprpriority = 3

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 20,-15

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-70
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 450 
;---------------------------------------------------------------------------
;しば2
[Statedef 452]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 452
sprpriority = 2

[State 1027, 位置]
type = velset
trigger1 = time = 7
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 40*fvar(1),8
guardflag = MA
pausetime = 16,16
getpower = ifelse(helper(8500),fvar(8)=0,40,40*1.1)
givepower = 40
sparkno = s830
sparkxy = -10,-60
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 10
guard.slidetime = 10
ground.velocity = -3.5,-1
air.velocity = -2.5,4
fall = 1
fall.recover = 0
hitonce = 1
numhits = 1
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 22
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 453
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 0.9
size.yscale = 1.07

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;しばスタンド
[Statedef 453]
type = S
movetype = A
physics = N
ctrl = 0
anim = 453
sprpriority = 3

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 20,-15

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-70
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 452 
;---------------------------------------------------------------------------
;しば３
[Statedef 454]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 454
sprpriority = 2

[State 1027, 位置]
type = velset
trigger1 = time = 12
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 40*fvar(1),8
guardflag = M
pausetime = 16,16
getpower = ifelse(helper(8500),fvar(8)=0,40,40*1.1)
givepower = 40
sparkno = s830
sparkxy = -10,-60
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 10
guard.slidetime = 10
ground.velocity = -5.5,-1
air.velocity = -2.5,0
fall = 1
fall.recover = 0
hitonce = 1
numhits = 1
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 22
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 455
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 0.9
size.yscale = 1.07

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;本体立ち強スタンド
[Statedef 455]
type = S
movetype = A
physics = N
ctrl = 0
anim = 455
sprpriority = 3

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 2

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 20,-15

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-70
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 454 
;===========================================================================
;---------------------------------------------------------------------------
; ジャンプ通常攻撃にChangeStateのコントローラが無いのは、
; Physicsを「A」にしているから。
; おまけフォルダの「小ネタ.txt」を参照。（Physicsの仕組み）
;
; しゃがみ通常技とは逆に、ジャンプ通常技は基本的に「中段属性」の攻撃。
; しゃがみガードが出来ないのが普通なので、guardflagを「HA」にしておくのが定石。
;「立ちガードの需要性」と「空対地のガードの揺さぶりによる駆け引き」を
; プレイヤーに楽しんでもらうための先人達の知恵だね。
;---------------------------------------------------------------------------
;ジャンプ弱
[Statedef 600]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 600
sprpriority = 2

[State 1000, 2]
type = VarAdd
trigger1 = Time = 0
v = 33
value = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 600, 0
channel = 0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 4
value = 0, 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 3
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA ;空中通常打撃（Air, Normal Attack）
hitflag = MAF
guardflag = HA
animtype = Light
damage    = 10*fvar(1)
priority = 3
pausetime = 11,11
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
sparkno = S810
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,0
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 12
guard.hittime = 12
air.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
air.fall = 0

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 610]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 610
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 610, 0
channel = 0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 5
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
damage    = 15*fvar(1)
priority = 3
pausetime = 13,13
getpower = ifelse(helper(8500),fvar(8)=0,30,30*1.1)
givepower = 25
sparkno = S820
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 12
guard.hittime = 12
air.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
air.fall = 0

[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
;---------------------------------------------------------------------------
;ジャンプ強
[Statedef 620]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 620
sprpriority = 2

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
sprpriority = 3
animtype  = Medium
damage    = 30*fvar(1)
guardflag = HA
pausetime = 15,15
getpower = ifelse(helper(8500),fvar(8)=0,40,40*1.1)
givepower = 30
sparkno = s830
sparkxy = -10,-40
hitsound = s1, 11
guardsound = s1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -5
air.velocity = -3.5,-4
fall = 0
fall.recover = 0
air.fall = 0
numhits = 1
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 620, 0
channel = 0

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 621
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
;本体空中強スタンド
[Statedef 621]
type = S
movetype = A
physics = N
ctrl = 0
anim = 621
sprpriority = 4

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
trigger1 != root,movecontact
type = parentvarset
trigger1 = 1
var(39) = 1

[State 240, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 9
value = 100, 3

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 10,-20

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-30
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 620
;---------------------------------------------------------------------------
;Sonジャンプ弱
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 15
ctrl = 0
anim = 10600
sprpriority = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 600, 0
channel = 0

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 5
movetype = I

[State 600, ヒット定義]
type = HitDef
trigger1 = !time
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
damage    = 10*fvar(1)
priority = 3
pausetime = 11,11
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
sparkno = S810
guard.sparkno = S840
sparkxy = -10,-54
hitsound = S1,0
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 12
guard.hittime = 12
air.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
air.fall = 0
;---------------------------------------------------------------------------
;Sonジャンプ中
[Statedef 10610]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 10610
sprpriority = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 600, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = Light
damage    = 20*fvar(1)
priority = 3
pausetime = 13,13
getpower = ifelse(helper(8500),fvar(8)=0,35,35*1.1)
givepower = 25
sparkno = S820
guard.sparkno = S840
sparkxy = -10,-34
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 12
guard.hittime = 12
air.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -1.3,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 0
air.fall = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 610, 0
channel = 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 5
movetype = I
;---------------------------------------------------------------------------
;Sonジャンプ強
[Statedef 10620]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 10620
sprpriority = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 2

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype  = Medium
damage    = 40*fvar(1)
guardflag = HA
pausetime = 15,15
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 30
sparkno = s830
sparkxy = -10,-40
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -5
air.velocity = -3.5,-4
fall = 0
fall.recover = 0
air.fall = 0
numhits = 1
sprpriority = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 620, 0
channel = 0

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 5
movetype = I
;---------------------------------------------------------------------------
;回り込み
[Statedef 799]
type = S
physics = N
movetype = I
anim = 799
ctrl = 0
velset = 0,0
sprpriority = 2

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 799,0
channel = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 810, 1]
type = helper
trigger1 = animelem = 3
ID = 805
stateno = 805
pos = 0,0

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 2
x = 6

[State 810, Velocity]
type = VelMul
trigger1 = AnimElemTime(3) > 0
x = .95

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 11
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = time <= 30
value = SCA, NT,ST,HT
time = 1

[State 810, HitBy]
type =  NotHitBy
trigger1 = time > 30
value = , NP,SP,HP
time = 1

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 901,1]
type = SprPriority
trigger1 = AnimTime = 0
value = 0

[State 8500, 1]
type = null;varset
trigger1 = AnimTime = 0
var(40) = 6

[State 52, 4]
type = ChangeState
triggerall = var(47) > 50 || var(47) < -20 || var(47) = 0
triggerall = var(50) = 0
trigger1 = var(59) = 1
trigger1 = AnimTime = 0
trigger1 = p2bodydist x = [-20,40]
trigger1 = !inguarddist
value = 200

[State 810, StateChange]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;回り込み（残像）
[Statedef 805]
type = S
physics = N
movetype = I
anim = 799
ctrl = 0
velset = 0,0
sprpriority = 0

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 799
elem = 3

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 810, Velocity]
type = VelMul
trigger1 = AnimElemTime(4) > 0
x = .95

[State 810, Velocity]
type = VelSet
trigger1 = animelem = 11
x = 0

[State 810, HitBy]
type = HitBy
trigger1 = 1
value = SCA

[State 810, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 810, StateChange]
type = DestroySelf
trigger1 = root,stateno != 799
;===========================================================================
;プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = null;explod
trigger1 = var(49) = 10000
trigger1 = !time
anim = 10702
id = 777
pos = -10,0
postype = p1
scale = .835,1
sprpriority = 0
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 2
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -5,-70
sprpriority = 4
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 6,9
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2
trigger1 = inguarddist
trigger1 = time = 28
value = 120
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2
trigger1 = enemynear,alive && enemynear,movetype = H
trigger1 = time = 28
value = 98007
ctrl = 0
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 28
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;===========================================================================
;スタンドラッシュ
[Statedef 2100]
type = S
physics = N
movetype = I
anim = 0
ctrl = 0
velset = 0,0
sprpriority = 1

[State 4200,03]
type = Poweradd
trigger1 = !Time
value = -250

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[state 3000]
type = pause
trigger1 = time = 0
time = 10
movetime = 0

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 1
time = 3
add = 255,255,255

[State 8500, 1]
type = varset
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time = 0
var(50) = 2
ignorehitpause = 1

[State 0, end]
type = changestate
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time = 1
trigger1 = numtarget
value = 98000
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 1
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;===========================================================================
; 投げ技
;===========================================================================
;---------------------------------------------------------------------------
; エレクバイトが「作るのが退屈と感じる時もあるよ」って言ってるけど、
; 作り出したら意外とハマって楽しくなる投げ技。
; 投げる相手の正確な座標取りは面倒臭いけどね（コラ
; 投げ用のHitDefはテンプレートと見比べて確認すればわかるはず。
;---------------------------------------------------------------------------
;掴み
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 800,0+(random%2)
channnel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 3
value = 0,5

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),40]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = ifelse(helper(8500),fvar(8)=0,80,80*1.1)
givepower = 40
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4
id = 800

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;掴み(後方)
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 800,0+(random%2)
channnel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 3
value = 0,5

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),40]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 811
p2facing = 1
p2stateno = 821
guard.dist = 0
getpower = ifelse(helper(8500),fvar(8)=0,80,80*1.1)
givepower = 40
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4
id = 800

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げ成功（前方）
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 801
velset = 0,0
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
;trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "c" || target,command = "y" || target,command = "z"
value = 880

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 42
facing = 1
postype = p2
pos = -40,-80
anim = 912
sprpriority = 5
ownpal = 1

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 42
anim = 914
id = 914
postype = p2
pos = -40,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 38
value = 300,1

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 38
value = 0,5

[State 0, pos]
type = playsnd
trigger1 = time = 30
value = 810,0
channnel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 40, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 17
pos = -10, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 119
pos = -30, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 37
pos = 30, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 39
pos = 50, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 42
value = -120

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=1
trigger1 = time = 42
value = -30

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 10
value = 1,9

[State 1000, Spark]
type = null;helper
trigger1 = time = 0
stateno = 803
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, pos]
type = null;playsnd
trigger1 = AnimTime = 0
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 810, ステート変更]
type = null;ChangeState
triggerall = power >= 1000
trigger1 = time >= 15
trigger1 = time <= 20
trigger1 = command = "z"
value = 812
ctrl = 0
;---------------------------------------------------------------------------
;投げ成功（後方）
[Statedef 811]
type    = S
movetype= A
physics = N
anim = 802
velset = 0,0
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
;trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "c" || target,command = "y" || target,command = "z"
value = 880

[State 0, pause]
type = pause
;trigger1 = time = [30,32]
;trigger1 = time % 2= 0
trigger1 = Time = 32
time = 8
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 34
time = 5
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 36
time = 2
movetime = 0

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 20,-80
anim = 912
sprpriority = 0
ownpal = 1

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 30
anim = 914
id = 914
postype = p2
pos = 20,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 30
value = 300,1

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 30
value = 0,5

[State 0, pos]
type = playsnd
trigger1 = time = 25
value = 810,0
channnel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 40, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 32
value = -120

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=1
trigger1 = time = 32
value = -30

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 1000, Spark]
type = null;helper
trigger1 = time = 0
stateno = 803
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1061, 2]
type = Velset
trigger1 = time = [31,35]
x = 5

[State 1061, 2]
type = Velset
trigger1 = time = [35,60]
x = 3

[State 1061, 2]
type = Veladd
trigger1 = vel x > 0
trigger1 = time = [60,80]
x = -0.15

[State 0, pos]
type = null;playsnd
trigger1 = Time = 80
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

[State 810, ステート変更]
type = null;ChangeState
triggerall = power >= 1000
trigger1 = time >= 15
trigger1 = time <= 20
trigger1 = command = "z"
value = 812
ctrl = 0
;---------------------------------------------------------------------------
;成功（helper）
[Statedef 813]
type    = S
movetype= A
physics = N
anim = 803
poweradd = 0

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 20,0
time = 1
ignorehitpause = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = root,stateno = 930
value = 1002
;---------------------------------------------------------------------------
;投げぬけ 自分
[Statedef 880]
type = S
movetype = I
physics = S
anim = 808+var(49)
velset = 0,0

[State 800]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, pos]
type = playsnd
trigger1 = !time
value = 6,14

[State 810]
type = Pause
trigger1 = time = 0
time = 20
movetime = 0

[State 0, 円]
type = explod
trigger1 = !time
anim = 863
id = 868
pos = 15,-80
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 891

[State 810]
type = VelAdd
trigger1 = time = 1
x = -7

[State 800, ステート変更]
type = ChangeState
Trigger1 = Time >= 30
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 投げ抜け待機モーション(相手)
[Statedef 890]
type     = S
movetype = H
physics  = N
poweradd = 0

[State -2]
type = VelSet
trigger1 = 1
x = 0
ignorehitpause = 1

[State 800]
type = ChangeAnim
trigger1 = time = 0
value = 150

[State 800]
type = NotHitBy
trigger1 = 1
value = SCA

[State 800, ステート変更]
type = SelfState
Trigger1 = Time >= 300
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 投げ抜けモーション(相手)
[Statedef 891]
type     = S
movetype = H
physics  = S
poweradd = 0

[State -1]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State -2]
type = VelSet
trigger1 = time = 0
x = 0
ignorehitpause = 1

[State 800]
type = VelAdd
trigger1 = time = 0
x = -7

[State 800, 制御した相手のアニメ変更]
type = ChangeAnim
Trigger1 = Time = 0
value = 150

[State 800, 制御した相手のアニメ変更]
type = ChangeAnim
Trigger1 = Time = 0
Trigger1 = selfAnimExist(5940) = 1
value = 5940

[State 800, ステート変更]
type = SelfState
Trigger1 = Time >= 30
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;投げスパコン
[Statedef 812]
type    = S
movetype= A
physics = N
anim = 804
poweradd = 0
sprpriority = 2

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 18
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 52
value = -185

[State 10820, ]
type = Explod
trigger1 = Time = 52
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 911
sprpriority = 5
ownpal = 1
scale = 1.5, 1.5

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 52
value = 300,2

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; こっちは制御を奪った相手の食らいステート。
; 相手の制御を解く場合、「ChangeState」のコントローラにしてしまうと
;「相手が制御を奪われた状態のままになるバグ」が発生してしまう。
; なので必ず『SelfState』で相手のステートに戻し、制御を解除しないといけない。
; そこさえ注意しておけば、自由に相手の食らいモーションを設定出来る。
;
; デバッグ表示中に相手の情報の一部の文字が黄色になったら、それが
; P2StateNoやTargetStateで制御を奪われた状態の証。
; 投げが成功したらCtrl+Dで相手側の情報を確認だ！m9っ｀Д´)
;---------------------------------------------------------------------------
;相手側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 3

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 805

[State 1061, 2]
type = PalFX
trigger1 = enemynear,numhelper(1001)=0
trigger1 = Time = 42
time = 40
add = 128,24,0
mul = 90,64,64
sinadd = 90,90,90,4
color = 150

[State 1061, 2]
type = Velset
trigger1 = time = [42,47]
y = -5
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = [47,52]
y = -2
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 0
x = -2

[State 1061, 2]
type = Veladd
trigger1 = time >= 52
y = .2

[State 1061, 2]
type = Velset
trigger1 = time > 65
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 45
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;相手側(後)
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 806

[State 1061, 2]
type = PalFX
trigger1 = enemynear,numhelper(1001)=0
trigger1 = Time = 32
time = 40
add = 128,24,0
mul = 90,64,64
sinadd = 90,90,90,4
color = 150

[State 1061, 2]
type = Velset
trigger1 = time = [30,35]
y = -5
x = 8

[State 1061, 2]
type = Velset
trigger1 = time = [35,40]
y = -2
x = 5

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = 0
x = 2

[State 1061, 2]
type = Veladd
trigger1 = time >= 30
y = .2

[State 1061, 2]
type = Velset
trigger1 = time > 75
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 65
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
; ※３：GetHitVar
;
; 　食らってしまった『相手の攻撃の効果』を
; 　自分側が「特殊な変数」に変換して判断するトリガー。
;　「GetHitVar(**)」の『**』に該当する、予め決められているパラメータを全て紹介。
;
; 　大概「相手のHitDefとProjectileのパラメータ」から引き出すので、かなり多い（苦笑
;
;
; 　XVelAdd             = 自分が負けて吹っ飛んだ時の「Ｘ軸方向の加速度(float)」を計測する
; 　YVelAdd             = 自分が負けて吹っ飛んだ時の「Ｙ軸方向の加速度(float)」を計測する
; 　Type                = 自分の「食らいアニメの種類」。（0=None・1=High・2=Low・3=Trip）
; 　AnimType            = 相手のHitDefに設定されている「animtype」を判断する
;                        （0=Light・1=Medium・2=Hard・3=Back・4=Up・5=DiagUp）
; 　GroundType          = 相手のHitDefに設定されている「ground.type」を判断する
; 　AirType             = 相手のHitDefに設定されている「air.type」を判断する
;
; 　Damage              = 相手から食らってしまった「ダメージ量」を計測する
; 　HitCount            = 相手の「現在のヒット数」を計測する
; 　FallCount           = 自分が「地面に激突した回数」を判断する
; 　HitShakeTime        = 自分の「ヒット硬直時間」を計測する
; 　HitTime             = 自分の「食らい時間」を計測する
; 　SlideTime           = 相手のHitDefに設定されている「slidetime」を判断する
; 　CtrlTime            = 相手のHitDefに設定されている「(air)guard.ctrltime」を判断する
; 　RecoverTime         = 横に倒れている時の「起き上がるまでの時間」を判断する
;
; 　XOff                = 相手のHitDefに設定されている「"snap"のＸ軸」を判断する（非推奨）
; 　YOff                = 相手のHitDefに設定されている「"snap"のＹ軸」を判断する（非推奨）
; 　ZOff                = 相手のHitDefに設定されている「"snap"のＺ軸」を判断する？（存在しないので無意味）
;
; 　XVel                = 相手のHitDefに設定されている「Ｘ軸の食らい状態の移動速度」を判断する
; 　YVel                = 相手のHitDefに設定されている「Ｙ軸の食らい状態の移動速度」を判断する
; 　YAccel              = 相手のHitDefに設定されている「yaccel」を判断する
; 　chainID             = 相手のHitDefに設定されている「chainID」を判断する
; 　Guarded             =「相手のコンボでの最後の攻撃をガードした場合」を判断する
; 　IsBound             =「TargetBindで掴まれてる状態」を判断する
;
; 　Fall                = 相手のHitDefに設定されている「fall」を判断する
; 　Fall.Damage         = 相手のHitDefに設定されている「fall.damage」を判断する
; 　Fall.XVel           = 相手のHitDefに設定されている「fall.xvelocity」を判断する
; 　Fall.YVel           = 相手のHitDefに設定されている「fall.yvelocity」を判断する
; 　Fall.Recover        = 相手のHitDefに設定されている「fall.recover」を判断する
; 　Fall.RecoverTime    = 相手のHitDefに設定されている「fall.recovertime」を判断する
; 　Fall.Kill           = 相手のHitDefに設定されている「fall.kill」を判断する
; 　Fall.EnvShake.Time  = 相手のHitDefに設定されている「fall.envshake.time」を判断する
; 　Fall.EnvShake.Freq  = 相手のHitDefに設定されている「fall.envshake.freq」を判断する
; 　Fall.EnvShake.Ampl  = 相手のHitDefに設定されている「fall.envshake.ampl」を判断する
; 　Fall.EnvShake.Phase = 相手のHitDefに設定されている「fall.envshake.phase」を判断する
;
;---------------------------------------------------------------------------
;Son掴み
[Statedef 10800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10800
sprpriority = 0

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 800,0+(random%2)
channnel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 3
value = 0,5

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),40]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 10810
p2facing = 1
p2stateno = 820
guard.dist = 0
getpower = ifelse(helper(8500),fvar(8)=0,80,80*1.1)
givepower = 40
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4
id = 800

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son掴み(後方)
[Statedef 10801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 10800
sprpriority = 0

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 800,0+(random%2)
channnel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 3
value = 0,5

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),40]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 10811
p2facing = 1
p2stateno = 821
guard.dist = 0
getpower = ifelse(helper(8500),fvar(8)=0,80,80*1.1)
givepower = 40
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4
id = 800

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son投げ成功（前方）
[Statedef 10810]
type    = S
movetype= A
physics = N
anim = 10801
sprpriority = 0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
;trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "c" || target,command = "y" || target,command = "z"
value = 880

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 42
facing = 1
postype = p2
pos = -40,-80
anim = 912
sprpriority = 5
ownpal = 1

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 42
anim = 914
id = 914
postype = p2
pos = -40,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 38
value = 300,1

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 38
value = 0,5

[State 0, pos]
type = playsnd
trigger1 = time = 30
value = 810,0
channnel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 40, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = time = 17
pos = -10, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = time = 119
pos = -30, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = time = 37
pos = 30, 0
postype = P1
time = 1

[State 901,1]
type = targetBind
trigger1 = time = 39
pos = 50, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 42
value = -120

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=1
trigger1 = time = 42
value = -30

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 10
value = 1,9

[State 1000, Spark]
type = null;helper
trigger1 = time = 0
stateno = 803
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, pos]
type = null;playsnd
trigger1 = AnimTime = 0
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 810, ステート変更]
type = null;ChangeState
triggerall = power >= 1000
trigger1 = time >= 15
trigger1 = time <= 20
trigger1 = command = "z"
value = 812
ctrl = 0
;---------------------------------------------------------------------------
;Son投げ成功（後方）
[Statedef 10811]
type    = S
movetype= A
physics = N
anim = 10802
sprpriority = 0

[State 0, end]
type = changestate
trigger1 = time = [1,4]
;trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "c" || target,command = "y" || target,command = "z"
value = 880

[State 0, pause]
type = pause
;trigger1 = time = [30,32]
;trigger1 = time % 2= 0
trigger1 = Time = 32
time = 8
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 34
time = 5
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 36
time = 2
movetime = 0

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 20,-80
anim = 912
sprpriority = 0
ownpal = 1

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 30
anim = 914
id = 914
postype = p2
pos = 20,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 30
value = 300,1

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 30
value = 0,5

[State 0, pos]
type = playsnd
trigger1 = time = 25
value = 810,0
channnel = 0

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 40, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 32
value = -120

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=1
trigger1 = time = 32
value = -30

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,9

[State 1000, Spark]
type = null;helper
trigger1 = time = 0
stateno = 803
id = 1001
pos = 20, 0
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1061, 2]
type = Velset
trigger1 = time = [31,35]
x = 5

[State 1061, 2]
type = Velset
trigger1 = time = [35,60]
x = 3

[State 1061, 2]
type = Veladd
trigger1 = vel x > 0
trigger1 = time = [60,80]
x = -0.15

[State 0, pos]
type = null;playsnd
trigger1 = Time = 80
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

[State 810, ステート変更]
type = null;ChangeState
triggerall = power >= 1000
trigger1 = time >= 15
trigger1 = time <= 20
trigger1 = command = "z"
value = 812
ctrl = 0
;===========================================================================
; 必殺技
;===========================================================================
;---------------------------------------------------------------------------
; キラークィーンを代表する必殺技『第一の爆弾』。
; 最初に公開された矢安宮 重清戦（1999/？/？当時の初期版）では
; この技と超必殺技の『100円玉爆弾』しか持ってなかった。
;
;「P2BodyDist」は「自分から相手までの距離」を測るトリガー。
; Bodyの記述が無い「P2Dist」の場合は、
;「自分の軸位置から相手の軸位置との距離」を測る。
;---------------------------------------------------------------------------
;キラークイーン（弱）
[Statedef 1000]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1000, 0
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1001
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; キラークイーン(スタンド)
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1001
sprpriority = 0
facep2 = 1

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 0, 3
channel = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 20
x = 8

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 5, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 11
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 6, 12

[State 0, 円]
type = explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State -2,***]
type = null;sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = nothitby
trigger1 = time >= 100
value = SCA
time = -1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;爆破溜めエフェクト
[Statedef 11050]
type = S
ctrl = 0
anim = 11050
velset = 0,0

[State 0, scale]
type = angledraw
trigger1 = time >= 0
scale = 1+(time)*.06,1+(time)*.06

[State 0, scale]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = 256+(time)*-18,256

[State 200, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem =  2
value = 6,5

[State 181, 無敵]
type = destroyself
trigger1 = time = 20
;---------------------------------------------------------------------------
; 終了（弱）(スタンド)
[Statedef 1002]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1002
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1002
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 0, 円]
type = explod
trigger1 = !time
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 爆弾
[Statedef 1003]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
anim = 36400
sprpriority = 4
;facep2 = 1

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 301,ヘルパー]
type = Helper
triggerall = numhelper(1004) = 0
trigger1 = root,stateno = 1005 || root,stateno = 11030
trigger1 = root,movetype !=A
helpertype = normal
name = "bom"
stateno = 1004
id = 1004
pos = 0, -70
postype = p2
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = destroyself
trigger1 = root,stateno != [120,160]
trigger1 = root,movetype = H
trigger2 = root,stateno = [810,811]
trigger3 = numhelper(3102) != 0
trigger4 = root,stateno = 3000 || root,stateno = 14000 || root,stateno = 3010 || root,stateno = 13010 || root,stateno = 3100 || root,stateno = 3200
trigger5 = numhelper(1004) != 0
trigger6 = helper(1001),stateno = [1001,1009]
trigger6 = helper(1001),movehit
trigger7 = helper(1001),stateno = [11097,11099]
trigger7 = helper(1001),movehit
trigger8 = root,stateno = [10810,10811]
trigger9 = root,stateno = [1100,1120]
trigger9 = root,time =14
trigger10 = root,stateno = [11100,11120]
trigger10 = root,time =14
;---------------------------------------------------------------------------
; 爆発
[Statedef 1004]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
anim = 910
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,-70
postype = p2
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 100*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = 3,-6
;p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recovertime = 60
affectteam = B
guard.kill = 0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 点火ポーズ
[Statedef 1005]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1015
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1010, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;点火キラークイーン
[Statedef 1015]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 1015
sprpriority = 0
facep2 = 1

[State 0, 円]
type = explod
trigger1 = !time
anim = 865
id = 867
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 6, 5

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State -2,***]
type = null;sprpriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = root,stateno != 1005
trigger1 = root,stateno != 3104
trigger2 = !animtime 
value = 232
;---------------------------------------------------------------------------
;Son点火ポーズ
[Statedef 11030]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 11030
ctrl = 0
sprpriority = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 1010, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son空気弾点火ポーズ
[Statedef 11040]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 11030
ctrl = 0
sprpriority = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 1010, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;キラークイーン（中）
[Statedef 1006]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1000, 0
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1007
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; キラークイーン(スタンド)
[Statedef 1007]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1001
sprpriority = 0
facep2 = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 0, 3
channel = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 20
x = 8

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 5, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 11
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 6, 12

[State 0, 円]
type = explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = nothitby
trigger1 = time >= 100
value = SCA
time = -1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
;キラークイーン（強）
[Statedef 1008]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1000, 0
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1009
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; キラークイーン(スタンド)
[Statedef 1009]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1001
sprpriority = 0
facep2 = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 0, 3
channel = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 20
x = 8

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 5, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 11
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)

[State 1000, 7]
type = Helper
trigger1 = Movehit
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1010
id = 1003
pos = -10, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 6, 12

[State 0, 円]
type = explod
trigger1 = movehit
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = screenbound
trigger1 = 1
value = 1

[State 230, 2]
type = nothitby
trigger1 = time >= 100
value = SCA
time = -1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 1002
;---------------------------------------------------------------------------
; 爆弾
[Statedef 1010]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 36400
sprpriority = 4
facep2 = 1

[State 301,ヘルパー]
type = Helper
trigger1 = time = 20
triggerall = numhelper(1004) = 0
helpertype = normal
name = "bom"
stateno = 1011
id = 1003
pos = 0, -70
postype = p2
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = destroyself
trigger1 = time = 51
trigger2 = numhelper(1003) = 2
;---------------------------------------------------------------------------
; 爆発
[Statedef 1011]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
anim = 911
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,-70
postype = p2
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 100*root,fvar(1)
animtype  = hard
guardflag = 
priority = 2, Hit
pausetime = 0,0
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = -3,ifelse(root,var(40)<30,-3+(root,var(40)*.05),ifelse((root,var(40)*.8)<0,0,(root,var(40)*.8)))
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.dist = 0
air.fall = 1
fall.recover = 0
fall = 1
affectteam = B

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 9500]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9500
velset = 0,0
sprpriority = -1

[State -2, エフェクトを消す];挑発KQ腕
type = RemoveExplod
trigger1 = root,stateno != 195
ID = 9198

[State 230, 2]
type = assertspecial
triggerall = root,var(49) = 10000
trigger1 = 1
flag = invisible

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[state 301, ]
type=null;parentvarset
trigger1 = !time 
var(54) = 0

[State 0, var]
type = parentvarset
trigger1 = !time
var(9) = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 9520
;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 9520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9501
velset = 0,0
sprpriority = -1

[State 230, 2]
type = assertspecial
triggerall = root,var(49) = 10000
trigger1 = 1
flag = invisible

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, hitvel]
type = null;hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = null;velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 36400

[State 230, 2]
type = destroyself
triggerall = !time
trigger1 = prevstateno = 10099

[State 191, 3]
type = PlaySnd
triggerall = root,var(49) = 0
trigger1 = time = 10
value = 6,6

[State 0, 円]
type = explod
triggerall = root,var(49) = 0
trigger1 = time = 5
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 1020]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 1020
sprpriority = 0

[State -2, エフェクトを消す];挑発KQ腕
type = RemoveExplod
trigger1 = !time
ID = 9198

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 16500]
type = ParentVarSet
trigger1 = time = 0
v = 11
value = GetHitVar(damage)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 20
value = 100, 1

[State 0, scale]
type = angledraw
trigger1 = time > 20
scale = (const(size.xscale)-(.08*(time-20))),(const(size.yscale)+(.06*(time-20)))

[State 0, 円]
type = null;explod
trigger1 = !animtime
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 16500]
type = DestroySelf
trigger1 = time = 32
trigger2 = root,var(49) = 10000
trigger2 = !time
;-------------------------------------------------------------------
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
[Statedef 16502];立ち
type    = S
movetype= H
physics = S
velset = -2,0
anim = 5000

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1 ;指定した値が増減されます。省略時0で、相手の防御力が考慮される

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 0
ctrl = 1

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;-------------------------------
[Statedef 16503];しゃがみ
type    = C
movetype= H
physics = S
velset = -2,0
anim = 5020

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 11
ctrl = 1

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;-------------------------------
[Statedef 16504];空中
type    = A
movetype= H
physics = A
velset = -2,0
anim = 5050

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = Vel Y > 0    ;下方に移動している場合、正の値
trigger1 = Pos Y >= -10 ;地面を0、下方向を正、上方向を負
value = 5100;地面に激突

[State -2]
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0
;---------------------------------------------------------------------------
;Soff空気弾L
[Statedef 1100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1101
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Soff空気弾LKQ
[Statedef 1101]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1101
ctrl = 0
sprpriority = 2

[State 0, btr]
type = bindtoroot
trigger1 = time <= 15
pos = 20,0

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 1105
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 232
;---------------------------------------------------------------------------
;空気弾 bom
[Statedef 1105]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 90*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1,-6
air.velocity = -1,-3
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
;trigger2 = root,movetype = H
trigger2 = root,stateno = 3104
trigger2 = root,movetype !=A
trigger3 = root,stateno = 11040
trigger3 = root,movetype !=A
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 4
x = 0.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = anim = 3102
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger8 = anim = 3102
trigger8 = root,stateno = 3005 || root,stateno = 13005
trigger9 = numhelper(3013)
trigger10 = root,stateno = 3301|| root,stateno = 13302
trigger11 = helper(1001),stateno = [1001,1009]
trigger11 = helper(1001),movehit
trigger12 = helper(1001),stateno = [11097,11099]
trigger12 = helper(1001),movehit
;---------------------------------------------------------------------------
;Soff空気弾M
[Statedef 19191110]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 1110
ctrl = 0
sprpriority = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1112
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 3000, ステート変更]
type = ChangeState
triggerall = time >= 30
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
value = 1101
;---------------------------------------------------------------------------
;Soff空気弾M　戻り
[Statedef 19191111]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1111
ctrl = 0
sprpriority = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son空気弾KQM
[Statedef 19191112]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1112
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 1115
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
triggerall = time >= 30
trigger1 = root,command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
value = 1113
;---------------------------------------------------------------------------
;Soff空気弾KQM　戻り
[Statedef 19191113]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1103
ctrl = 0
sprpriority = 2

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 232
;---------------------------------------------------------------------------
;Soff空気弾M
[Statedef 1110]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1110
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1111
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Soff空気弾MKQ
[Statedef 1111]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1111
ctrl = 0
sprpriority = 2

[State 0, btr]
type = bindtoroot
trigger1 = time <= 15
pos = 20,0

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 1115
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 232
;---------------------------------------------------------------------------
;空気弾 bom
[Statedef 1115]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 90*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1,-6
air.velocity = -1,-3
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
;trigger2 = root,movetype = H
trigger2 = root,stateno = 3104
trigger2 = root,movetype !=A
trigger3 = root,stateno = 11040
trigger3 = root,movetype !=A
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 4
x = 1

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = anim = 3102
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger8 = anim = 3102
trigger8 = root,stateno = 3005 || root,stateno = 13005
trigger9 = numhelper(3013)
trigger10 = helper(1001),stateno = [1001,1009]
trigger10 = helper(1001),movehit
trigger11 = helper(1001),stateno = [11097,11099]
trigger11 = helper(1001),movehit
;---------------------------------------------------------------------------
;Soff接触空気弾
[Statedef 1120]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1120
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1121
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Soff接触空気弾KQ
[Statedef 1121]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1121
ctrl = 0
sprpriority = 2

[State 0, btr]
type = bindtoroot
trigger1 = time <= 15
pos = 20,0

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 1122
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 232
;---------------------------------------------------------------------------
;空気弾SC bom
[Statedef 1122]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1022
ctrl = 0
sprpriority = 3

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT,AA 
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1125
time = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 3103
trigger1 = animelem = 3
attr = A, NP
damage    = 90*root,fvar(1), 30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -8,-4
air.velocity = -6,-2
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 1022
trigger1 = time = 0
attr = S, NP
damage = 0, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 20
getpower = 0
givepower = 0
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10, -76
hitsound = s9997, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.hittime  = 0
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 0
numhits = 0

[State 230, 2]
type = changeanim
triggerall = anim = 1022
trigger1 = movecontact
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3202
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3203
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 15

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
x = 1.8

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 1022
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 1022
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = anim = 1022
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger8 = anim = 1022
trigger8 = root,stateno = 3005 || root,stateno = 13005
trigger9 = numhelper(3013)
trigger10 = root,stateno = 3301 || root,stateno = 13302
trigger11 = helper(1001),stateno = [1001,1009]
trigger11 = helper(1001),movehit
trigger12 = helper(1001),stateno = [11097,11099]
trigger12 = helper(1001),movehit
;---------------------------------------------------------------------------
;接触空気弾相殺時爆発
[Statedef 1125]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 910
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 90*root,fvar(1)
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = -3,-6
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recovertime = 60
affectteam = B

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;===========================================================================
;---------------------------------------------------------------------------
; ２ヒットする何の変哲も無い対空必殺技。これといって難しい処理は使ってない。
; カンフーニーとの併用で画面端でのコンボも上手く行けば出来る。
; 対空技に付き物な「無敵時間」が無いので、潰されやすいのが難点。
;---------------------------------------------------------------------------
;父の涙
[Statedef 2200]
type = U;前のステートの状態を引き継ぐ
physics = N
poweradd= 110
velset = 0,0

[State 903, poweradd]
type = poweradd
trigger1 = !Time
value = -500

[State -2]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(1101) = 0
helpertype = normal
name = "oyazi"
stateno = 2201
id = 2201
pos = 40, -65
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 1100, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2 
triggerall = var(50) = 1
trigger1 = Time = 1
value = 98006

[State 1100, ステート変更]
type = ChangeState
trigger1 = Time = 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;親父
[Statedef 2201]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9996
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2200, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 12
value = 100, 10

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 12
x = 6
y = -3 

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 0
y = 0

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 54
trigger1 = time < 77
x = -6
y = -3 

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 78
trigger1 = time < 100
x = -6
y = -6

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30*root,fvar(1)
priority = 3, Hit
guardflag = M
pausetime = 0,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s100, 11
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -4*const(size.xscale)
air.velocity = -3,-3
p2facing = 1
getpower = 0,0
givepower = 10,0
fall = 0
fall.recover = 0
air.fall = 0
id = 200
ground.cornerpush.veloff = 0

[State 0, ts]
type = ChangeState
triggerall = time <= 43
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 2230

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 2230
time = 0
ignorehitpause = 1

[State 3010, 2]
type = changestate
trigger1 = time >= 150
value = 2240
;---------------------------------------------------------------------------
;父の涙（強）
[Statedef 2210]
type = U;前のステートの状態を引き継ぐ
physics = N
poweradd= 110
velset = 0,0

[State 903, poweradd]
type = poweradd
trigger1 = !Time
value = -500

[State -2]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(1101) = 0
helpertype = normal
name = "oyazi"
stateno = 2211
id = 2201
pos = 40, -65
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 1100, ステート変更]
type = ChangeState
trigger1 = Time = 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;親父
[Statedef 2211]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9996
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2200, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 12
value = 100, 10

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 12
x = 8
y = -2 

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 0
y = 0

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 54
trigger1 = time < 77
x = -6
y = -3 

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 78
trigger1 = time < 100
x = -6
y = -6

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30*root,fvar(1)
priority = 3, Hit
guardflag = M
pausetime = 0,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s100, 11
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -4*const(size.xscale)
air.velocity = -3,-3
p2facing = 1
getpower = 0,0
givepower = 10,0
fall = 0
fall.recover = 0
air.fall = 0
id = 200
ground.cornerpush.veloff = 0

[State 0, ts]
type = ChangeState
triggerall = time <= 43
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 2230

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 2230
time = 0
ignorehitpause = 1

[State 3010, 2]
type = changestate
trigger1 = time >= 150
value = 2240
;---------------------------------------------------------------------------
;速い父の涙
[Statedef 2220]
type = U;前のステートの状態を引き継ぐ
physics = N
poweradd= 110
velset = 0,0

[State 903, poweradd]
type = poweradd
trigger1 = !Time
value = -500

[State -2]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(1101) = 0
helpertype = normal
name = "oyazi"
stateno = 2221
id = 2201
pos = 40, -65
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 1100, ステート変更]
type = ChangeState
trigger1 = Time = 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;親父
[Statedef 2221]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 9996
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 2200, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 12
value = 100, 10

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 12
x = 10
y = -1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 0
y = 0

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 54
trigger1 = time < 77
x = -6
y = -3 

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 78
trigger1 = time < 100
x = -6
y = -6

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30*root,fvar(1)
priority = 3, Hit
guardflag = M
pausetime = 0,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-10
hitsound = s100, 11
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -4*const(size.xscale)
air.velocity = -3,-3
p2facing = 1
getpower = 0,0
givepower = 10,0
fall = 0
fall.recover = 0
air.fall = 0
id = 200
ground.cornerpush.veloff = 0

[State 0, ts]
type = ChangeState
triggerall = time <= 43
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 2230

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 2230
time = 0
ignorehitpause = 1

[State 3010, 2]
type = changestate
trigger1 = time >= 150
value = 2240
;---------------------------------------------------------------------------
;親父氏、無念の撤退
[Statedef 2230]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 9998
sprpriority = 3

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 25
trigger1 = time < 46
x = -6
y = -3 

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 49
trigger1 = time < 71
x = -6
y = -6

[State 3010, 2]
type = destroyself
trigger1 = time = 130
;---------------------------------------------------------------------------
;親父氏、奇蹟の帰還
[Statedef 2240]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 9997
sprpriority = 3

[State 10000]
type = null;Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 1010, 移動速度]
type = VelSet
triggerall = facing = 1
trigger1 = time > 250
trigger1 = (pos x - root,pos x) < 0
x = 6

[State 1010, 移動速度]
type = VelSet
triggerall = facing = 1
trigger1 = time > 250
trigger1 = (pos x - root,pos x) >= 0
x = -6

[State 1010, 移動速度]
type = VelSet
triggerall = facing = -1
trigger1 = time > 250
trigger1 = (pos x - root,pos x) < 0
x = -6

[State 1010, 移動速度]
type = VelSet
triggerall = facing = -1
trigger1 = time > 250
trigger1 = (pos x - root,pos x) >= 0
x = 6

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 250
trigger1 = (pos y - root,pos y) < -80
y = 6

[State 1010, 移動速度]
type = VelSet
trigger1 = time > 250
trigger1 = (pos y - root,pos y) >= -80
y = -6

[State 3010, 2]
type = destroyself
triggerall = time > 250
trigger1 = (pos x - root,pos x) = [-20,20]
trigger1 = (pos y - root,pos y) = [-90,-70]
trigger2 = root,stateno = 183
;---------------------------------------------------------------------------
;カウンター
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = AnimElem = 3
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 10,10
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1201

[State 1200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター 成功
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1211
ctrl = 0
sprpriority = 2

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 8
value = 1200, 0

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 0, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 45
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound   = s100, 5
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 12

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 5, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(5) >= 1 && Time < 35
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 8
trigger1 = Time < 15
x = 15

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 14
trigger1 = Time < 21
x = 7.5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 20
trigger1 = Time < 27
x = 3

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 26
x = 1.5

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 11
x = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = time <= 20
value = SCA

[State 702, すり抜け]
type = PlayerPush
trigger1 = Time > 8
value = 0

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 0, 円]
type = explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター　スパコン
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 3200]
type = StateTypeSet
trigger1 = enemy,movetype = A
movetype = A

[State 1009, 受け止め定義]
type = ReversalDef
trigger1 = AnimElem = 3
reversal.attr = SAC, AA             ;受け止める相手の攻撃属性を指定
;reversal.attr = SA, NA,SA,HA,NP,SP,HP ;（↑と意味は同じ）
pausetime     = 10,10
numhits       = 0
sparkno       = s810
sparkxy       = 6500,0
P1StateNo     = 1211

[State 1200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;カウンター 成功 スパコン
[Statedef 1211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 20
velset = 0,0
anim = 1211
ctrl = 0
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 0, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 45
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound   = s100, 5
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 12

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 5, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(5) >= 1 && Time < 35
time = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 8
trigger1 = Time < 15
x = 15

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 14
trigger1 = Time < 21
x = 7.5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 20
trigger1 = Time < 27
x = 3

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 26
x = 1.5

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 11
x = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = time <= 5
value = SCA

[State 702, すり抜け]
type = PlayerPush
trigger1 = Time > 8
value = 0

[State -2];ヘルパーやろう
type = helper
trigger1 = movecontact
triggerall = numhelper(3013) = 0 
ID = 3013
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3013
ownpal = 1

[State 1200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;シアーハート
[Statedef 1300]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1300
sprpriority = 2
facep2 = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "cear heart"
stateno = 1301
id = 1301
pos = 10, -10
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 10820, けむり]
type = Explod
trigger1 = Time = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 30,5
anim = 20018
sprpriority = 4
ownpal = 1

[State 400, 3]
type = null;CtrlSet
trigger1 = Time = 30
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
ctrl = 1
;---------------------------------------------------------------------------
; アタック
[Statedef 1301]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1301
sprpriority = -1
facep2 = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 1301
trigger1 = time = 0
attr = S, NP
damage = 5, 0
animtype = Light
guardflag = LA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
numhits = 0

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 1304
trigger1 = animelem = 3
attr = A, NP
damage    = 30*root,fvar(1),6
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 10,-5
air.velocity = -4,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
fall = 1
fall.recover = 0
affectteam = B

[State 1000, 7]
type = Helper
trigger1 = anim = 1301
trigger1 = MoveContact
trigger1 = numhelper(1302) = 0
helpertype = normal
name = "bom"
stateno = 1302
id = 1302
pos = 0, -20
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 15
value = 100, 13

[State 215]
type = VelSet
trigger1 = time = 15
x = 20

[State 215]
type = VelSet
trigger1 = time = 35
x = -20

[State 215　ヘルパー消滅]
type = changeanim
trigger1 = time = 55
value = 1304

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1304
trigger1 = animelem = 1
value = 300, 0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 1304
trigger1 = !animtime
;trigger2 = root,movetype = H
;---------------------------------------------------------------------------
; 爆発
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 1302
sprpriority = 4
facep2 = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 30*root,fvar(1),12
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
fall.recover = 0
fall = 1
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 1.3,-7
guard.velocity = 6
air.velocity = 3,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
airguard.velocity = 1,5
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
fall = 1
fall.recover = 0
affectteam = B

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 300, 1
channel = 0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = root,numhelper(1301) = 0
;---------------------------------------------------------------------------
;シアーハート 立ち
[Statedef 1303]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1303
sprpriority = 2
facep2 = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "kq"
stateno = 1310
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
helpertype = normal
name = "cear heart"
stateno = 1304
id = 1304
pos = 40, -65
postype = p1
ownpal = 1
facing = 1
size.xscale = 1
size.yscale = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0 
ctrl = 1
;---------------------------------------------------------------------------
; アタック
[Statedef 1304]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 7*parent,const(size.xscale)+parent,fvar(0),0
anim = 1301
sprpriority = -1
facep2 = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 0]
type = SprPriority
trigger1 = 1
value = -1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 1301
trigger1 = time = 0
attr = S, NA
damage = 5, 0
sprpriority = -1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12
numhits = 0

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 1304
trigger1 = animelem = 3
attr = A, NA
damage    = 30*root,fvar(1),6
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
fall = 1
fall.recover = 0
affectteam = B

[State 1000, 7]
type = Helper
trigger1 = anim = 1301
trigger1 = MoveContact
trigger1 = numhelper(1302) = 0
helpertype = normal
name = "bom"
stateno = 1305
id = 1302
pos = 0, -60
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 15
value = 100, 13

[State 215]
type = VelSet
trigger1 = time = 15
x = 20

[State 215]
type = VelSet
trigger1 = time = 35
x = -20

[State 215　ヘルパー消滅]
type = changeanim
trigger1 = time = 55
value = 1304

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1304
trigger1 = animelem = 1
value = 300, 0

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 1304
trigger1 = !animtime
;trigger2 = root,movetype = H
;---------------------------------------------------------------------------
; 爆発
[Statedef 1305]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 1302
sprpriority = 4
facep2 = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 30*root,fvar(1),12
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
fall.recover = 0
fall = 1
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 1.3,-7
guard.velocity = 11
air.velocity = 1.3,-7
air.velocity = 3,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
fall = 1
fall.recover = 0
affectteam = B

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 300, 1
channel = 0

[State 230, 2]
type = destroyself
trigger1 = root,numhelper(1304) = 0
;---------------------------------------------------------------------------
; kq
[Statedef 1310]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1200
sprpriority = 0
facep2 = 1

[State 0]
type = SprPriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 0, 円]
type = explod
trigger1 = animtime = -1
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Soff踏み潰し
[Statedef 460]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 460
sprpriority = 2
facep2 = 1

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 461
id = 1001
pos = 30, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 460, 0
channel = 0

[State 400, 3]
type = null;CtrlSet
trigger1 = Time = 30
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;キラークィーン
[Statedef 461]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
anim = 461
sprpriority = -1

[State 0]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 55*root,fvar(1), 0
animtype = Light
guardflag = H
hitflag = MAFD
priority = 2, Hit
pausetime = 8, 8
sparkno = s820
guard.sparkno = s840
sparkxy = -10, 0
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),6
air.hittime = 12
air.fall = 1
fall.recover = 0
;numhits = 0

[State 215]
type = PosSet
trigger1 = !time
y = -60

[State 215]
type = VelSet
trigger1 = time = [0,25]
y = -1

[State 215]
type = VelSet
trigger1 = time = [25,33]
x = 5
y = 10

[State 215]
type = VelSet
trigger1 = time = 33
x = 0
y = 0

[State 215]
type = PosSet
trigger1 = time = 33
y = 0

[State 191, 3]
type = PlaySnd
trigger1 = time = 31
value = 470,0

[State 215]
type = PosSet
trigger1 = !time
y = -50

[State 0, shake]
type = envshake
trigger1 = time = 33
time = 5
freq = 90
ampl = -5
phase = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 33
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -20,0
anim = 875
sprpriority = 4
ownpal = 1

[State 10820, けむり]
type = Explod
trigger1 = time = 33
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 20,0
anim = 876
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = null;PlaySnd
trigger1 = anim = 910
trigger1 = animelem = 1
value = 300, 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 462
;---------------------------------------------------------------------------
; 終了（弱）(スタンド)
[Statedef 462]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 462
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 462
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Son踏み潰し
[Statedef 10460]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 10460
sprpriority = 2
facep2 = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 7]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 10461
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 460, 0
channel = 0

[State 400, 3]
type = null;CtrlSet
trigger1 = Time = 30
value = 1

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sonぶっ潰してやる！KQダミー
[Statedef 10461]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
anim = 10461
sprpriority = -1

[State 0]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 55*root,fvar(1), 0
animtype = Light
guardflag = H
hitflag = MAFD
priority = 2, Hit
pausetime = 8, 8
sparkno = s820
guard.sparkno = s840
sparkxy = -10, 0
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),6
air.hittime = 12
air.fall = 1
fall.recover = 0
;numhits = 0

[State 215]
type = null;PosSet
trigger1 = !time
y = -60

[State 215]
type = VelSet
trigger1 = time = [0,10]
y = -5

[State 215]
type = VelSet
trigger1 = time = [10,20]
y = -0.1

[State 215]
type = VelSet
trigger1 = time = [20,25]
y = -1

[State 215]
type = VelSet
trigger1 = time = [25,33]
x = 5
y = 10

[State 215]
type = VelSet
trigger1 = time = 33
x = 0
y = 0

[State 215]
type = VelSet
trigger1 = time = [50,62]
x = -5

[State 215]
type = PosSet
trigger1 = time = 33
y = 0

[State 191, 3]
type = PlaySnd
trigger1 = time = 31
value = 470,0

[State 0, shake]
type = envshake
trigger1 = time = 33
time = 5
freq = 90
ampl = -5
phase = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 33
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = -20,0
anim = 875
sprpriority = 4
ownpal = 1

[State 10820, けむり]
type = Explod
trigger1 = time = 33
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 20,0
anim = 876
sprpriority = 4
ownpal = 1

[State 400, 音を鳴らす]
type = null;PlaySnd
trigger1 = anim = 910
trigger1 = animelem = 1
value = 300, 0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 10460 
;---------------------------------------------------------------------------
;Son第一の爆弾
[Statedef 11000]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 11000
sprpriority = 2
facep2 = 1

[State 0, EB解除]
type = parentvarset
triggerall = !time
trigger1 = command = "QCF_x" || command = "QCF_y" || command = "QCF_z"
var(8) = 0

[State 1000, 7]
type = Helper
trigger1 = !Time
helpertype = normal
name = "killer queen"
stateno = 11099
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00
;pausemovetime = 999999

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1000, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 0, 3
channel = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 8

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 6, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son第一の爆弾ダミー
[Statedef 11099]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11099
sprpriority = 2
facep2 = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, nhb]
type = nothitby
trigger1 = root,var(49) = 10000
value = SCA
time = 1

[State 1010, 移動速度]
type = null;posadd
trigger1 = root,var(49) != 10000
x = 10
persistent = 0
ignorhitpause = 1

[State 1065, 3]
type = bindtoparent
triggerall = root,var(49) = 10000
trigger1 = !time
pos = 0,0
time = 1
ignorehitpause = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 8

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 5, 0
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 12
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime  = 16
guard.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 0, 円]
type = explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
triggerall = root,var(49) = 10000
trigger1 = animtime = 0
;trigger2 = root,stateno != 11000

[State 230, 2]
type = changestate
triggerall = root,var(49) = 0
trigger1 = time = 58
value = 1002
;---------------------------------------------------------------------------
;Son第一の爆弾
[Statedef 11020]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 11000
sprpriority = 2
facep2 = 1

[State 0, EB解除]
type = parentvarset
triggerall = !time
trigger1 = command = "QCF_x" || command = "QCF_y" || command = "QCF_z"
var(8) = 0

[State 1000, 7]
type = Helper
trigger1 = !Time
helpertype = normal
name = "killer queen"
stateno = 11097
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1000, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 0, 3
channel = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 8

[State 1000, 7]
type = Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = -10, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 3
value = 6, 12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son第一の爆弾ダミー
[Statedef 11097]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 11099
sprpriority = 2
facep2 = 1

[State 0, nhb]
type = nothitby
trigger1 = root,var(49) = 10000
value = SCA
time = 1

[State 1065, 3]
type = bindtoparent
trigger1 = root,var(49) = 10000
trigger1 = !time
pos = 0,0
time = 1
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1010, 移動速度]
type = VelSet
trigger1 = time = 28
x = 8

[State 901, Throw]
type = attackdist
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 5, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 12
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 40
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -76
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime  = 16
guard.hittime  = 16
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 1000, 7]
type = Helper
trigger1 = Movehit
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1010
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 1000, 7]
type = Helper
trigger1 = Time = 5
trigger1 = numhelper(11050) = 0
helpertype = normal
name = "efect"
stateno = 11050
id = 11050
pos = 10, -132
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.75
size.yscale = 0.75

[State 0, 円]
type = explod
trigger1 = movehit
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
triggerall = root,var(49) = 10000
trigger1 = animtime = 0
;trigger2 = root,stateno != 11000

[State 230, 2]
type = changestate
triggerall = root,var(49) = 0
trigger1 = time = 58
value = 1002
;---------------------------------------------------------------------------
;Son空気弾
[Statedef 11100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11100
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11105
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, 操作アニメ]
type = ChangeState
triggerall = numhelper(3102)
trigger1 = helper(3102),var(25) = 1
value = 11195

[State 3000, ステート変更]
type = ChangeState
triggerall = time >= 30
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = numhelper(3102) = 1
trigger3 = helper(3102),anim = 3103
value = 11101
;---------------------------------------------------------------------------
;Son空気弾B
[Statedef 11190]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3000, 操作アニメ]
type = ChangeState
triggerall = numhelper(3102)
trigger1 = helper(3102),var(25) = 1
value = 11195

[State 3000, ステート変更]
type = ChangeState
;triggerall = time >= 70
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = helper(3102),anim = 3103
value = 11101
;---------------------------------------------------------------------------
;Son空気弾操作ポーズ
[Statedef 11195]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 200,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
;triggerall = time >= 70
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = numhelper(3102) = 1
trigger3 = helper(3102),anim = 3103
value = 11101

[State 3000, ステート変更]
type = ChangeState
trigger1 = time >= 12
value = 11190
;---------------------------------------------------------------------------
;Son空気弾　戻り
[Statedef 11101]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11101
ctrl = 0
sprpriority = 2

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;空気弾 bom
[Statedef 11105]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 100*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1,-6
air.velocity = -1,-3
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 11101
trigger1 = root,animelem = 1
trigger2 = root,stateno = 11101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
;trigger3 = root,movetype = H
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 4
x = 0.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11106
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,stateno = 700; || root,stateno = 2100
trigger5 = root,numhelper(1003)
trigger6 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger6 = time >= 20
trigger6 = anim = 3102
trigger6 = root,command = "LM"
trigger7 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger7 = time >= 20
trigger7 = anim = 3102
trigger7 = root,command = "MH"
trigger8 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger8 = time >= 20
trigger8 = anim = 3102
trigger8 = root,command = "LH"
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger12 = anim = 3102
trigger12 = root,stateno = 3005 || root,stateno = 13005
trigger13 = numhelper(3013)
trigger14 = root,stateno = 3301 || root,stateno = 13302
trigger15 = helper(1001),stateno = [1001,1009]
trigger15 = helper(1001),movehit
trigger16 = helper(1001),stateno = [11097,11099]
trigger16 = helper(1001),movehit
;---------------------------------------------------------------------------
;SC空気弾 bom　極小
[Statedef 11106]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 1
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 120,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 11101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11107
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger2= time >= 20
trigger2 = anim = 3102
trigger2 = root,command = "LM"
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger3= time >= 20
trigger3 = anim = 3102
trigger3 = root,command = "MH"
trigger4 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger4= time >= 20
trigger4 = anim = 3102
trigger4 = root,command = "LH"
trigger5 = root,stateno = 700; || root,stateno = 2100
trigger6 = root,numhelper(1003)
trigger7 = root,stateno = [810,811]
trigger8 = root,stateno = [10810,10811]
trigger9 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger10 = anim = 3102
trigger10 = root,stateno = 3005 || root,stateno = 13005
trigger11 = numhelper(3013)
trigger12 = root,stateno = 3301 || root,stateno = 13302
trigger13 = anim = 3102
trigger13 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger13 = root,time =14
trigger14 = anim = 3102
trigger14 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger14 = root,time =14
trigger15 = helper(1001),stateno = [1001,1009]
trigger15 = helper(1001),movehit
trigger16 = helper(1001),stateno = [11097,11099]
trigger16 = helper(1001),movehit
;---------------------------------------------------------------------------
;SC空気弾 bom　最小
[Statedef 11107]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 1
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 120,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 11101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 700; || root,stateno = 2100
trigger3 = root,numhelper(1003)
trigger4 = root,stateno = [810,811]
trigger5 = root,stateno = [10810,10811]
trigger6 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger7 = anim = 3102
trigger7 = root,stateno = 3005 || root,stateno = 13005
trigger8 = numhelper(3013)
trigger9 = root,stateno = 3301 || root,stateno = 13302
trigger10 = anim = 3102
trigger10 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger10 = root,time =14
trigger11 = anim = 3102
trigger11 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger11 = root,time =14
trigger12 = helper(1001),stateno = [1001,1009]
trigger12 = helper(1001),movehit
trigger13 = helper(1001),stateno = [11097,11099]
trigger13 = helper(1001),movehit
;---------------------------------------------------------------------------
;Son空気弾M
[Statedef 11110]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11100
ctrl = 0
sprpriority = 2

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11115
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, 操作アニメ]
type = ChangeState
triggerall = numhelper(3102)
trigger1 = helper(3102),var(25) = 1
value = 11195

[State 3000, ステート変更]
type = ChangeState
triggerall = time >= 30
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = numhelper(3102) = 1
trigger3 = helper(3102),anim = 3103
value = 11101
;---------------------------------------------------------------------------
;空気弾 bom
[Statedef 11115]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 100*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -1,-6
air.velocity = -1,-3
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 11101
trigger1 = root,animelem = 1
trigger2 = root,stateno = 11101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11190
trigger5 = root,var(59)=1
trigger5 = time  >= 5
trigger5 = p2bodydist x = [-50,50]

value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 4
x = 0.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = [11100,11110]
trigger1 = root,var(59)=0
trigger1 = root,command = "LM"
trigger2 = root,var(59)=0
trigger2 = root,command = "MH"
trigger3 = root,var(59)=0
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11106
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,stateno = 700; || root,stateno = 2100
trigger5 = root,numhelper(1003)
trigger6 = root,stateno = [11100,11110]
trigger6 = time >= 20
trigger6 = anim = 3102
trigger6 = root,command = "LM"
trigger7 = root,stateno = [11100,11110]
trigger7 = time >= 20
trigger7 = anim = 3102
trigger7 = root,command = "MH"
trigger8 = root,stateno = [11100,11110]
trigger8 = time >= 20
trigger8 = anim = 3102
trigger8 = root,command = "LH"
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger12 = anim = 3102
trigger12 = root,stateno = 3005 || root,stateno = 13005
trigger13 = numhelper(3013)
trigger14 = root,stateno = 3301 || root,stateno = 13302
trigger15 = helper(1001),stateno = [1001,1009]
trigger15 = helper(1001),movehit
trigger16 = helper(1001),stateno = [11097,11099]
trigger16 = helper(1001),movehit
;---------------------------------------------------------------------------
;Son接触空気弾
[Statedef 11120]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 11120
ctrl = 0
sprpriority = 2

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 15
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 15
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 11122
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 15
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
trigger2 = time >= 30
trigger2 = numhelper(3102) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;接触空気弾 bom
[Statedef 11122]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1022
ctrl = 0
sprpriority = 3

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT,AA 
time = 1

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 11125
time = 0
ignorehitpause = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 3103
trigger1 = animelem = 3
attr = A, NP
damage    = 100*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -8,-5
air.velocity = -8,-3
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 1022
trigger1 = time = 0
attr = S, NP
damage = 0, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
getpower = 0
givepower = 0
pausetime = 0, 20
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10, -76
hitsound = s9997, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.hittime  = 0
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 0
numhits = 0

[State 230, 2]
type = changeanim
triggerall = anim = 1022
trigger1 = movecontact
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 15

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
x = 1.8

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 1022
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 1022
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = anim = 1022
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger8 = anim = 1022
trigger8 = root,stateno = 3005 || root,stateno = 13005
trigger9 = numhelper(3013)
trigger10 = root,stateno = 3301 || root,stateno = 13302
;---------------------------------------------------------------------------
;接触空気弾相殺時爆発
[Statedef 11125]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 910
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 100*root,fvar(1),30
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = -3,-6
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recovertime = 60
affectteam = B

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;小石を爆弾に変えた
[Statedef 11400]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 11400
sprpriority = 0
facep2 = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1400, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = time = 12
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 11405
id = 1003
pos = 11, 0
postype = p1
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = .6
size.yscale = .4

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;小石爆弾
[Statedef 11405]
type = S
ctrl = 0
anim = 11406
velset = 0,0
sprpriority = 5

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, scale]
type = null;angledraw
trigger1 = time >= 0
scale = 1+(time)*.06,1+(time)*.06

[State 0, scale]
type = null;Trans
trigger1 = time >= 0
trans = addalpha
alpha = 256+(time)*-18,256

[State 200, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem =  2
value = 6,5

[State 301,ヘルパー]
type = Helper
triggerall = numhelper(1004) = 0
trigger1 = root,stateno = 1005 || root,stateno = 11030
trigger1 = root,movetype !=A
helpertype = normal
name = "bom"
stateno = 11408
id = 1004
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, コア]
type = explod
trigger1 = 1
anim = 11405
id = 11405
pos = 3,0
postype = p1
sprpriority = 5
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999
removetime = 1

[State 181, 無敵]
type = destroyself
trigger1 = time = 500
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
;trigger3 = anim = 1022
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1004) != 0
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = root,stateno = 3100 || root,stateno = 13100
trigger8 = root,stateno = 3200 || root,stateno = 13200
trigger9 = root,stateno = 3005 || root,stateno = 13005
trigger10 = numhelper(3013)
trigger11 = helper(1001),stateno = [1001,1009]
trigger11 = helper(1001),movehit
trigger12 = helper(1001),stateno = [11097,11099]
trigger12 = helper(1001),movehit
trigger13 = root,stateno = 11400 || root,stateno = 11410 || root,stateno = 11420
trigger13 = root,time =12
trigger14 = root,stateno = 13302
;---------------------------------------------------------------------------
; 爆発
[Statedef 11408]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 910
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.3,0.3
;pausemovetime = 999999
supermovetime = 999999

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 90*root,fvar(1),20
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = -3,-6
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recovertime = 60
affectteam = B
guard.kill = 0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;小石を爆弾に変えた H
[Statedef 11420]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 11400
sprpriority = 0
facep2 = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1400, 0
channel = 0

[State 1000, 7]
type = Helper
trigger1 = time = 12
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 11425
id = 1003
pos = 11, 0
postype = p1
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = .6
size.yscale = .4

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;小石爆弾 H
[Statedef 11425]
type = S
ctrl = 0
anim = 11406
velset = 0,0
sprpriority = 5

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, scale]
type = null;angledraw
trigger1 = time >= 0
scale = 1+(time)*.06,1+(time)*.06

[State 0, scale]
type = null;Trans
trigger1 = time >= 0
trans = addalpha
alpha = 256+(time)*-18,256

[State 200, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem =  2
value = 6,5

[State 301,ヘルパー]
type = Helper
triggerall = numhelper(1004) = 0
trigger1 = p2bodydist x = [-20,20]
trigger1 = p2bodydist y = 0
helpertype = normal
name = "bom"
stateno = 11428
id = 1004
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, コア]
type = explod
trigger1 = 1
anim = 11405
id = 11405
pos = 3,0
postype = p1
sprpriority = 5
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999
removetime = 1

[State 181, 無敵]
type = destroyself
trigger1 = time = 500
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
;trigger3 = anim = 1022
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1004) != 0
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = root,stateno = 3100 || root,stateno = 13100
trigger8 = root,stateno = 3200 || root,stateno = 13200
trigger9 = root,stateno = 3005 || root,stateno = 13005
trigger10 = numhelper(3013)
trigger11 = helper(1001),stateno = [1001,1009]
trigger11 = helper(1001),movehit
trigger12 = helper(1001),stateno = [11097,11099]
trigger12 = helper(1001),movehit
trigger13 = root,stateno = 11400 || root,stateno = 11410 || root,stateno = 11420
trigger13 = root,time =12
trigger14 = root,stateno = 13302
;---------------------------------------------------------------------------
; 爆発
[Statedef 11428]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 910
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
trigger1 = !time
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.3,0.3
;pausemovetime = 999999
supermovetime = 999999

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 90*root,fvar(1),20
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
getpower = ifelse(helper(8500),fvar(8)=0,100,100*1.1)
givepower = 40
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,-6
air.velocity = -3,-6
p2facing = 1
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recovertime = 60
affectteam = B
guard.kill = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;空気弾のクッション
[Statedef 11600]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 11600
sprpriority = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 0
value = -100

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1600, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 6, 11

[State 1000, 7]
type = Helper
trigger1 = animelem = 5
trigger1 = numhelper(11602) = 0
helpertype = normal
name = "airbug"
stateno = 11602
id = 11602
pos = 0, -70
postype = p1
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = .5
size.yscale = .5

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;クッション
[Statedef 11602]
type = S
ctrl = 0
anim = 11602
velset = 0,0
sprpriority = 5

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, scale]
type = null;angledraw
trigger1 = time >= 0
scale = 1+(time)*.06,1+(time)*.06

[State 0, scale]
type = null;Trans
trigger1 = time >= 0
trans = addalpha
alpha = 256+(time)*-18,256

[State 200, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem =  2
value = 6,5

[State 1065, 3]
type = bindtoparent
trigger1 = root,statetype != C
pos = 10,-80
time = 1
ignorehitpause = 1

[State 1065, 3]
type = bindtoparent
trigger1 = root,statetype = C
trigger1 = 1
pos = 10,-40
time = 1
ignorehitpause = 1

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 11603
time = 0
ignorehitpause = 1

[State 181, 無敵]
type = destroyself
trigger1 = time = 100
trigger2 = root,movetype = H && root,stateno != [120,159]
trigger3 = roundstate != 2
trigger4 = root,var(49) = 0
;---------------------------------------------------------------------------
;クッション・無敵時間
[Statedef 11603]
type = S
ctrl = 0
anim = 36400
velset = 0,0
sprpriority = -1

[State 181, 無敵]
type = destroyself
trigger1 = time = 15
;===========================================================================
; 超必殺技
;===========================================================================
;---------------------------------------------------------------------------
; 最初のM.U.G.E.Nから存在するカンフーマンの超必殺技。
; 超必なので攻撃を当ててもゲージを増やさないようにする事に気を付けるだけで、
; 後は結構簡単な処理にまとめられてる。
; 超必時の暗転用の処理（SuperPause）にも刮目せよ！m9っ｀Д´)
;---------------------------------------------------------------------------
;第一の爆弾SC
[Statedef 3000]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,0
channel = 0

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 30]
type = null;NotHitBy  
trigger1 = numhelper(3003) = 1
value = SCA

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 60
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 50
x = 8

[State 3000, 移動速度]
type = Veladd
trigger1 = !moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.2

[State 3000, 移動速度]
type = Veladd
trigger1 = moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.3

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "are"
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = -3
stateno = 3020
ownpal = 1
size.xscale = .9
size.yscale = 1.07

[State -2];ヘルパーやろう
type = null;helper
trigger1 = time = 51  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3001
ownpal = 1

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23099
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 3000]
type = ChangeState
triggerall = numhelper(3003) = 1
trigger1 = Time = 85
value = 3002

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 0
guardflag = MA
pausetime = 0,120
guard.pausetime = 0,20
sparkno = -1
sparkxy = -10,-37
hitsound   = s1,9
guardsound = s1, 5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0,0
p1stateno = 3005
p2facing = 1
p2stateno = 3006
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;第一の爆弾SC　ヘルパー
[Statedef 3001]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 2

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 0
guardflag = MA
pausetime = 0,120
guard.pausetime = 0,20
sparkno = 0
sparkxy = -10,-37
hitsound   = s100, 5
guardsound = s1, 5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0,0

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State -2];ヘルパーやろう
type = helper
trigger1 = movehit
triggerall = numhelper(3003) = 0 
ID = 3003
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3003
ownpal = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = Time = 20
;---------------------------------------------------------------------------
;第一の爆弾SC　ヘルパー2
[Statedef 3003]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 2

[State 1027, 位置]
type = PosSet
trigger1 = 1
x = enemynear,pos x 
y = enemynear,pos y 

[State 1000, 7]
type = Helper
triggerall = numhelper(3004) = 0
trigger1 = root,stateno = 3002 && root,time = 5
helpertype = normal
name = "bom"
stateno = 3004
id = 3004
pos = 0, -60
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1.5
size.yscale = 1.5

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,stateno != [3000,3002]
;---------------------------------------------------------------------------
;爆破する
[Statedef 3002]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3002
ctrl = 0
sprpriority = 2

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,1
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 2

[State 1000, VarSet]
type = VarSet
trigger1 = animelem = 7
var(5) = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 爆発
[Statedef 3004]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 912
sprpriority = 4
facep2 = 1

[State 0, D4爆発]
type = explod
triggerall = numhelper(914) = 0
trigger1 = !time
anim = 914
id = 914
pos = 0,-60
postype = p2
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.8,0.8
;pausemovetime = 999999
supermovetime = 999999
;
[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, HA
damage = 190+(root,var(40)*2)
;damage    = ifelse(root,var(40)<15,200,ifelse(root,var(40)<30,180,150))
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -1.3,-25
guard.velocity = -11
air.velocity = -1.3,-25
airguard.velocity = -4.5,-5
envshake.time = 25        ;攻撃を当てた場合の画面振動の処理
envshake.ampl = 7
envshake.freq = 176
getpower = 10
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recover = 0          ;相手は空中受け身が出来なくなる

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,2

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;SC投げ成功（後方）
[Statedef 3005]
type    = S
movetype= A
physics = N
anim = 3005
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, end]
type = null;changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 20
ampl = -8
freq = 80

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 8
value = 3010,3
channel = 0

[State 0, pause]
type = pause
;trigger1 = time = [8,10]
;trigger1 = time % 2= 0
trigger1 = Time = 2
time = 8
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 12
time = 5
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 14
time = 2
movetime = 0

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 8
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 20,-80
anim = 912
sprpriority = 0
ownpal = 1
scale = 1.2,1.2

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 8
anim = 914
id = 914
postype = p2
pos = 20,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .8,.8
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 8
value = 300,2

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 8
value = 0,5

[State 0, pos]
type = null;playsnd
trigger1 = time = 25
value = 810,0
channnel = 0

[State 3001, Width]
type = null;Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 40, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 10
value = ifelse(helper(8500),fvar(8)=0,-180-(var(40)*1),(-180-(var(40)*1))*1.1)

[State 1027, Sound]
type = null;PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1061, 2]
type = Velset
trigger1 = time = [9,13]
x = 5

[State 1061, 2]
type = Velset
trigger1 = time = [13,38]
x = 3

[State 1061, 2]
type = Veladd
trigger1 = vel x > 0
trigger1 = time = [38,58]
x = -0.15

[State 0, pos]
type = null;playsnd
trigger1 = Time = 50
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = Time = 58
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側(後)
[Statedef 3006]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 52, 1]
type = Turn
trigger1 = time = 0
trigger1 = facing = enemynear,facing

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 3006

[State 1060, 2]
type = changeanim
trigger1 = SelfAnimExist(5052)
trigger1 = Time = 8
value = 5052

[State 1061, 2]
type = PalFX
trigger1 = enemynear,numhelper(1001)=0
trigger1 = Time = 10
time = 40
add = 128,24,0
mul = 90,64,64
sinadd = 90,90,90,4
color = 150

[State 1061, 2]
type = Velset
trigger1 = time = [8,11]
y = -6
x = 25

[State 1061, 2]
type = Velset
trigger1 = time = [11,18]
y = -3
x = 6

[State 1061, 2]
type = Velset
trigger1 = time = 18
y = 0
x = 2

[State 1061, 2]
type = Veladd
trigger1 = time >= 8
y = .3

[State 1061, 2]
type = Velset
trigger1 = time > 8
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 8
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;第一の爆弾SCvar2
[Statedef 3010]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 30]
type = NotHitBy  
trigger1 = numhelper(3013) = 1
value = SCA

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,0
channel = 0

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 60
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 50
x = 8

[State 3000, 移動速度]
type = Veladd
trigger1 = !moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.2

[State 3000, 移動速度]
type = Veladd
trigger1 = moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.3

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "are"
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = -3
stateno = 3021
ownpal = 1
size.xscale = .9
size.yscale = 1.07

[State -2];ヘルパーやろう
type = helper
trigger1 = time = 51  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3011
ownpal = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;第一の爆弾SCvar2　ヘルパー
[Statedef 3011]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 2

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 0
guardflag = MA
pausetime = 0,30
guard.pausetime = 0,20
sparkno = 0
sparkxy = -10,-37
hitsound   = s100, 5
guardsound = s1, 5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0,0
fall = 0
air.fall = 1
fall.recover = 0

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State -2];ヘルパーやろう
type = helper
trigger1 = movecontact
triggerall = numhelper(3013) = 0 
ID = 3013
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3013
ownpal = 1

[State 0, 円]
type = explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = Time = 20
;---------------------------------------------------------------------------
;第一の爆弾SCvar2　ヘルパー2
[Statedef 3013]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3001
ctrl = 0
sprpriority = 2

[State 1027, 位置]
type = PosSet
trigger1 = 1
x = enemynear,pos x 
y = enemynear,pos y 

[State 181, ]
type = AttackDist
trigger1 = 1
value = 0

[State 1000, 7]
type = Helper
triggerall = !numhelper(3004)
trigger1 = root,stateno = 3012 || root,stateno = 13012
trigger1 = root,movetype !=A
helpertype = normal
name = "bom"
stateno = 3014
id = 3004
pos = 0, -60
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1.5
size.yscale = 1.5

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,stateno != [120,153]
trigger1 = root,movetype = H
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger8 = root,stateno = 3005 || root,stateno = 13005
trigger9 = numhelper(3004)
;---------------------------------------------------------------------------
;爆破する
[Statedef 3012]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 3012
ctrl = 0
sprpriority = 2

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 2

[State 1000, VarSet]
type = VarSet
trigger1 = animelem = 7
var(5) = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 爆発
[Statedef 3014]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 3014
sprpriority = 4
facep2 = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage = 190+(root,var(40)*2)
animtype  = hard
hitflag = MAFD
guardflag = M
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 26
ground.hittime  = 26
ground.velocity = -1.3,-25
guard.velocity = -11
air.velocity = -1.3,-25
airguard.velocity = -4.5,-5
envshake.time = 25        ;攻撃を当てた場合の画面振動の処理
envshake.ampl = 7
envshake.freq = 176
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
fall = 1
fall.recover = 0          ;相手は空中受け身が出来なくなる

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 300,2

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;第一の爆弾SCvar2　kqヘルパー
[Statedef 3020]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 10020
ctrl = 0
sprpriority = 0

[State 30]
type = NotHitBy  
trigger1 = 1
value = SCA

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = root,stateno != 3000
value = 3022
;---------------------------------------------------------------------------
;第一の爆弾SCvar2　kqヘルパー
[Statedef 3021]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 10020
ctrl = 0
sprpriority = 0

[State 30]
type = NotHitBy  
trigger1 = 1
value = SCA

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 0,0
time = 1
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = root,stateno != 3010
value = 3022
;---------------------------------------------------------------------------
;第一の爆弾SCvar2　kqヘルパー 消滅
[Statedef 3022]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 3022
ctrl = 0
sprpriority = 0

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;空気弾SC
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 810, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA, NT,ST,HT
time = 40

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 56
x = -10

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 62
x = -5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 65
x = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 46
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3100,0
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = Time = 52
value = 100, 20

[State 0, explod]
type = explod
trigger1 = Time = 42
anim = 915
id = 915
pos = 30,-77
postype = p1
bindtime = 1
scale = .45,.7
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "kq"
id = 1001
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = 2
stateno = 3101
ownpal = 1
size.xscale = .833
size.yscale = 1.00
supermovetime = 9999999
pausemovetime = 9999999

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;空気弾SC stand
[Statedef 3101]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3110
ctrl = 0
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 8
value = 100,20

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 25,0
time = 1
ignorehitpause = 1

[State 702, helper]
type = helper
trigger1 = animelem = 7
helpertype = normal
name = "ab"
id = 3102
pos = 15,-80
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 3102
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger2 = animtime = 0
value = 3103
;---------------------------------------------------------------------------
;空気弾SC bom
[Statedef 3102]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NP
damage    = 160*root,fvar(1), 30
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger2 = root,stateno = 11040
;trigger1 = root,anim = 3104 && root,animelem = 5
;trigger2 = root,stateno = 11040 && root,animelem = 2
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
x = 0.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
;trigger4 = root,numhelper(1003)
trigger4 = root,stateno = [810,811]
trigger5 = root,stateno = [10810,10811]
trigger6 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger6 = root,time = 0
trigger7 = anim = 3102
trigger7 = time > 40
trigger7 = numhelper(3102) > 1
trigger8 = numhelper(3013)
trigger9 = root,stateno = 3301 || root,stateno = 13302
trigger10 = helper(1001),stateno = [1001,1009]
trigger10 = helper(1001),movehit
trigger11 = helper(1001),stateno = [11097,11099]
trigger11 = helper(1001),movehit
;---------------------------------------------------------------------------
; 終了（スタンド)
[Statedef 3103]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3111
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3111
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; ポーズ
[Statedef 3104]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 3104
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 100, 2

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 1015
id = 1001
pos = 10, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 1010, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;接触空気弾SC
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 810, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA, NT,ST,HT
time = 40

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 56
x = -10

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 62
x = -5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 65
x = 0

[State 10820, けむり]
type = Explod
trigger1 = time = 56
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3100,0
channel = 0

[State 0, ]
type = PlaySnd
trigger1 = Time = 52
value = 100, 20

[State 0, explod]
type = explod
trigger1 = Time = 42
anim = 915
id = 915
pos = 30,-77
postype = p1
bindtime = 1
scale = .45,.7
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "kq"
id = 1001
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = 2
stateno = 3201
ownpal = 1
size.xscale = .833
size.yscale = 1.00
supermovetime = 9999999
pausemovetime = 9999999

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;空気弾SC stand
[Statedef 3201]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3110
ctrl = 0
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 8
value = 100,20

[State 1065, 3]
type = bindtoparent
trigger1 = 1
pos = 25,0
time = 1
ignorehitpause = 1

[State 702, helper]
type = helper
trigger1 = animelem = 7
helpertype = normal
name = "ab"
id = 3102
pos = 15,-80
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 3202
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 3103
;---------------------------------------------------------------------------
;空気弾SC bom
[Statedef 3202]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3202
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 3103
trigger1 = animelem = 3
attr = A, NP
damage    = 160*root,fvar(1), 30
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 3202
trigger1 = time = 0
attr = S, NP
damage = 0, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 10
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10, -76
hitsound = s9997, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
guard.hittime  = 0
ground.velocity = 0*const(size.xscale)
air.type = High
air.velocity = 0*const(size.xscale),0
air.hittime = 0
numhits = 0

[State 230, 2]
type = changeanim
triggerall = anim = 3202
trigger1 = movecontact
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3202
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3203
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
x = 1

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3202
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3202
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger7 = root,time = 0
trigger8 = anim = 3202
trigger8 = time > 40
trigger8 = numhelper(3102) > 1
trigger9 = numhelper(3013)
trigger10 = root,stateno = 3301 || root,stateno = 13302
trigger11 = helper(1001),stateno = [1001,1009]
trigger11 = helper(1001),movehit
trigger12 = helper(1001),stateno = [11097,11099]
trigger12 = helper(1001),movehit
;---------------------------------------------------------------------------
;チャンスは訪れた
[Statedef 3300]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 0, 猫草もいるけど]
type = explod
trigger1 = !time
anim = 3390
id = 3390
pos = 50,-110
postype = p1
ownpal = 1
shadow = 0,0,0
scale = 1,1
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent = 0
ignorehitpause = 1
bindtime = -1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 80
Time = 80
ctrl = 0
anim = -1
darken = 1

[State 4200,02]
type = null;BGPalfx
trigger1 = Time = 0
mul = 64,64,64
time = 80
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = time <= 80
value = SCA
time = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3300,0
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 9
value = 6,12
persistent = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = numtarget
value = 6,12
ignorehitpause = 1
persistent = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 80
value = 3300,1
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 3305
id = 1001
pos = 25, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00
pausemovetime = 80
supermovetime = 80
;OwnPal=1

[State 1035, 2]
type = ReversalDef
trigger1 = AnimElem = 7
attr = S, SA
reversal.attr = SCA, NA, SA, HA
pausetime = 41,41
sparkno = -1
sparkxy = 0,0
;hitsound = S1300,1

[State 903, EnvShake]
type = EnvShake
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
time = 20
ampl = -8
freq = 80
ignorehitpause = 1
persistent = 0

[State -2]
type = PalFX
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
time = 30
add = 120,120,120
sinadd = 40,40,40,35
ignorehitpause = 1
persistent = 0

[State 0, 円]
type = explod
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
anim = 864
id = 864
pos = 10,-70
postype = p1
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent = 0
ignorehitpause = 1

[State 220, 3]
type = TargetState
triggerall = numtarget
triggerall = animelemtime(7) >= 0 && !target,Ishelper
triggerall = target,movetype != H
trigger1 = movehit
value = 3330
ignorehitpause = 1

[State 220, 3]
type = ChangeState
triggerall = numtarget
triggerall = animelemtime(7) >= 0 && !target,Ishelper
triggerall = target,movetype != H
trigger1 = movehit
value = 3301
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;チャンスは訪れた 成功
[Statedef 3301]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3301
ctrl = 0
sprpriority = 2

[State 10000]
type = Turn
triggerall = !time
trigger1 = facing = target,facing
;trigger2 = pos x - target,pos x < -100

[State 0, 0]
type = PosAdd
trigger1 = frontedgebodydist <= 100
trigger1 = time = 0
x = -70

[State 901,1]
type = null;targetBind
trigger1 = time = 0
pos = 40, 0
postype = P1
time = 1

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 3300,2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 0,4

[State 0, explod]
type = explod
trigger1 = time = 30
anim = 915
id = 915
pos = 15,-85
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 702, helper]
type = helper
trigger1 = time = 30
helpertype = normal
name = "ab"
id = 3102
pos = 25,-85
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 3310
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1000, ステート変更]
type = pause
triggerall = time = [7,14]
trigger1 = !(time%2)
time = 1
movetime = 0
[State 1000, ステート変更]
type = pause
triggerall = time = [14,21]
trigger1 = !(time%2)
time = 2
movetime = 0

[State 1000, ステート変更]
type = Changeanim
triggerall = anim = 3301
triggerall = time > 40
trigger1 = numhelper(3102) = 0
trigger2 = time = 200
value = 3302

[State 1000, ステート変更]
type = ChangeState
triggerall = anim = 3302
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;チャンスは訪れた キラークイーン
[Statedef 3305]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 3305
sprpriority = 0
facep2 = 1

[State 1000, 7]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "ab"
stateno = 3320
id = 3320
pos = 15, -85
postype = p1
ownpal = 1
facing = 1
;bindtime = 999999
sprpriority = 3
size.xscale = .5
size.yscale = .5

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 5,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7]
type = null;Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 0, 円]
type = null;explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1000, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = time <= 80
value = SCA
time = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = anim = 3305
trigger1 = root,stateno = 3301
value = 3307

[State 230, 2]
type = changeanim
trigger1 = anim = 3305
trigger1 = root,stateno != 3300
value = 3306

[State 230, 2]
type = changestate
trigger1 = anim = 3306
trigger1 = animtime = 0
value = 232
;---------------------------------------------------------------------------
;チャンスは訪れた キラークイーン 成功
[Statedef 3307]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 3307
sprpriority = 0
facep2 = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 0,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = 1
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = changeanim
trigger1 = anim = 3307
trigger1 = root,stateno != 3301
value = 3308

[State 230, 2]
type = changestate
trigger1 = anim = 3308
trigger1 = animtime = 0
value = 232
;---------------------------------------------------------------------------
;空気弾SC bom
[Statedef 3310]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3202
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = anim = 3103
trigger1 = animelem = 3
attr = A, NP
damage    = ifelse(root,life <= 300,275*root,fvar(1),250*root,fvar(1)), 30
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5,-8
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -8
envshake.freq = 80

[State 230, 2]
type = changeanim
triggerall = anim = 3202
trigger1 = P2bodyDist X = [-30,-20]
trigger1 = enemynear,anim != 5110
trigger1 = enemynear,anim != 3330
trigger2 = time > 100
value = 3103

[State 230, 2]
type = AngleDraw
trigger1 = anim = 3103
scale = 3,3
ignorehitpause = 1
;persistent = 0

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 2

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3202
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3203
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 10

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
trigger1 = P2bodyDist X > 10
x = 2

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
trigger1 = P2bodyDist X = [-20,10]
x = 1

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 2
trigger1 = P2bodyDist X < -20
x = .2

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = -1
time = -1
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3202
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3202
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = root,numhelper(1003)
trigger5 = root,stateno = [810,811]
trigger6 = root,stateno = [10810,10811]
trigger7 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger7 = root,time = 0
trigger8 = anim = 3202
trigger8 = time > 40
trigger8 = numhelper(3102) > 1
trigger9 = numhelper(3013)
;---------------------------------------------------------------------------
;空気の塊
[Statedef 3320]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 3320
sprpriority = 3
facep2 = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 15,-85

[State 820, 4]
type = Destroyself
;trigger1 = numhelper(3102)
trigger1 = root,stateno != [3300,3301]
trigger1 = root,stateno != [13300,13302]
trigger2 = root,stateno = 3301 && numhelper(3102)
trigger3 = root,stateno = 13302 && numhelper(3102)
trigger4 = root,stateno = 3300 && root,time >= 148
trigger5 = root,stateno = 13300 && root,time >= 148
;---------------------------------------------------------------------------
;相手側 吹っ飛び
[Statedef 3330]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 3330

[State 1061, 2]
type = Velset
trigger1 = time = [0,5]
y = -5
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = [5,10]
y = -2
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 10
y = 0
x = -2

[State 1061, 2]
type = Veladd
trigger1 = time >= 10
y = .2

[State 1061, 2]
type = Velset
trigger1 = time > 23
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = Changestate
trigger1 = time > 3
trigger1 = Pos Y >= 0
value = 3331
;---------------------------------------------------------------------------
;相手側 ダウン 起き上がり ピヨリ
[Statedef 3331]
type    = L
movetype= H
physics = N

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, state]
type = statetypeset
trigger1 = anim = 12
statetype = S

[State 1060, 2]
type = changeanim
trigger1 = time = 0
value = 5110

[State 1060, 2]
type = changeanim
trigger1 = anim = 5110
trigger1 = time = 40
value = 12

[State 1060, 2]
type = changeanim
trigger1 = anim = 12
trigger1 = !animtime
value = 5300

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 200
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sonチャンスは訪れた
[Statedef 13300]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13300
ctrl = 0
sprpriority = 0

[State 1000, 7]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "ab"
stateno = 3320
id = 3320
pos = 15, -85
postype = p1
ownpal = 1
facing = 1
;bindtime = 999999
sprpriority = 3
size.xscale = .5
size.yscale = .5

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, 猫草もいるけど]
type = explod
trigger1 = !time
anim = 3390
id = 3390
pos = 45,-110
postype = p1
ownpal = 1
shadow = 0,0,0
scale = 1,1
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent = 0
ignorehitpause = 1
bindtime = -1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 80
Time = 80
ctrl = 0
anim = -1
darken = 1

[State 4200,02]
type = null;BGPalfx
trigger1 = Time = 0
mul = 64,64,64
time = 80
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = time <= 80
value = SCA
time = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3300,0
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 9
value = 6,12
persistent = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = numtarget
value = 6,12
ignorehitpause = 1
persistent = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 80
value = 3300,1
channel = 0

[State 1035, 2]
type = ReversalDef
trigger1 = AnimElem = 7
attr = S, SA
reversal.attr = SCA, NA, SA, HA
pausetime = 41,41
sparkno = -1
sparkxy = 0,0
;hitsound = S1300,1

[State 903, EnvShake]
type = EnvShake
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
time = 20
ampl = -8
freq = 80
ignorehitpause = 1
persistent = 0

[State -2]
type = PalFX
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
time = 30
add = 120,120,120
sinadd = 40,40,40,35
ignorehitpause = 1
persistent = 0

[State 0, 円]
type = explod
triggerall = target,movetype != H
trigger1 = numtarget
trigger1 = movehit
anim = 864
id = 864
pos = 10,-70
postype = p1
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent = 0
ignorehitpause = 1

[State 220, 3]
type = TargetState
triggerall = numtarget
triggerall = animelemtime(7) >= 0 && !target,Ishelper
triggerall = target,movetype != H
trigger1 = movehit
value = 3330
ignorehitpause = 1

[State 220, 3]
type = ChangeState
triggerall = numtarget
triggerall = animelemtime(7) >= 0 && !target,Ishelper
triggerall = target,movetype != H
trigger1 = movehit
value = 13302
ignorehitpause = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;チャンスは訪れた 成功
[Statedef 13302]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13302
ctrl = 0
sprpriority = 0

[State 10000]
type = Turn
triggerall = !time
trigger1 = facing = target,facing
;trigger2 = pos x - target,pos x < -100

[State 0, 0]
type = PosAdd
trigger1 = frontedgebodydist <= 100
trigger1 = time = 0
x = -70

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 3300,2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 0,4

[State 0, explod]
type = explod
trigger1 = time = 30
anim = 915
id = 915
pos = 15,-85
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 702, helper]
type = helper
trigger1 = time = 30
helpertype = normal
name = "ab"
id = 3102
pos = 25,-85
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 3310
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1000, ステート変更]
type = pause
triggerall = time = [7,14]
trigger1 = !(time%2)
time = 1
movetime = 0
[State 1000, ステート変更]
type = pause
triggerall = time = [14,21]
trigger1 = !(time%2)
time = 2
movetime = 0

[State 1000, ステート変更]
type = Changeanim
triggerall = anim = 13302
triggerall = time > 45
trigger1 = numhelper(3102) = 0
trigger2 = time = 200
value = 13303

[State 1000, ステート変更]
type = ChangeState
triggerall = anim = 13303
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;チャンスは訪れた キラークイーン
[Statedef 13305]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 3305
sprpriority = 0
facep2 = 1

[State 1000, 7]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "ab"
stateno = 3320
id = 3320
pos = 15, -85
postype = p1
ownpal = 1
facing = 1
;bindtime = 999999
sprpriority = 3
size.xscale = .5
size.yscale = .5

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 5,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 1000, 7]
type = null;Helper
trigger1 = MoveContact
trigger1 = numhelper(1003) = 0
helpertype = normal
name = "bom"
stateno = 1003
id = 1003
pos = 0, -50
postype = p2
ownpal = 1
facing = 1
bindtime = 999999
size.xscale = 1
size.yscale = 1

[State 0, 円]
type = null;explod
trigger1 = movecontact
triggerall = numexplod(864) = 0 
anim = 864
id = 864
pos = 0,-60
postype = p2
ownpal = 1
shadow = 0,0,0
scale = .308,.425
pausemovetime = 999999
supermovetime = 999999
sprpriority = 3
persistent=0

[State 1000, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem = 5
value = 0, 1
channel = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = time <= 80
value = SCA
time = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = anim = 3305
trigger1 = root,stateno = 3301
value = 3307

[State 230, 2]
type = changeanim
trigger1 = anim = 3305
trigger1 = root,stateno != 3300
value = 3306

[State 230, 2]
type = changestate
trigger1 = anim = 3306
trigger1 = animtime = 0
value = 232
;---------------------------------------------------------------------------
;チャンスは訪れた キラークイーン 成功
[Statedef 13307]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 3307
sprpriority = 0
facep2 = 1

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
;facing = 0
pos = 0,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2]
type = changeanim
trigger1 = anim = 3307
trigger1 = root,stateno != 3301
value = 3308

[State 230, 2]
type = changestate
trigger1 = anim = 3308
trigger1 = animtime = 0
value = 232
;---------------------------------------------------------------------------
;SonSC接触空気弾
[Statedef 13200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13200
ctrl = 0
sprpriority = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 810, HitBy]
type = HitBy
trigger1 = time = 0
value = SCA, NT,ST,HT
time = 40

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 56
x = -10

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 62
x = -5

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 65
x = 0

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = time = 55
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = time = 55
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 3202
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 55
value = 100,20

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1100,0
channel = 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;第一の爆弾SC
[Statedef 13000]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 13000
ctrl = 0
sprpriority = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,0
channel = 0

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 30]
type = null;NotHitBy  
trigger1 = numhelper(3003) = 1
value = SCA

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 60
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 50
x = 8

[State 3000, 移動速度]
type = Veladd
trigger1 = !moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.2

[State 3000, 移動速度]
type = Veladd
trigger1 = moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.3

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "are"
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = -3
stateno = 3020
ownpal = 1
size.xscale = .9
size.yscale = 1.07

[State -2];ヘルパーやろう
type = null;helper
trigger1 = time = 51  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3001
ownpal = 1

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23099
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 3000]
type = ChangeState
triggerall = numhelper(3003) = 1
trigger1 = Time = 85
value = 3002

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 0
guardflag = MA
pausetime = 0,120
guard.pausetime = 0,20
sparkno = -1
sparkxy = -10,-37
hitsound   = s1,9
guardsound = s1, 5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0,0
p1stateno = 13005
p2facing = 1
p2stateno = 13006
envshake.time = 10
envshake.freq = 40
envshake.ampl = -4

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;SC投げ成功（後方）
[Statedef 13005]
type    = S
movetype= A
physics = N
anim = 13005
poweradd = 0
velset = 0,0
sprpriority = 0

[State 0, end]
type = null;changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 20
ampl = -8
freq = 80

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 8
value = 3010,3
channel = 0

[State 0, pause]
type = pause
;trigger1 = time = [8,10]
;trigger1 = time % 2= 0
trigger1 = Time = 2
time = 8
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 12
time = 5
movetime = 0

[State 0, pause]
type = pause
trigger1 = Time = 14
time = 2
movetime = 0

[State 10820, ]
type = Explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 8
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 20,-80
anim = 912
sprpriority = 0
ownpal = 1
scale = 1.2,1.2

[State 0, D4爆発]
type = explod
trigger1 = numhelper(1001)=0
trigger1 = Time = 8
anim = 914
id = 914
postype = p2
pos = 20,-80
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .8,.8
;pausemovetime = 999999
;supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=0
trigger1 = time = 8
value = 300,2

[State 1027, Sound]
type = PlaySnd
trigger1 = numhelper(1001)=1
trigger1 = time = 8
value = 0,5

[State 0, pos]
type = null;playsnd
trigger1 = time = 25
value = 810,0
channnel = 0

[State 3001, Width]
type = null;Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = time = 0
pos = 40, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = numhelper(1001)=0
trigger1 = time = 10
value = ifelse(helper(8500),fvar(8)=0,-160-(var(40)*1),(-160-(var(40)*1))*1.1)

[State 1027, Sound]
type = null;PlaySnd
trigger1 = time = 0
value = 1,9

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1061, 2]
type = Velset
trigger1 = time = [9,13]
x = 5

[State 1061, 2]
type = Velset
trigger1 = time = [13,38]
x = 3

[State 1061, 2]
type = Veladd
trigger1 = vel x > 0
trigger1 = time = [38,58]
x = -0.15

[State 0, pos]
type = null;playsnd
trigger1 = Time = 50
value = 810,1
channnel = 0

[State 810, ステート変更]
type = ChangeState
trigger1 = Time = 58
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側(後)
[Statedef 13006]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -2

[State 52, 1]
type = Turn
trigger1 = time = 0
trigger1 = facing = enemynear,facing

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 3006

[State 1060, 2]
type = changeanim
trigger1 = SelfAnimExist(5052)
trigger1 = Time = 8
value = 5052

[State 1061, 2]
type = PalFX
trigger1 = enemynear,numhelper(1001)=0
trigger1 = Time = 10
time = 40
add = 128,24,0
mul = 90,64,64
sinadd = 90,90,90,4
color = 150

[State 1061, 2]
type = Velset
trigger1 = time = [8,11]
y = -6
x = 25

[State 1061, 2]
type = Velset
trigger1 = time = [11,18]
y = -3
x = 6

[State 1061, 2]
type = Velset
trigger1 = time = 18
y = 0
x = 2

[State 1061, 2]
type = Veladd
trigger1 = time >= 8
y = .3

[State 1061, 2]
type = Velset
trigger1 = time > 8
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 8
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
;Son第一の爆弾SC設置ver
[Statedef 13010]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 13000
ctrl = 0
sprpriority = 0

[State 30]
type = NotHitBy  
trigger1 = numhelper(3013) = 1
value = SCA

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,0
channel = 0

[State 3000, 残像]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time = 0
value = SCA,NT,ST,HT
time = 60
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 2
x = 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 50
x = 8

[State 3000, 移動速度]
type = Veladd
trigger1 = !moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.2

[State 3000, 移動速度]
type = Veladd
trigger1 = moveguarded
trigger1 = Time > 50
trigger1 = vel x > .5
x = -.3

[State 3000, 軸位置移動]
type = PosAdd
trigger1 = AnimElem = 5
x = 0

[State 702, すり抜け]
type = PlayerPush
trigger1 = 1
value = 0

[State 702, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "are"
pos = -10,0
postype = p1
keyctrl = 0
sprpriority = -3
stateno = 3021
ownpal = 1
size.xscale = .9
size.yscale = 1.07

[State -2];ヘルパーやろう
type = helper
trigger1 = time = 51  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 3011
ownpal = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son第一の爆弾SC設置ver 爆破ポーズ
[Statedef 13012]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 13012
ctrl = 0
sprpriority = 0

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3000,2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 100, 2

[State 1000, VarSet]
type = VarSet
trigger1 = animelem = 7
var(5) = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;SonSC空気弾
[Statedef 13100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13100
ctrl = 0
sprpriority = 2

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 4200,01]
type = superPause
trigger1 = Time = 0
moveTime = 50
Time = 50
ctrl = 0
anim = -1

[State 4200,02]
type = BGPalfx
trigger1 = Time = 0
mul = 175,175,175
time = 50
ignorehitpause = 1

[State 3000, 移動速度]
type = null;VelSet
trigger1 = Time = 15
x = -10

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 915
id = 915
pos = 0,-70
postype = p1
bindtime = 1
scale = .4,.5
sprpriority = 10
;pausemovetime = 999999
;supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = animelem = 8
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20020
sprpriority = 4
ownpal = 1

[State 702, helper]
type = helper
trigger1 = animelem = 8
helpertype = normal
name = "ab"
id = 3102
pos = 15,-70
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 13105
ownpal = 1
size.xscale = 1.0
size.yscale = 1.0

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 8
value = 100,20

[State 0, ]
type = PlaySnd
trigger1 = time = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 3100,0
channel = 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "cutin"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23101
id = 3101
pos = -20,-40
postype = back
pausemovetime = 999999
supermovetime = 999999
size.xscale = .5
size.yscale = .5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23105
id = 3105
pos = 0,15
postype = left
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "lineB"
;stateno = ifelse(facing = 1,23101,23102)
stateno = 23106
id = 3106
pos = 0,-190
postype = right
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5
facing = 1

[State 3000, 操作アニメ]
type = ChangeState
triggerall = numhelper(3102)
trigger1 = helper(3102),var(25) = 1
value = 13195

[State 3000, ステート変更]
type = ChangeState
triggerall = time >= 70
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = numhelper(3102) = 1
trigger3 = helper(3102),anim = 3103
value = 13101
;---------------------------------------------------------------------------
;SonSC空気弾B
[Statedef 13190]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3000, 操作アニメ]
type = ChangeState
triggerall = numhelper(3102)
trigger1 = helper(3102),var(25) = 1
value = 13195

[State 3000, ステート変更]
type = ChangeState
;triggerall = time >= 70
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = helper(3102),anim = 3103
value = 13101
;---------------------------------------------------------------------------
;SonSC空気弾操作ポーズ
[Statedef 13195]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 2

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 200,0
channel = 0

[State 3000, ステート変更]
type = ChangeState
;triggerall = time >= 70
trigger1 = command = "BOM_x" || command = "BOM_y" ||  command = "BOM_z"  
trigger2 = numhelper(3102) = 0
trigger3 = helper(3102),anim = 3103
value = 13101

[State 3000, ステート変更]
type = ChangeState
trigger1 = time >= 12
value = 13190
;---------------------------------------------------------------------------
;SonSC空気弾　戻り
[Statedef 13101]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13101
ctrl = 0
sprpriority = 2

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = !time
value = 1005, 0
channel = 0

[State 3000, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;SC空気弾 bom
[Statedef 13105]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 190,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 13101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = Time > 4
x = 0.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 13100 || root,stateno = 13190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 13106
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 13100 || root,stateno = 13190
trigger2= time >= 20
trigger2 = anim = 3102
trigger2 = root,command = "LM"
trigger3 = root,stateno = 13100 || root,stateno = 13190
trigger3= time >= 20
trigger3 = anim = 3102
trigger3 = root,command = "MH"
trigger4 = root,stateno = 13100 || root,stateno = 13190
trigger4= time >= 20
trigger4 = anim = 3102
trigger4 = root,command = "LH"
trigger5 = anim = 3102
trigger5 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger5 = root,time =14
trigger6 = anim = 3102
trigger6 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger6 = root,time =14
trigger7 = helper(1001),stateno = [1001,1009]
trigger7 = helper(1001),movehit
trigger8 = helper(1001),stateno = [11097,11099]
trigger8 = helper(1001),movehit
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = anim = 3102
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger11 = time >= 20
trigger11 = numhelper(3102) > 1
trigger11 = helper(3102),anim != 3103
;---------------------------------------------------------------------------
;SC空気弾 bom　中
[Statedef 13106]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 5
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 190,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 13101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 0.7

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -0.7

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -0.7

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 0.7

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 13100 || root,stateno = 13190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 13107
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 13100 || root,stateno = 13190
trigger2= time >= 20
trigger2 = anim = 3102
trigger2 = root,command = "LM"
trigger3 = root,stateno = 13100 || root,stateno = 13190
trigger3= time >= 20
trigger3 = anim = 3102
trigger3 = root,command = "MH"
trigger4 = root,stateno = 13100 || root,stateno = 13190
trigger4= time >= 20
trigger4 = anim = 3102
trigger4 = root,command = "LH"
trigger5 = anim = 3102
trigger5 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger5 = root,time =14
trigger6 = anim = 3102
trigger6 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger6 = root,time =14
trigger7 = helper(1001),stateno = [1001,1009]
trigger7 = helper(1001),movehit
trigger8 = helper(1001),stateno = [11097,11099]
trigger8 = helper(1001),movehit
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = anim = 3102
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger11 = time >= 20
trigger11 = helper(3102),anim != 3103
;---------------------------------------------------------------------------
;SC空気弾 bom　小
[Statedef 13107]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 1
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 190,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 13101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 0.9

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -0.9

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -0.9

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 0.9

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 13100 || root,stateno = 13190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 13108
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 13100 || root,stateno = 13190
trigger2= time >= 20
trigger2 = anim = 3102
trigger2 = root,command = "LM"
trigger3 = root,stateno = 13100 || root,stateno = 13190
trigger3= time >= 20
trigger3 = anim = 3102
trigger3 = root,command = "MH"
trigger4 = root,stateno = 13100 || root,stateno = 13190
trigger4= time >= 20
trigger4 = anim = 3102
trigger4 = root,command = "LH"
trigger5 = anim = 3102
trigger5 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger5 = root,time =14
trigger6 = anim = 3102
trigger6 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger6 = root,time =14
trigger7 = helper(1001),stateno = [1001,1009]
trigger7 = helper(1001),movehit
trigger8 = helper(1001),stateno = [11097,11099]
trigger8 = helper(1001),movehit
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = anim = 3102
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger11 = time >= 20
trigger11 = numhelper(3102) > 1
trigger11 = helper(3102),anim != 3103
;---------------------------------------------------------------------------
;SC空気弾 bom　極小
[Statedef 13108]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 1
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 190,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 13101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 1.1

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 702, helper]
type = helper
triggerall = time >= 20
triggerall = anim = 3102
triggerall = root,stateno = 13100 || root,stateno = 13190
trigger1 = root,command = "LM"
trigger2 = root,command = "MH"
trigger3 = root,command = "LH"
helpertype = normal
name = "ab"
id = 3102
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = 3
stateno = 13109
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = root,stateno = 13100 || root,stateno = 13190
trigger2= time >= 20
trigger2 = anim = 3102
trigger2 = root,command = "LM"
trigger3 = root,stateno = 13100 || root,stateno = 13190
trigger3= time >= 20
trigger3 = anim = 3102
trigger3 = root,command = "MH"
trigger4 = root,stateno = 13100 || root,stateno = 13190
trigger4= time >= 20
trigger4 = anim = 3102
trigger4 = root,command = "LH"
trigger5 = anim = 3102
trigger5 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger5 = root,time =14
trigger6 = anim = 3102
trigger6 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger6 = root,time =14
trigger7 = helper(1001),stateno = [1001,1009]
trigger7 = helper(1001),movehit
trigger8 = helper(1001),stateno = [11097,11099]
trigger8 = helper(1001),movehit
trigger9 = root,stateno = [810,811]
trigger10 = root,stateno = [10810,10811]
trigger11 = anim = 3102
trigger11 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger11 = time >= 20
trigger11 = numhelper(3102) > 1
;---------------------------------------------------------------------------
;SC空気弾 bom　最小
[Statedef 13109]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 3

[State 3000, 移動速度]
type = VarSet
trigger1 = !Time
var(25) = 1

[State 3000, 移動速度]
type = VarSet
trigger1 = Time = 1
var(25) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdfwd"
trigger1 = !time
var(22) = 0

[State 8500, 1]
type = varset
trigger1 = root,command = "holdback"
trigger1 = !time
var(22) = 1

[State 8500, 1]
type = varset
trigger1 = root,command = "holdup"
trigger1 = !time
var(22) = 2

[State 8500, 1]
type = varset
trigger1 = root,command = "holddown"
trigger1 = !time
var(22) = 3

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 190,30
animtype  = hard
hitflag = MAFD
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 3
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -10,-5
air.velocity = -4,-6
p2facing = 1
getpower = 0
givepower = 0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
guard.kill = 0
affectteam = B
fall = 1
fall.recover = 0

[State 230, 2]
type = null;AngleDraw
trigger1 = anim = 3103
scale = 2.0,2.0
ignorehitpause = 1

[State 230, 2]
type = changeanim
triggerall = anim = 3102
trigger1 = root,anim = 3104
trigger1 = root,animelem = 5
trigger2 = root,stateno = 13101
trigger3 = root,stateno = 3104
trigger4 = root,stateno = 11040
trigger5 = pos y > 0
value = 3103

[State 0, D4爆発]
type = explod
triggerall = anim = 3103
trigger1 = animelemtime(1) = 0
anim = 914
id = 914
pos = 0,0
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = 0.5,0.5
;pausemovetime = 999999
supermovetime = 999999

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 1
value = 300, 1

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;影を消す

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3102
trans = addalpha
alpha = 128, 128

[State 1301, 特殊効果]
type = null;Trans
trigger1 = anim = 3103
trans = addalpha
alpha = 256, 0

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time = 0
x = 12

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 0
trigger1 = Time > 4
x = 1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time = 0
x = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 1
trigger1 = Time > 4
x = -1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time = 0
y = -8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 2
trigger1 = Time > 4
y = -1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time = 0
y = 8

[State 3000, 移動速度]
type = VelSet
trigger1 = var(22) = 3
trigger1 = Time > 4
y = 1.5

[State 3000, 移動速度]
type = VelSet
trigger1 = anim = 3103
x = 0
y = 0

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = anim = 3103
trigger1 = animtime = 0
trigger2 = anim = 3102
trigger2 = root,stateno = 1100 || root,stateno = 1110 || root,stateno = 1120
trigger2 = root,time =14
trigger3 = anim = 3102
trigger3 = root,stateno = 11100 || root,stateno = 11110 || root,stateno = 11120
trigger3 = root,time =14
trigger4 = helper(1001),stateno = [1001,1009]
trigger4 = helper(1001),movehit
trigger5 = helper(1001),stateno = [11097,11099]
trigger5 = helper(1001),movehit
trigger6 = root,stateno = [810,811]
trigger7 = root,stateno = [10810,10811]
trigger8 = anim = 3102
trigger8 = root,stateno = 3100 || root,stateno = 3200 || root,stateno = 13100 || root,stateno = 13200
trigger9 = time >= 20
trigger9 = numhelper(3102) > 1
;---------------------------------------------------------------------------
;バイツァ・ダスト(負けて死ね)
[Statedef 14000]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 14000
ctrl = 0
sprpriority = 2

[State 8500, 1]
type = varset
trigger1 = !time
var(49) = 0

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -2000

[state 3000]
type = pause
trigger1 = animelem = 1
time = 40
movetime = 40

[State 0, ]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 14000,10
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 220
value = 14000,0
channel = 0

[State 3000, 残像表示時間]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 100
time = 2

[State 0, hitby]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[State 0, hitby]
type = nothitby
trigger1 = time >= 130
value = SCA
time = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 702, helper];キラークィーン
type = helper
trigger1 = time = 1
helpertype = normal
name = "KQ"
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = -1
stateno = 14001
ownpal = 1
size.xscale = .833
size.yscale = 1.00

[State 702, helper];女医
type = helper
trigger1 = time = 1
helpertype = normal
name = "joi"
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = -2
stateno = 14002
ownpal = 1
size.xscale = .833
size.yscale = 1.00

[State 0];瞳に映ったKQ
type = Explod
trigger1 = time = 180
anim = 14040
pos = 160, 120
postype = back
sprpriority = 9
removetime = 120
bindtime = -1
ontop = 1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 1,1

[state 0, helper 背景]
type = helper
trigger1 = !time
helpertype = normal
name = "line"
stateno = 14061
id = 14061
postype = back
pausemovetime = 999999
supermovetime = 999999

[State 1000, 7]
type = Helper
triggerall = numhelper(16060) = 0
trigger1 = !Time
helpertype = normal
name = "bite a cutin"
stateno = 14060
id = 14060
pos = 160, 300
postype = back
ownpal = 1
facing = 1
size.xscale = 0.4
size.yscale = 0.4
pausemovetime = 999999

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = null;helper
trigger1 = animelem = 1
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 301,対象捕獲]
type = Helper
trigger1 = time = 180
trigger1 = !numhelper(14330)
helpertype = normal
name = "hokaku"
stateno = 14330
id = 14330
pos = 0, 0
postype = p1
ownpal = 1
facing = -1
pausemovetime = 999999
supermovetime = 999999

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 180
helpertype = normal
name = "bom"
stateno = 14100
id = 1003
pos = 90, -70
postype = back
ownpal = 1
facing = -1
size.xscale = 1
size.yscale = 1

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 190
helpertype = normal
name = "bom"
stateno = 14100
id = 1003
pos = 230, -70
postype = back
ownpal = 1
facing = -1
size.xscale = 1
size.yscale = 1

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 200
helpertype = normal
name = "bom"
stateno = 14100
id = 1003
pos = 160, -140
postype = back
ownpal = 1
facing = -1
size.xscale = 2
size.yscale = 2

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 190
helpertype = normal
name = "bom"
stateno = 14100
id = 1003
pos = 60, -140
postype = back
ownpal = 1
facing = -1
size.xscale = 1
size.yscale = 1

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 190
helpertype = normal
name = "bom"
stateno = 14100
id = 1003
pos = 260, -140
postype = back
ownpal = 1
facing = -1
size.xscale = 1
size.yscale = 1

[State 0];背景
type = Explod
trigger1 = time = 180
anim = 20062
pos = -40,0
postype = left
sprpriority = -4
removetime = 120
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 1.08,1.08

[State 1000, 7]
type = Helper
triggerall = numhelper(3585) = 0
trigger1 = time = 180
helpertype = normal
name = "meiten"
stateno = 3585
id = 3585
pos = 0, 0
postype = p1
ownpal = 1
facing = 1
pausemovetime = 999999
supermovetime = 999999

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 180
value = 3,20

[State 901, down]
type = Lifeadd
trigger1 = time = 280
value = 350

[State 3000, ステート変更]
type = ChangeState
trigger1 = time = 300
value = 14005
ctrl = 0
;---------------------------------------------------------------------------
;バイツァ・受けた相手1
[Statedef 14030]
type = S
movetype = H
physics = C
ctrl = 0
velset = 0,0

[State 210, 2]
type = destroyself
trigger1 = ishelper
trigger1 = !time

[State 1027, Sound]
type = PlaySnd
trigger1 = !time
value = 11,0

[State 0, hitby]
type = nothitby
trigger1 = 1
value = SCA

[State 0, pos]
type = velset
trigger1 = !time
y = -8

[State 2026, 1]
type = ChangeAnim
trigger1 = !time
value = 5051

[State 0, state]
type = statetypeset
trigger1 = 1
movetype = H

[State 901, down]
type = Lifeadd
trigger1 = time = 100
value = 350

[State 3000, ステート変更]
type = ChangeState
trigger1 = time = 120
value = 14031
ctrl = 0
;---------------------------------------------------------------------------
;バイツァ・受けた相手2
[Statedef 14031]
type = S
movetype = H
physics = C
ctrl = 0
velset = 0,0

[State 0, hitby]
type = hitby
trigger1 = 1
value = SCA,AA,AP,AT

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 2026, 1]
type = ChangeAnim
trigger1 = !time
value = 0

[State 0, state]
type = statetypeset
trigger1 = time = 1
movetype = I

[State 0, end]
type = nothitby
trigger1 = time >= 300
value = SCA

[State 0, end]
type = selfstate
trigger1 = anim = 0
trigger1 = time = 160
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;バイツァ・受けた相手B1
[Statedef 14035]
type = S
movetype = H
physics = C
ctrl = 0
velset = 0,0

[State 210, 2]
type = destroyself
trigger1 = ishelper
trigger1 = !time

[State 2026, 1]
type = ChangeAnim2
trigger1 = !time
value = 14035

[State 0, state]
type = statetypeset
trigger1 = 1
movetype = H

[State 3000, ステート変更]
type = SelfState
trigger1 = !animtime
value = 0
;===========================================================================
;対象捕獲用ヘルパー
[Statedef 14330]
type = A
movetype = A
physics = N
ctrl = 0
anim = 14330

[State 0, reversal]
type = reversaldef
trigger1 = (time%3) = 0
reversal.attr = SCA,AA,AP,AT
pausetime = 0,0
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14030

[State 0, hit]
type = hitdef
trigger1 = (time%3) = 1
attr = SCA,HT
priority = 1,Miss
affectteam = B
hitflag = MAFD
guardflag = -1
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14030
fall = 1

[State 0, hit]
type = hitdef
trigger1 = (time%3) = 2
attr = SCA,HA
priority = 1,Miss
affectteam = B
hitflag = MAFD
guardflag = -1
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14030
fall = 1

[State 0, end]
type = DestroySelf
trigger1 = time > 24
;===========================================================================
;対象捕獲用ヘルパーB
[Statedef 14340]
type = A
movetype = A
physics = N
ctrl = 0
anim = 14330

[State 0, reversal]
type = reversaldef
trigger1 = (time%3) = 0
reversal.attr = SCA,AA,AP,AT
pausetime = 0,0
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14035

[State 0, hit]
type = hitdef
trigger1 = (time%3) = 1
attr = SCA,HT
priority = 1,Miss
hitflag = MAFD
guardflag = -1
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14035
fall = 1

[State 0, hit]
type = hitdef
trigger1 = (time%3) = 2
attr = SCA,HA
priority = 1,Miss
hitflag = MAFD
guardflag = -1
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14035
fall = 1

[State 0, end]
type = DestroySelf
trigger1 = time > 24
;---------------------------------------------------------------------------
;明転ヘルパー
[Statedef 3585]
type = S
movetype = A
physics = S
anim = 36400
ctrl = 0

[State 3002,1]
type = AllPalfx
triggerall = 1
trigger1 = root,stateno = 14000
add = var(4),var(4),var(4)
sinadd = 10, 10, 10
time = 1
supermove = 1
ignorehitpause = 1

[State 1540, 1]
type = varadd
trigger1 = time <= 120
var(4) = 2
supermove = 1
persistent = 1

[State 1540, 1]
type = changestate
triggerall = time > 120
trigger1 = root,stateno != 3502 && root,stateno != 13502
trigger2 = root,movetype = H
value = 3586

[State 1540, 1]
type = changestate
triggerall = time > 120
trigger1 = root,stateno != 3502 && root,stateno != 13502
trigger2 = root,movetype = H
value = 3586

[Statedef 3586]
type = A
movetype = I
physics = N
anim = 9999
ctrl = 0
sprpriority = 2

[State 3002,1]
type = AllPalfx
trigger1 = 1
add = var(4),var(4),var(4)
sinadd = 10, 10, 10
time = 1
supermove = 1
ignorehitpause = 1

[State 1540, 1]
type = varadd
trigger1 = time >= 0
var(4) = -7
supermove = 1
persistent = 1

[State 1020, Blink Yellow]
type = allPalFX
trigger1 = var(4) >= 7
time = 3
add = 255,255,255

[State 1540, 1]
type = destroyself
trigger1 = var(4) >= 7
;---------------------------------------------------------------------------
;勝利のぬか喜び
[Statedef 14005]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 14005
ctrl = 0
sprpriority = 2

[State 0, hit]
type = hitdef
trigger1 = !time
attr = SCA,HA
priority = 1,Miss
hitflag = MAFD
guardflag = -1
sparkno = -1
hitsound = -1
numhits = 0
hitonce = 0
p2stateno = 14031
p2facing = 1
fall = 1

[State 6190, 1P]
type = PosSet
trigger1 = time = 0
trigger1 = Facing = 1
x = -70

[State 6190, 2P]
type = PosSet
trigger1 = time = 0
trigger1 = Facing = -1
x = 70

[State 6190, 相手の位置]
type = TargetBind
trigger1 = time <= 10
pos = 170, 0

[State 1650, 押し判定]
type = PlayerPush
trigger1 = time <= 10
value = 0

[State 0, state]
type = statetypeset
trigger1 = time = 10
movetype = I

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 1
value = 14000,2
channel = 0

[State 30]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 702, helper];KQ
type = helper
trigger1 = time = 0
helpertype = normal
name = "bite a bom"
pos = 0,0
postype = p1
keyctrl = 0
sprpriority = -2
stateno = 14110
id = 1001
ownpal = 1
size.xscale = .833
size.yscale = 1.00
;pausemovetime = 9999999
;supermovetime = 9999999

[State 3000, ステート変更]
type = Changeanim
trigger1 = time = 140
trigger1 = anim = 14005
value = 14006

[State 3000, ステート変更]
type = ChangeState
trigger1 = animtime = 0
trigger1 = anim = 14006
value = 0
ctrl = 1
;----------------------------------------------------------------
;バイツァ解除
[Statedef 14050]
type = S
physics = S
anim = 14050
velset = 0,0
ctrl = 0

[State 0, pos]
type = playsnd
trigger1 = !time
;value = 16010,0+(random%2)
value = 16010,0
channnel = 0

[State 0, pos];12P特典
type = ctrlset
triggerall = palno = 12
trigger1 = !time
value = 1

[State 0, pos]
type = playsnd
trigger1 = time = 0
value = 6,6

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 0, 円]
type = explod
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 10820,]
type = null;Ctrlset
trigger1 = !animtime
value = 1

[State -2, エフェクトを消す];バイツァ
type = RemoveExplod
trigger1 = 1
ID = 14110

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;バイツァ 時間巻き戻し爆発
[Statedef 14100]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 911
sprpriority = 4
facep2 = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, SA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 70
pausetime = 0
guard.pausetime = 0
sparkno = S830
guard.sparkno = S840
sparkxy = -20, -63
hitsound = S1,2
guardsound = S1,3
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 17
ground.velocity = ifelse(-5*.9**((var(42)-1)+!var(42))>-1,-1,-5*.9**((var(42)-1)+!var(42))), ifelse((-6.5+(2*((var(42)-1)+!var(42))))>0,0,(-6.5+(2*((var(42)-1)+!var(42)))))
guard.velocity = -8
air.velocity = ifelse(-5*.9**((var(42)-1)+!var(42))>-1,-1,-5*.9**((var(42)-1)+!var(42))), ifelse((-6.5+(2*((var(42)-1)+!var(42))))>0,0,(-6.5+(2*((var(42)-1)+!var(42)))))
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 70,0
givepower = 35,0
persistent = 0
fall = 1
air.fall = 1
fall.recover = 1
yaccel = .35;44
guard.kill = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2
channel = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,2

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;バイツァ カウントダウンKQ
[Statedef 14110]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 36400
sprpriority = 22
facep2 = 1

[State 0];瞳に映ったKQ1
type = Explod
trigger1 = time = 200
anim = 14110
id = 14110
pos = 160, 120
postype = back
sprpriority = 9
removetime = 200
bindtime = -1
ontop = 1
;supermovetime = 9999999
;pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1

[State 0];瞳に映ったKQ
type = Explod
trigger1 = time = 400
anim = 14110
id = 14110
pos = 160, 120
postype = back
sprpriority = 9
removetime = 200
bindtime = -1
ontop = 1
;supermovetime = 9999999
;pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 0.7,0.7
ignorehitpause = 1

[State 0];瞳に映ったKQ
type = Explod
trigger1 = time = 600
anim = 14110
id = 14110
pos = 160, 120
postype = back
sprpriority = 9
removetime = 200
bindtime = -1
ontop = 1
;supermovetime = 9999999
;pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 0.9,0.9
ignorehitpause = 1

[State 0];瞳に映ったKQ
type = Explod
trigger1 = time = 800
anim = 14040
id = 14110
pos = 160, 120
postype = back
sprpriority = 9
removetime = 150
bindtime = -1
ontop = 1
;supermovetime = 9999999
;pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 1,1
ignorehitpause = 1

[State 301,対象捕獲]
type = Helper
trigger1 = time = 800
trigger1 = !numhelper(14330)
helpertype = normal
name = "hokaku"
stateno = 14340
id = 14330
pos = 0, 0
postype = p2
ownpal = 1
facing = -1
pausemovetime = 999999
supermovetime = 999999

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 800
trigger2 = time = 830
helpertype = normal
name = "bom"
stateno = 14111
id = 1003
pos = 30, -30
postype = p2
ownpal = 1
facing = -1
size.xscale = 1
size.yscale = 1

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 810
trigger2 = time = 840
helpertype = normal
name = "bom"
stateno = 14111
id = 1003
pos = -40, -40
postype = p2
ownpal = 1
facing = -1
size.xscale = 1.5
size.yscale = 1.5

[State 301,Bomヘルパー]
type = Helper
trigger1 = time = 820
helpertype = normal
name = "bom"
stateno = 14111
id = 1003
pos = 0, -80
postype = p2
ownpal = 1
facing = -1
size.xscale = 2
size.yscale = 2

[State 1301, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State -2, エフェクトを消す];バイツァ
type = RemoveExplod
trigger1 = time = 950
trigger2 = !root,alive
trigger2 = roundstate != 2
trigger3 = roundstate != 2
trigger3 = time < 800
trigger4 = root,stateno = 14050
ID = 14110

[State 230, 2]
type = destroyself
trigger1 = time = 950
trigger2 = !root,alive
trigger2 = roundstate != 2
trigger3 = roundstate != 2
trigger3 = time < 800
trigger4 = root,stateno = 14050
;---------------------------------------------------------------------------
;バイツァ 爆殺
[Statedef 14111]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 911
sprpriority = 4
facep2 = 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, SA
hitflag = MAFD
guardflag =
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 999999
pausetime = 0
guard.pausetime = 0
sparkno = S830
guard.sparkno = S840
sparkxy = -20, -63
hitsound = S1,2
guardsound = S1,3
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 17
ground.velocity = 12,-8
guard.velocity = -8
air.velocity = 12,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 70,0
givepower = 35,0
persistent = 0
fall = 1
air.fall = 1
fall.recover = 1
p2facing = -1
guard.kill = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4
envshake.time = 6
envshake.ampl = 12
envshake.freq = 300

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,2
channel = 300

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;バイツァ　カットイン
[Statedef 14060]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 14060
sprpriority = 14
facep2 = 1

[state a]
type = PosSet
trigger1 = !time
y = (pos y - screenpos y) + 300

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 5071, 1]
type = VelSet
trigger1 = time = [0,20]
x = 0
y = -5

[State 5071, 1]
type = VelSet
trigger1 = time = [20,50]
x = 0
y = -1.5

[State 5071, 1]
type = VelSet
trigger1 = time >= 50
x = 0
y = -40

[State 0, scale]
type = null;angledraw
trigger1 = time = 5
scale = 0.1,0.1

[State 191, 方向転換]
type = turn
trigger1 = !time
trigger1 = facing = -1

[State 0, scale]
type = Trans
trigger1 = time >= 50
trans = addalpha
alpha = 256+(time-60)*-18,256

[State 230, 2]
type = destroyself
trigger1 = time = 200
;------------------------------------------------------------------------------
;超必背景（縦）
[Statedef 14061]
ctrl = 0
anim = 36400

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = NoBG
flag2 = NoFG

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8210
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8215
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8211
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8216
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8212
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8217
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8213
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8218
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 1
sprpriority = 13
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8210)
id = 8210
pos = 0,-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8211)
id = 8211
pos = 107,-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8212)
id = 8212
pos = 214,-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8213)
id = 8213
postype = back
pos = 320,-(time*32)%512
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8215)
id = 8215
pos = 0,512-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8216)
id = 8216
pos = 107,512-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8217)
id = 8217
pos = 214,512-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8218)
id = 8218
pos = 320,512-(time*32)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8210

[State 1, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8211

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8212

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8213

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8214

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8215

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8216

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8217

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8218

[State 2, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
id = 8212

[State 8, end]
type = DestroySelf
trigger1 = roundstate = 4
trigger2 = root,stateno != 14000
trigger3 = time = 50
;---------------------------------------------------------------------------
KQ　ヘルパー
[Statedef 14001]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 14001
ctrl = 0
sprpriority = -1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = Time = 140
trigger2 = root,stateno != 14000
;---------------------------------------------------------------------------
;女医　ヘルパー
[Statedef 14002]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 14002
ctrl = 0
sprpriority = -2

[State 215　ヘルパー消滅]
type = Changestate
trigger1 = root,movetype = H
value = 14003

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = Time = 2000
trigger2 = root,stateno != 14000
;---------------------------------------------------------------------------
;女医　ヘルパー 消去
[Statedef 14003]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 14003
ctrl = 0
sprpriority = -2

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = !animtime
;---------------------------------------------------------------------------
;カットイン
[Statedef 23100]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3200
sprpriority = -3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 0+var(14)*1,239+var(14)*3
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = 1
anim = 3200
id = 23107
pos = 30,330
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 60,60
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = 0-var(14)*1,239+var(14)*3
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = -1
anim = 3200
id = 23107
pos = -30,330
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
scale = 2.6*parent,const(size.xscale),2.6
ownpal = 1
getpower = 0

[State 1000, 3]
type = ModifyExplod
trigger1 = Time < 30
ID = 23107
scale = (0.4+Var(14)/15.0)*parent,const(size.xscale) , 0.4+Var(14)/15.0
pausemovetime = 999999

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 14
value = 1

[state 3000]
type = removeexplod
trigger1 = time >= 40
id = 23100

[state 3000]
type = destroyself
trigger1 = time >= 40
;-----------------------------------------------
;SC背景
[Statedef 23099]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -5

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = 0,239
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0

[State 1000, 3]
type = PalFx
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
time = 1
add = 255-Var(14),255-Var(14),255-Var(14)

[state 3000]
type = destroyself
trigger1 = time >= 41
;===========================================================================
;カットイン
[Statedef 23101]
ctrl = 0
anim = 3500
physics = N
sprpriority = 8

[state a]
type = PosSet
trigger1 = 1
y = (pos y - screenpos y) + 160

[State 8000, AssertSpecial-1]
type = null;changeanim
triggerall = !time
trigger1 = root,stateno = 13300 || root,stateno = 3300
value = 3503

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 8500, 1]
type = velset
trigger1 = time = 0
x = 15
[State 8500, 1]
type = velmul
trigger1 = time <= 30
x = .9

[State 8500, 1]
type = velset
trigger1 = time = 30
x = 3

[State 8500, 1]
type = null;posadd
trigger1 = time >= 30
x = -10

[State 1020, Blink Yellow]
type = PalFX
trigger1 = 1
time = 1
add = 255,255,255

[State 0, scale]
type = angledraw
trigger1 = time >= 30
scale = 1+(time-30)*.06,1+(time-30)*.06

[State 0, scale]
type = Trans
trigger1 = time >= 30
trans = addalpha
alpha = 256+(time-30)*-18,256

[State 0, end]
type = DestroySelf
trigger1 = time = 50
;===========================================================================
;ライン
[Statedef 23105]
ctrl = 0
anim = 3505
physics = N
sprpriority = 5

[state a]
type = PosSet
trigger1 = 1
y = (pos y - screenpos y) - 2

[State 8000, AssertSpecial-1]
type = null;changeanim
triggerall = !time
trigger1 = root,stateno = 13300 || root,stateno = 3300
value = 3507

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 8500, 1]
type = velset
trigger1 = 1
x = 15

[State 8500, 1]
type = null;velmul
trigger1 = time <= 30
x = .9

[State 0, end]
type = DestroySelf
trigger1 = time = 50
;===========================================================================
;ライン
[Statedef 23106]
ctrl = 0
anim = 3506
physics = N
sprpriority = 5

[state a]
type = PosSet
trigger1 = 1
y = (pos y - screenpos y) + 225

[State 8000, AssertSpecial-1]
type = null;changeanim
triggerall = !time
trigger1 = root,stateno = 13300 || root,stateno = 3300
value = 3508

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 8500, 1]
type = velset
trigger1 = 1
x = -15

[State 8500, 1]
type = null;velmul
trigger1 = time <= 30
x = .9

[State 0, end]
type = DestroySelf
trigger1 = time = 50
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
以下ON時用記述
;:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
;ON立ち弱
[Statedef 10200]
type = S
movetype = A
physics = S
anim = 10200
sprpriority = 0
ctrl = 0

[State 0, vel]
type = varset
trigger1 = !time
var(8) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 0, pos]
type = playsnd
trigger1 = time = 1
;value = 200,0+(random%2)
value = 200,0
channnel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = !time
attr = S, NA
damage = 15*fvar(1),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 8,8
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
sparkno = s810
sparkxy = -8,-100
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
;getpower = 50
ground.type = High
ground.slidetime = 13
ground.hittime = 13
guard.slidetime = 11
guard.hittime = 11
ground.velocity = -2
guard.velocity = -2
air.type = High
air.velocity = -2,ifelse(var(40)<30,-3.5+(var(40)*.05),ifelse((var(40)*.8)<0,0,(var(40)*.8)))
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
air.hittime = 15
fall = 0
fall.recover = 0
air.fall = 0
yaccel = .36
id = 200
guard.kill = 0
sprpriority = 0

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON立ち中
[Statedef 10210]
type = S
movetype = A
physics = S
anim = 10210
sprpriority = 0
ctrl = 0

[State 0, EB解除]
type = parentvarset
triggerall = !time
trigger1 = (command = "y" || command = "z")
var(8) = 0

[State 210, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 5
value = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
channel = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 0, 2

[State 0, vel]
type = null;velset
trigger1 = animelemtime(3) = 0
x = 3

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 25*fvar(1)
guardflag = MA
pausetime = 2,10
getpower = ifelse(helper(8500),fvar(8)=0,35,35*1.1)
givepower = 25
sparkno = s820
sparkxy = -20,-90
hitsound = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.slidetime = 12
ground.hittime  = 12
ground.velocity = -4
air.velocity = -2.5,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
fall = 0
fall.recover = 0
air.fall = 0

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ON立ち強
[Statedef 10220]
type = S
movetype = A
physics = S
anim = 10220
sprpriority = 0
ctrl = 0

[State 0, vel]
type = varset
trigger1 = 1
var(39) = 0

[State 0, EB解除]
type = parentvarset
triggerall = !time
trigger1 = (command = "y" || command = "z")
var(8) = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(1) = 0
x = 4

[State 0, vel]
type = null;velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 220, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 10
value = 0, 4

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = hard
damage    = 20*fvar(1)
guardflag = MA
pausetime = 11,11
getpower = ifelse(helper(8500),fvar(8)=0,30,30*1.1)
givepower = 12
sparkno = s830
sparkxy = -20,-80
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime = 16
ground.hittime  = 16
ground.velocity = 0
air.velocity = -1,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
sprpriority = 0
fall = 0
fall.recover = 0
air.fall = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 10
attr = S, NA
animtype  = hard
damage    = 30*fvar(1)
guardflag = MA
getpower = ifelse(helper(8500),fvar(8)=0,30,30*1.1)
givepower = 15
pausetime = 14,14
sparkno = s830
sparkxy = -20,-90
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime = 16
ground.hittime  = 16
ground.velocity = -4
air.velocity = -2.5,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
sprpriority = 0
fall = 0
fall.recover = 0
air.fall = 0

[state 0, helper]
type = explod
trigger1 = animelem = 5
helpertype = normal
name = "efect"
anim = 913
id = 913
pos = 70,-85
postype = p1
scale = .5,.55
sprpriority = 4

[state 0, helper]
type = explod
trigger1 = animelem = 10
helpertype = normal
name = "efect"
anim = 913
id = 913
pos = 60,-95
postype = p1
scale = .5,.55
sprpriority = 4

[state 0, helper]
type = null;helper
trigger1 = animelem = 5
helpertype = normal
name = "efect"
stateno = 913
id = 913
pos = 70,-90
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = .5
size.yscale = .55

[state 0, helper]
type = null;helper
trigger1 = animelem = 10
helpertype = normal
name = "efect"
stateno = 913
id = 913
pos = 60,-100
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = .5
size.yscale = .55

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;D立ち強
[Statedef 230]
type = S
movetype = I
physics = S
anim = 230
sprpriority = 2
ctrl = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(2) = 0
x = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 620, 1
channel = 0

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
trigger1 = Time = 0
trigger1 = numhelper(1001) = 0
helpertype = normal
name = "killer queen"
stateno = 231
id = 1001
pos = 20, 0
postype = p1
ownpal = 1
facing = 1
size.xscale = .833
size.yscale = 1.00

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;D立ち強KQ
[Statedef 231]
type = S
movetype = A
physics = S
anim = 231
sprpriority = 0
ctrl = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(2) = 0
x = 8

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
sprpriority = 3
animtype  = hard
damage    = 80*root,fvar(1)
guardflag = MA
pausetime = 16,16
getpower = ifelse(helper(8500),fvar(8)=0,70,70*1.1)
givepower = 30
sparkno = s830
sparkxy = -20,-80
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-2
air.velocity = -8,ifelse(root,var(40)<30,-4+(root,var(40)*0.2),ifelse((root,var(40)*0.2)<0,0,(root,var(40)*0.2)))
sprpriority = -1
fall = 1
fall.recover = 0

[State -2,***]
type = sprpriority
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1000, 5]
type = explod
trigger1 = animelem = 2
anim = 20017
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
scale = const(size.xscale),const(size.yscale)

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = time = 0
trigger1 = facing != parent,facing

[State 301,]
type = NotHitBy
trigger1 = 1   
value = ,AT    
time = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1020

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 232
;---------------------------------------------------------------------------
; 終了（D立ち強）(スタンド)
[Statedef 232]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 232
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 232
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 1002
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 0, 円]
type = explod
trigger1 = !time
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;OND立ち強
[Statedef 10230]
type = S
movetype = A
physics = S
anim = 10230
sprpriority = 0
ctrl = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(2) = 0
x = 10

[State 0, vel]
type = null;velset
trigger1 = !time
trigger1 = vel x != 0
trigger1 = prevstateno != [100,105]
x = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 620, 1
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 4

[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = hard
damage    = 95*fvar(1)
guardflag = MA
pausetime = 16,16
getpower = ifelse(helper(8500),fvar(8)=0,70,70*1.1)
givepower = 30
sparkno = s830
sparkxy = -20,-80
hitsound = s1, 2
guardsound = s1,5
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
guard.slidetime = 16
ground.hittime  = 16
ground.velocity = -8,-2
air.velocity = -8,ifelse(var(40)<30,-4+(var(40)*0.2),ifelse((var(40)*0.2)<0,0,(var(40)*0.2)))
sprpriority = 0
fall = 1
fall.recover = 0

[State 1000, 5]
type = explod
trigger1 = animelem = 2
anim = 20017
id = 1002
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
scale = const(size.xscale),const(size.yscale)

[State 230, 2]
type = statetypeset
trigger1 = time >= 14
movetype = I

[State 901, Ctrl]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Son立ち強エフェクト
[Statedef 913]
type = S
movetype = I
physics = N
ctrl = 0
anim = 913
sprpriority = 5

[State 0, anim]
type = changeanim
trigger1 = root,var(39) = 1
;trigger1 = root,movecontact
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
;trigger1 != root,movecontact
trigger1 = 1
var(39) = 1

[State 0, scale]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, end]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sonしゃがみ弱
[Statedef 10400]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 10400
sprpriority = 0
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 400, 0
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 15*fvar(1)
pausetime = 8,7
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
guard.pausetime = 8,7
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-60
hitsound = S1,0
guardsound = S1,5
ground.type = Low
air.type = Low
ground.slidetime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
ground.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
air.hittime = ifelse((11-floor(var(28)*.125))<3,3,(11-floor(var(28)*.125)))
guard.ctrltime = 11
ground.velocity = -2.5
guard.velocity = -2.5
air.velocity = -3
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
fall = 0
fall.recover = 0
air.fall = 0
yaccel = .44

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;Sonしゃがみ中
[Statedef 10410]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 10410
sprpriority = 0
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 410, 0
channel = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 20*fvar(1)
guardflag = L
pausetime = 10,10
getpower = ifelse(helper(8500),fvar(8)=0,35,35*1.1)
givepower = 25
sparkno = s820
sparkxy = -10,-60
hitsound = s1, 1
guardsound = s1,5
ground.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -4
guard.velocity = -8
air.velocity = -4.5,-4
fall = 0
fall.recover = 0
air.fall = 0
sprpriority = 0

[State 400, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11 ;しゃがむステートへ（コモンステート）
Ctrl = 1
;---------------------------------------------------------------------------
;Sonしゃがみ強
[Statedef 10420]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 10420
sprpriority = 0

[State 210, ヒット定義]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype = hard
damage    = 40*fvar(1)
guardflag = L
pausetime = 15,15
getpower = ifelse(helper(8500),fvar(8)=0,50,50*1.1)
givepower = 30
sparkno = s830
sparkxy = -10,-40
hitsound = s1, 2
guardsound = s1,5
ground.type = Trip
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
guard.velocity = -2
ground.velocity = -2*const(size.xscale),-2
air.velocity = -2*const(size.xscale),-3
airguard.velocity = -6
fall = 1
air.fall = 1
fall.recovertime = 45
sprpriority = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 420,0
channel = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 0,4

[state 0, helper]
type = helper
trigger1 = animelem = 1
helpertype = normal
name = "stand"
stateno = 423
id = 241
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.xscale = 1
size.yscale = 1

[State 230, 3]
type = null;changestate
triggerall = command = "holdup"
trigger1 =Time >= 18
value = 40

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;===========================================================================
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 0,0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 0,30

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 15,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root,stateno = 950
ignorhitpause = 1
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0
poweradd = -100

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0
poweradd = -100

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
;Sonアドバンシング（立ち）
[Statedef 14400]
type    = U
movetype= H
physics = N
anim = 150+var(49)
ctrl = 0
velset = 0,0
poweradd = -100

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
;Sonアドバンシング（しゃがみ）
[Statedef 14405]
type    = C
movetype= H
physics = N
anim = 150+var(49)
ctrl = 0
velset = 0,0
poweradd = -100

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 861
ctrl = 0
velset = 10,0
sprpriority = 4

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 4010,0

[State 810, Throw Sound]
type = playsnd
trigger1 = time = 0
value = 3,18

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;---------------------------------------------------------------------------
; ガーキャン soff
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
anim = 1800
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 1800, 0
channel = 0

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 20

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 1000, 7]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "bom"
stateno = 1803
id = 1003
pos = 60, -70
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガーキャン son
[Statedef 11800]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
anim = 11800
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 1800, 0
channel = 0

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 20

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 1000, 7]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "bom"
stateno = 1803
id = 1003
pos = 60, -70
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 爆発
[Statedef 1803]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
anim = 911
sprpriority = 4

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, SA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 50
pausetime = 0
guard.pausetime = 0
sparkno = -1
guard.sparkno = S840
sparkxy = -20, -63
hitsound = S1,2
guardsound = S1,3
ground.type = High
air.type = High
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 17
ground.velocity = -5,-4
guard.velocity = -8
air.velocity = -4,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 35,0
persistent = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .35;44
guard.kill = 0
kill = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 0
value = 100, 2

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 300,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 財布
[Statedef 1900]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 36400
sprpriority = 0
facep2 = 1

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 0
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,0
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,-77
hitsound = s1, 9999
guardsound = s1,9999
ground.type = High
ground.slidetime = 0
ground.hittime  = 11
ground.velocity = 0,0
air.velocity = 0,-6
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 0,0
ground.cornerpush.veloff = 0
air.hittime = 0
guard.dist = 0
palfx.sinadd = 90,90,90,4

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0, 0

[State 230, 2]
type = changestate
trigger1 = root,stateno = 5110
trigger1 = root,Command = "c"
value = 1901
;---------------------------------------------------------------------------
; 財布2
[Statedef 1901]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
anim = 9995
sprpriority = 0
facep2 = 1

[State 230, 2]
type = playsnd
trigger1 = anim = 900
lowpriority = 1
value = 300, 0
channel = 12

[State 230, 2]
type = changeanim
trigger1 = anim = 9995
trigger1 = P2BodyDist X < 0
value = 900

[State 600, 2　ヒット定義]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 20
animtype  = hard
guardflag = MA
priority = 2, Hit
pausetime = 0,9
sparkno = s36400
guard.sparkno = s36400
sparkxy = -10,0
hitsound = s1, 99999
guardsound = s1,5
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = 3,0
air.velocity = -4,-6
p2facing = 1
getpower = 10 * (var(14) = 0),0
givepower = 10,0
ground.cornerpush.veloff = 0
air.hittime = 15
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,64
palfx.sinadd = 90,90,90,4


[State 230, 2]
type = changestate
trigger1 = anim = 900
trigger1 = animtime = 0
value = 1900
;---------------------------------------------------------------------------
;スタンド発現（立ち）
[Statedef 16000]
type = S
physics = S
ctrl = 0
anim = 10001
velset = 0,0

[State 0, pos]
type = playsnd
trigger1 = !time
;value = 16000,0+(random%2)
value = 16000,0
channnel = 0

[State 10820,]
type = PlaySnd
trigger1 = !time
value = 6,5

[State 0, pos];12P特典
type = ctrlset
triggerall = palno = 12
trigger1 = !time
value = 1

[State 810,]
type = null;helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.833,1.03
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0, 円]
type = explod
trigger1 = !time
anim = 865
id = 867
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 10820,]
type = null;Ctrlset
trigger1 = time = 18
value = 1

[State 10820, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
;クイックスタンドon
[Statedef 10901]
type = S
movetype = I
physics = N
velset = 0,0
anim = 10900
ctrl = 0
poweradd = -500

[State 0, pos]
type = playsnd
trigger1 = !time
;value = 16000,0+(random%2)
value = 16000,0
channnel = 0

[State 0, var]
type = playsnd
trigger1 = !time
value = 900,0+(random%2)

[State 10820,]
type = PlaySnd
trigger1 = !time
value = 6,5

[State 0, pos]
type = playerpush
trigger1 = time < 15
value = 0

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1
postype = p1
pos = -10,0
anim = 9999
sprpriority = 2
ownpal = 1
scale = 0.833,1.03
removetime = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0, 円]
type = explod
trigger1 = !time
anim = 865
id = 867
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 873
sprpriority = 4
ownpal = 1

[State 0, var]
type = varset
trigger1 = !time
var(49) = 10000

[State 0, end]
type = null;changestate
trigger1 = time >= 20
value = 20
ctrl = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 830]
type = S
physics = S
anim = 10830
velset = 0,0
ctrl = 0

[State 0, pos]
type = playsnd
trigger1 = !time
;value = 16010,0+(random%2)
value = 16010,0
channnel = 0

[State 0, pos];12P特典
type = ctrlset
triggerall = palno = 12
trigger1 = !time
value = 1

[State 0, pos]
type = playsnd
trigger1 = time = 0
value = 6,6

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 0, 円]
type = explod
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999

[State 10820,]
type = Ctrlset
trigger1 = time = 13
value = 1

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;川尻早人
[Statedef 8810]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 8810
ctrl = 0
sprpriority = -4

[State 220, turn]
type = null;turn
trigger1 = rootdist x < -10

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 230, 2]
type = null;assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = root,movetype != H
trigger1 = roundstate = 2
trigger1 = ParentDist X <= 40
trigger1 = ParentDist X >= -40
trigger1 = anim != 8810
value = 8810

[State 200, 1]
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = root,movetype != H
trigger1 = roundstate = 2
trigger1 = ParentDist X > 40
trigger1 = anim != 8811
value = 8811

[State 200, 1]
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = root,movetype != H
trigger1 = roundstate = 2
trigger1 = ParentDist X < -40
trigger1 = anim != 8812
value = 8812

[State 200, 1];川尻やられ時S
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,movetype = H
trigger1 = anim != 8815
trigger1 = ParentDist X <= 40
trigger1 = ParentDist X >= -40
value = 8815

[State 200, 1];川尻やられ時R
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,movetype = H
trigger1 = anim != 8816
trigger1 = ParentDist X > 70
value = 8816

[State 200, 1];川尻やられ時L
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,movetype = H
trigger1 = anim != 8817
trigger1 = ParentDist X < -40
value = 8817

[State 200, 1];川尻攻め時S
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,movetype != H
trigger1 = root,numtarget
trigger1 = anim != 8820
trigger1 = ParentDist X <= 40
trigger1 = ParentDist X >= -40
value = 8820

[State 200, 1];川尻攻め時R
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,numtarget
trigger1 = anim != 8821
trigger1 = ParentDist X > 40
value = 8821

[State 200, 1];川尻攻め時L
type = Changeanim
triggerall = root,stateno != 14000
trigger1 = roundstate = 2
trigger1 = root,numtarget
trigger1 = anim != 8822
trigger1 = ParentDist X < -40
value = 8822

[State 200, 1];川尻勝利時
type = Changeanim
triggerall = root,stateno != 14000
triggerall = roundstate = 3
triggerall = root,win
trigger1 = anim != 8830
value = 8830

[State 200, 1];川尻敗北時
type = null;Changeanim
triggerall = roundstate = 3
triggerall = root,lose
trigger1 = anim != 8830
value = 8830

[State 200, 1];バイツァ時
type = Changeanim
trigger1 = root,stateno = 14000
trigger1 = anim != 8831
value = 8831

[State 10820, ランドセル]
type = Explod
trigger1 = numexplod(8850) = 0
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 20,0
anim = 8850
id = 8850
sprpriority = -3
removeexplod = -1
ownpal = 1

[State 1000, 音を鳴らす]
type = null;PlaySnd
trigger1 = animelem = 1
value = 1000, 0
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = root,stateno = 14000
trigger1 = root,time = 80
value = 8810, 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = root,stateno = 14000
trigger1 = root,time = 130
value = 8810, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = root,stateno = 14000
trigger1 = root,time = 180
value = 8810, 2

[State 101, 3];右へ
type = ChangeState
trigger1 = rootdist x > 140
trigger1 = roundstate = 2
value = 8825

[State 101, 3];左へ
type = ChangeState
trigger1 = rootdist x < -140
trigger1 = roundstate = 2
value = 8826
;---------------------------------------------------------------------------
;早人　前進
[Statedef 8825]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 8825
sprpriority = 0

[State 220, Position]
type = PosSet
trigger1 = 1
y = 0

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 0

[State 20, 1]
type = VelSet
trigger1 = 1
x = 3

[State 20, 1]
type=changestate
trigger1 = rootdist x < 60
value=8810
;---------------------------------------------------------------------------
;早人 後退
[Statedef 8826]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 8826
sprpriority = 0

[State 181, 押し判定]
type = PlayerPush
trigger1 = time = 0
value = 0

[State 20, 1]
type = VelSet
trigger1 = 1
x = -3

[State 20, 1]
type=changestate
trigger1 = rootdist x > -60
value=8810
;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0
sprpriority = 4

[State 230, 2]
type = assertspecial
trigger1 = root,stateno = 950
flag = invisible

[State 0, anim]
type = changeanim
trigger1 = root,stateno != 700
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy ;無敵
trigger1 = 1    ;このｽﾃｰﾄ中ずっと
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = 1         ;このｽﾃｰﾄ中ずっと
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

b;クイックスタンドon用
[state -2, helper]
type = helper
trigger1 = root,stateno = 10901
trigger1 = !numhelper(10905)
helpertype = normal
name = "quick"
stateno = 10905
id = 10905
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
pausemovetime = 9999999
supermovetime = 9999999
persistent = 0

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself
trigger1 = parent,var(49) = 0
trigger2 = parent,movetype = H && parent,stateno != [5000,5210]
trigger2 = parent,movetype = H && parent,anim != [10000,15210]

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,stateno = 0
trigger2 = parent,stateno = 5
trigger3 = parent,stateno = 6
trigger4 = parent,stateno = 10
trigger5 = parent,stateno = 11
trigger6 = parent,stateno = 12
trigger7 = parent,stateno = 20
trigger8 = parent,stateno = 21
trigger9 = parent,stateno = 41
trigger10 = parent,stateno = 47
trigger11 = parent,stateno = 50
trigger12 = parent,stateno = [41,46]
trigger13 = parent,stateno = 100
trigger14 = parent,stateno = 101
trigger15 = parent,stateno = 105
trigger16 = parent,stateno = [5000,5500]
trigger17 = parent,stateno = [120,155]
value = parent,anim-10000

[State 10000]
type = ChangeAnim
triggerall = anim != 52
trigger1 = parent,stateno = 52
value = 52

[State 10000];発現
type = ChangeAnim
triggerall = anim != 10002
trigger1 = parent,stateno = 16000
value = 10002

[State 10000];挑発
type = ChangeAnim
triggerall = anim != 18295
trigger1 = parent,stateno = 195
trigger1 = parent,var(10) = 0
value = 18295

[State 10000];挑発B
type = ChangeAnim
triggerall = anim != 18296
trigger1 = parent,stateno = 195
trigger1 = parent,var(10) = 1
value = 18296

[State 10000];立ち弱
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,stateno = 10200
value = 10201

[State 10000];立ち中
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,stateno = 10210
value = 10211

[State 10000];立ち強
type = ChangeAnim
triggerall = anim != 10221
trigger1 = parent,stateno = 10220
value = 10221

[State 10000];D立ち強
type = ChangeAnim
triggerall = anim != 10231
trigger1 = parent,stateno = 10230
value = 10231

[State 10000];屈み弱
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,stateno = 10400
value = 10401

[State 10000];屈み中
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,stateno = 10410
value = 10411

[State 10000];屈み強
type = ChangeAnim
triggerall = anim != 10421
trigger1 = parent,stateno = 10420
value = 10421

[State 10000];屈み強
type = ChangeAnim
triggerall = anim != 10460
trigger1 = parent,stateno = 10460
value = 10460

[State 10000];空中弱
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,stateno = 10600
value = 10601

[State 10000];空中中
type = ChangeAnim
triggerall = anim != 10611
trigger1 = parent,stateno = 10610
value = 10611

[State 10000];空中強
type = ChangeAnim
triggerall = anim != 10621
trigger1 = parent,stateno = 10620
value = 10621

[State 10000];プッツン
type = ChangeAnim
triggerall = anim != 10701
trigger1 = parent,stateno = 700
value = 10701
ignorehitpause = 1

[State 10000];掴み
type = ChangeAnim
triggerall = anim != 10805
trigger1 = parent,stateno = 10800
trigger2 = parent,stateno = 10801
value = 10805

[State 10000];前投げ
type = ChangeAnim
triggerall = anim != 10806
trigger1 = parent,stateno = 10810
value = 10806

[State 10000];後ろ投げ
type = ChangeAnim
triggerall = anim != 10807
trigger1 = parent,stateno = 10811
value = 10807

[State 10000];投げ抜け
type = ChangeAnim
triggerall = anim != 10809
trigger1 = parent,stateno = 880
value = 10809

[State 10000];QスタンドON
type = ChangeAnim
triggerall = anim != 10901
trigger1 = parent,stateno = 10901
value = 10901

[State 10000]
type = ChangeAnim
triggerall = anim != 11001
trigger1 = parent,stateno = 11000
trigger2 = parent,stateno = 11010
trigger3 = parent,stateno = 11020
value = 11001

[State 10000]
type = ChangeAnim
triggerall = anim != 11031
trigger1 = parent,stateno = 11030
trigger2 = parent,stateno = 11040
value = 11031

[State 10000]
type = ChangeAnim
triggerall = anim != 11102
trigger1 = parent,stateno = 11100
trigger2 = parent,stateno = 11110
value = 11102

[State 10000]
type = ChangeAnim
triggerall = anim != 11121
trigger1 = parent,stateno = 11120
value = 11121

[State 10000]
type = ChangeAnim
triggerall = anim != 11103
trigger1 = parent,stateno = 11101
trigger2 = parent,stateno = 11111
trigger3 = parent,stateno = 11121
value = 11103

[State 10000]
type = ChangeAnim
triggerall = anim != 11401
trigger1 = parent,stateno = 11400
trigger2 = parent,stateno = 11410
trigger3 = parent,stateno = 11420
value = 11401

[State 10000]
type = ChangeAnim
triggerall = anim != 11601
trigger1 = parent,stateno = 11600
trigger2 = parent,stateno = 11610
trigger3 = parent,stateno = 11620
value = 11601

[State 10000]
type = ChangeAnim
triggerall = anim != 11801
trigger1 = parent,stateno = 11800
value = 11801

[State 10000];Sonsc第一の爆弾
type = ChangeAnim
triggerall = anim != 13001
trigger1 = parent,stateno = 13000
trigger2 = parent,stateno = 13010
value = 13001

[State 10000];Sonsc第一の爆弾
type = ChangeAnim
triggerall = anim != 13007
trigger1 = parent,stateno = 13005
value = 13007

[State 10000];Sonsc第一の爆弾
type = ChangeAnim
triggerall = anim != 13013
trigger1 = parent,stateno = 13012
value = 13013

[State 10000];Sonsc空気弾
type = ChangeAnim
triggerall = anim != 13102
trigger1 = parent,stateno = 13100
value = 13102

[State 10000];Sonsc空気弾
type = ChangeAnim
triggerall = anim != 13102
trigger1 = parent,stateno = 13100
value = 13102

[State 10000];Sonsc空気弾戻り
type = ChangeAnim
triggerall = anim != 13103
trigger1 = parent,stateno = 13101
value = 13103

[State 10000];Sonsc空気弾
type = ChangeAnim
triggerall = anim != 13201
trigger1 = parent,stateno = 13200
value = 13201

[State 10000];防御してくれている…///
type = ChangeAnim
triggerall = anim != 13305
trigger1 = parent,stateno = 13300
value = 13305

[State 10000];防御してくれている…///
type = ChangeAnim
triggerall = anim != 13306
trigger1 = parent,stateno = 13302
value = 13306

[State 10000];防御してくれている…///
type = ChangeAnim
triggerall = anim != 13307
trigger1 = parent,stateno = 13303
value = 13307

[State 10000];Sonsc空気弾操作ポーズ
type = ChangeAnim
triggerall = anim != 11106
trigger1 = parent,stateno = 11195
trigger2 = parent,stateno = 13195
value = 11106

[State 10000];Sonsc空気弾待機ポーズ
type = ChangeAnim
triggerall = anim != 11107
trigger1 = parent,stateno = 11190
trigger2 = parent,stateno = 13190
value = 11107

[State 10000];N
type = SprPriority
trigger1 = parent,stateno = 0
trigger2 = parent,stateno = [10,12]
trigger3 = parent,stateno = [20,21]
trigger4 = parent,stateno = [40,52]
trigger5 = parent,stateno = [100,101]
trigger6 = parent,stateno = [105,106]
trigger7 = parent,stateno = [5000,5500]
value = 2
ignorehitpause = 1

[State 10000];ガード
type = SprPriority
trigger1 = parent,stateno = [120,122]
value = 0
ignorehitpause = 1

[State 10000];ガード
type = SprPriority
trigger1 = parent,stateno = [130,132]
value = 0
ignorehitpause = 1

[State 10000];ガード
type = SprPriority
trigger1 = parent,stateno = [140,142]
value = 0
ignorehitpause = 1

[State 10000];ガード
type = SprPriority
trigger1 = parent,stateno = [150,152]
value = 0
ignorehitpause = 1

[State 10000];プッツン
type = SprPriority
trigger1 = parent,stateno = 700
value = 2
ignorehitpause = 1

[State 10000];立ち強
type = SprPriority
trigger1 = parent,stateno = 10220
trigger2 = parent,stateno = 10230
trigger3 = parent,stateno = 10410
trigger4 = parent,stateno = 10420
value = 2
ignorehitpause = 1

[State 10000];空中強
type = SprPriority
trigger1 = parent,stateno = 10620
value = 2
ignorehitpause = 1

[State 10000];点火
type = SprPriority
trigger1 = parent,stateno = 11030
value = 2
ignorehitpause = 1

;---------------------------------------------------------------------------
;クイックスタンドon時発光
[Statedef 10905]
type    = S
movetype= I
physics = N
anim = parent,anim
sprpriority = 6

[State 0, explod]
type = nothitby
trigger1 = 1
value = SCA

[State 0, explod]
type = turn
trigger1 = facing != root,facing

[State 0, explod]
type = playerpush
trigger1 = 1
value = 1

[State 0, explod]
type = bindtoparent
trigger1 = 1
pos = 0,0

[State 0, explod]
type = changeanim
trigger1 = anim != parent,anim
trigger2 = anim = parent,anim
trigger2 = animelemno(0) != parent,animelemno(0)
value = parent,anim
elem = parent,animelemno(0)
value = parent,anim

[State -2]
type = PalFX
trigger1 = !time
time = 100
add = 120,120,120
sinadd = 40,40,40,80
IgnoreHitPause = 1

[State -2]
type = destroyself
trigger1 = time = 65
trigger2 = root,var(49) = 0 
;-------------------------------------------------
;爆弾ランプ
[Statedef 6000]
type = S
sprpriority = 8
anim = 36400

[State 8000, 0];グレー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,numhelper(1003) = 0
trigger1 = !NumExplod(6001)
trigger1 = 1
anim = ifelse(facing=1,6001,6006)
id = 6001
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];グレー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,numhelper(1003) = 0
trigger1 = !NumExplod(6001)
trigger1 = 1
anim = ifelse(facing=1,6001,6006)
id = 6001
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,numhelper(1003) != 0
trigger1 = !NumExplod(6000)
trigger1 = 1
anim = ifelse(facing=1,6000,6005)
id = 6000
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 9
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,numhelper(1003) != 0
trigger1 = !NumExplod(6000)
trigger1 = 1
anim = ifelse(facing=1,6005,6000)
id = 6000
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 9
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

;バイツァランプ

[State 8000, 0];グレー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,life > 300 || root,numhelper(1001) != 0
trigger1 = !NumExplod(6011)
trigger1 = 1
anim = ifelse(facing=1,6011,6016)
id = 6011
pos = 70,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];グレー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,life > 300 || root,numhelper(1001) != 0
trigger1 = !NumExplod(6011)
trigger1 = 1
anim = ifelse(facing=1,6016,6011)
id = 6011
pos = 70,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,numhelper(1001) = 0
triggerall = root,life <= 300
trigger1 = !NumExplod(6010)
trigger1 = 1
anim = ifelse(facing=1,6010,6015)
id = 6010
pos = 70,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,numhelper(1001) = 0
triggerall = root,life <= 300
trigger1 = !NumExplod(6010)
trigger1 = 1
anim = ifelse(facing=1,6015,6010)
id = 6010
pos = 70,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

;親父ランプ
[State 8000, 0];グレー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,numhelper(2201) != 0
trigger1 = !NumExplod(6020)
anim = ifelse(facing=1,6020,6025)
id = 6020
pos = 105,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 9
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];グレー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,numhelper(2201) != 0
trigger1 = !NumExplod(6020)
anim = ifelse(facing=1,6020,6025)
id = 6020
pos = 105,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 9
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
triggerall = root,numhelper(2201) = 0
trigger1 = !NumExplod(6021)
anim = ifelse(facing=1,6021,6026)
id = 6021
pos = 105,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

[State 8000, 0];カラー2p用
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
triggerall = root,numhelper(2201) = 0
trigger1 = !NumExplod(6021)
anim = ifelse(facing=1,6021,6026)
id = 6021
pos = 105,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
ignorhitpause = 0

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,numhelper(1003) != 0
trigger2 = roundstate = 3
ID = 6001

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,numhelper(1001) = 0
trigger1 = root,numhelper(1003) = 0
trigger2 = numhelper(1004)
trigger3 = helper(1001),movetype = H
trigger4 = roundstate = 3
ID = 6000

;ランプ切り替え(BITEA)
[State 6000, 0]
type = RemoveExplod
triggerall = root,numhelper(1001) = 0
trigger1 = root,life <= 300
trigger2 = roundstate = 3
ID = 6011

;ランプ切り替え(BITEA)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,life > 300
trigger2 = root,numhelper(1001) != 0
trigger3 = roundstate = 3
ID = 6010

;ランプ切り替え(father)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,numhelper(2201) = 0
trigger2 = roundstate = 3
ID = 6020

;ランプ切り替え(father)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,numhelper(2201) != 0
trigger2 = roundstate = 3
ID = 6021
;---------------------------------------------------------------------------
;SM成功
[Statedef 950]
type     = S
movetype = I
physics  = S
anim     = 950
velset   = 0,0
ctrl     = 0
sprpriority = 5

[State 0, pos]
type = Offset
trigger1 = var(49) = 10000
trigger1 = 1
x = -10

[State 0, pos]
type = null;Offset
trigger1 = var(49) = 10000
trigger1 = !animtime
x = 10

[State 0, 円]
type = explod
trigger1 = var(49) = 10000
trigger1 = numexplod(868) = 0
trigger1 = !time
anim = 866
id = 868
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999
persistent = 0

[State 0, 円]
type = explod
trigger1 = var(49) = 10000
trigger1 = numexplod(867) = 0
trigger1 = !animtime
anim = 865
id = 867
pos = 0,-85
postype = p1
sprpriority = 4
ownpal = 1
shadow = 0,0,0
scale = .558,.715
pausemovetime = 999999
supermovetime = 999999
persistent = 0

[State 900, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = s6, 13
channel = -1

[State 900, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = s950, random%4
channel = 0

[State 900]
type = SuperPause
trigger1 = time = 0
time = 25
anim = -1
sound = -1
pos = 0,-50
movetime = 25
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[State -2]
type = Varadd
trigger1 = time = 1
v = 7
value = -4000
ignorehitpause = 1
persistent = 0

[State 900]
type = NotHitBy
trigger1 = 1
value = SCA
time = (6+19*(var(13)=2))

[State 900]
type = VarSet
trigger1 = 1
v = 14
value = (6+19*(var(13)=2))

[State 20000]
type = null;Helper
trigger1 = time = 0
helpertype = normal
name = "moji"
ID = 20025
pos = 45, -85
postype = p1
facing = facing
stateno = 20025
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 900]
type = VarSet
trigger1 = time = 0
fv = 7
value = 1
[State 900]
type = VarAdd
trigger1 = time = [1,10]
fv = 7
value = 0.02
[State 900]
type = VarAdd
trigger1 = time = [11,20]
fv = 7
value = -0.02

[State 180]
type = PosSet
trigger1 = 1
y = floor((const(size.mid.pos.y))+60*fvar(7))

[State 900]
type = AngleDraw
trigger1 = 1
scale = fvar(7),fvar(7)
value = 0


[State 180]
type = PosSet
trigger1 = time > 20
y = 0

[State 900, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(49) = 0
triggerall = p2statetype = A
triggerall = enemyNear,HitDefAttr !=SCA,HA,HT,HP
trigger1 = P2BodyDist X = [-20,40]
trigger1 = P2BodyDist Y = [-50,20]
trigger1 = animtime = 0
value = 200

[State 900, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(49) = 0
triggerall = p2statetype != A
triggerall = enemyNear,HitDefAttr !=SCA,HA,HT,HP
trigger1 = P2BodyDist X = [-20,50]
trigger1 = animtime = 0
value = 400

[State 900, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(49) = 10000
triggerall = p2statetype = A
triggerall = enemyNear,HitDefAttr !=SCA,HA,HT,HP
trigger1 = P2BodyDist X = [-20,40]
trigger1 = P2BodyDist Y = [-50,20]
trigger1 = animtime = 0
value = 10200

[State 900, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(49) = 10000
triggerall = p2statetype != A
triggerall = enemyNear,HitDefAttr !=SCA,HA,HT,HP
trigger1 = P2BodyDist X = [-20,50]
trigger1 = animtime = 0
value = 10400

[State 900, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;SM受け止め1
[Statedef 960]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 960
poweradd = 0
sprpriority = 6

[State 950]
type = NotHitBy
trigger1 = 1
value = ,AT

[State 950]
type = ReversalDef
trigger1 = root,var(14) <= 0
reversal.attr = SCA,AA,AP
attr = S,HT
p1stateno = 961

[State 950]
type = HitOverride
trigger1 = root,var(14) <= 0
attr = SCA,AP,AA,AT
slot = 1
stateno = 961
time = 1
forceair = 0

[State 950]
type = NotHitBy
trigger1 = root,var(14) > 0
value = SCA

[State 950]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1

[State 950]
type = DestroySelf
trigger1 = root,ctrl = 0
trigger1 = root,stateno != [100,101]
trigger2 = (root,var(13) >= 10)||(root,var(13) = 0)
trigger3 = root,statetype = A
trigger4 = time >= 10;root,var(28) = 0
trigger5 = root,var(14) > 0
;---------------------------------------------------------------------------
;SM受け止め2
[Statedef 961]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 36400
poweradd = 0
sprpriority = 6

[State 950]
type = DestroySelf
trigger1 = time >= 2
;---------------------------------------------------------------------------
;ガークラ喰らい
[Statedef 5910]
type     = S
movetype = H
physics  = S
anim     = 5910
velset   = -3,0
ctrl     = 0

[State 230, 2]
type = statetypeset
trigger1 = time = 0
trigger1 = pos y < 0
statetype = A
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = time = 0
v = 7
value = 5500
ignorehitpause = 1

[State 5910]
type = Explod
trigger1 = time = 0
anim = 15900
ID = 15900
pos = 0, -50
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.5, 0.5
sprpriority = 5

[State 5910]
type = Pause
trigger1 = time = 0
time = 25
movetime = 0

[State 5910]
type = ChangeAnim
trigger1 = time = 50
value = 5911

[State 5910]
type = PlaySnd
trigger1 = time = 0
value = s5, 2
channel = 0

[State 5910]
type = PlaySnd
trigger1 = time = 0
value = s15900, 0
channel = -1

[State 5910, ステート変更]
type = ChangeState
trigger1 = Statetype = A
trigger1 = AnimTime = 0 && anim = 5911
value = 50
ctrl = 1

[State 5910, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0 && anim = 5911
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;ゲージ類表示
[Statedef 7050]
Type = A
Movetype = I
Physics = N
VelSet = 0,0
anim = 9999
sprpriority = 8

[State 20000]
type = Varset
trigger1 = 1
fv = 5
value = (root,var(7))

[State 20000]
type = RemoveExplod
trigger1 = MatchOver = 1
triggerall = numexplod(7050) > 0
ID = 7050

[State 20000]
type = RemoveExplod
trigger1 = MatchOver = 1
triggerall = numexplod(7051) > 0
ID = 7051

[State 20000]
type = Explod
trigger1 = teamside = 1
trigger1 = MatchOver != 1
anim = 7051
ID = 7051
pos = (65-(root,var(3))), (60+(root,var(4)))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 2
scale = (0.000025*fvar(5)), 0.25
sprpriority = 8
removeongethit = 1
supermovetime = 999999999999999999
pausemovetime = 999999999999999999
ignorehitpause = 1
ownpal = 1

[State 20000]
type = Explod
trigger1 = numexplod(7050) = 0
trigger1 = teamside = 1
trigger1 = MatchOver != 1
anim = 7050
ID =7050
pos = (65-(root,var(3))), (60+(root,var(4)))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.25, 0.25
sprpriority = 7
removeongethit = 1
supermovetime = 999999999999999999
pausemovetime = 999999999999999999
ownpal = 1

[State 20000]
type = Explod
trigger1 = numexplod(7050) = 0
trigger1 = teamside = 2
trigger1 = MatchOver != 1
anim = 7050
ID = 7050
pos = (-65+(root,var(3))), (60+(root,var(4)))
postype = right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.25, 0.25
sprpriority = 7
removeongethit = 1
supermovetime = 999999999999999999
pausemovetime = 999999999999999999
ignorehitpause = 1
ownpal = 1

[State 20000]
type = Explod
trigger1 = teamside = 2
trigger1 = MatchOver != 1
anim = 7051
ID = 7051
pos = (-65+(root,var(3))), (60+(root,var(4)))
postype = right
facing = -1
vfacing = 1
bindtime = -1
removetime = 2
scale = (0.000025*fvar(5)), 0.25
sprpriority = 8
removeongethit = 1
supermovetime = 999999999999999999
pausemovetime = 999999999999999999
ignorehitpause = 1
ownpal = 1

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State -1]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State -1]
type = DestroySelf
trigger1 = numexplod = 0
trigger1 = MatchOver = 1
;-------------------------------------------------
;ゴゴゴモード※常駐
[Statedef 8500]
type = S
sprpriority = 0
anim = 36400

[State 0, var]
type = parentvarset
trigger1 = 1
var(41) = 1

[State 0, anim]
type = changeanim
triggerall = root,var(49) = !10000
triggerall = root,var(41)
trigger1 = anim != root,anim
trigger2 = anim = root,anim
trigger2 = animelemno(0) != parent,animelemno(0)
value = root,anim
elem = root,animelemno(0)

[State 0, anim]
type = changeanim
triggerall = root,var(49) = 10000
triggerall = root,var(41)
trigger1 = anim != helper(1),anim
trigger2 = anim = helper(1),anim
trigger2 = animelemno(0) != parent,animelemno(0)
value = helper(1),anim
elem = helper(1),animelemno(0)

[State 10001 固定]
type = BindToParent
triggerall = root,var(49) = !10000
trigger1 = 1
time = 1
pos = 0,1

[State 10001 固定]
type = BindToParent
triggerall = root,var(49) = 10000
trigger1 = 1
time = 1
pos = -10,1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = root,life >= 300
trigger2 = root,stateno != [120,155]
trigger2 = root,stateno != [5000,5900]
trigger2 = root,movetype = H
flag = invisible

[State 1020, Blink Yellow]
type = PalFX
trigger1 = 1
time = 1
add = 255,0,0
mul = 256,256,256
sinadd = 50,0,0,100
color = 256

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256

[State -2, ゴゴゴ補正]
type=varset
trigger1 = root,life < 300
fvar(8) = 1.2

;ゴゴゴ目線
[State -2]
type = helper
triggerall = root,alive
triggerall = root,life < 300
trigger1 = roundstate = 2 
trigger1 = numhelper(8510) = 0
stateno = 8510
id = 8510
pos = -50,-20
pausemovetime = 999999
supermovetime = 999999
sprpriority = 1
postype = back
ownpal = 1
size.xscale = .6
size.yscale = .6
persistent = 0

[State 20026, 0]
type = DestroySelf
trigger1 = roundstate != 2
trigger2 = !root,alive
;-------------------------------------------------
;ゴゴゴ目線
[Statedef 8510]
type = S
sprpriority = 8
anim = 36400

[State 0, explod]
type = explod
trigger1 = teamside = 1
trigger1 = time = 1
anim = 8510
id = 8510
pos = -50,170
postype = left
bindtime = -1
scale = .6,.6
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(8510)
trigger1 = time <= 20
pos = ceil(-160+(time*10)),170
postype = left
id = 8510

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(8510)
trigger1 = time = 22
pos = 65,170
postype = left
id = 8510

[State 0, explod]
type = explod
trigger1 = teamside = 2
trigger1 = time = 1
anim = 8515
id = 8515
pos = -50,170
postype = right
bindtime = -1
scale = .6,.6
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(8515)
trigger1 = time <= 20
pos = ceil(160-(time*10)),170
postype = right
id = 8515

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(8515)
trigger1 = time = 22
pos = -65,170
postype = right
id = 8515

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 8500,10

[State 0, pos]
type = playsnd
trigger1 = time = 1
value = 8500,random%2

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 20026, 0]
type = DestroySelf
trigger1 = time = 100
;---------------------------------------------------------------------------
; カンフーマンのこのコンスタンツファイルをそのまま使う場合は、
; ここからステートを追加すると整理しやすいでしょう。
;
; ・・・ってエレクバイト先生が言ってるけど、正直使いにくいかも（ﾏﾃｺﾗ
; 冗談です(´・ω:;.:...
;---------------------------------------------------------------------------
;===========================================================================
; 常時監視ステート（－２）
;===========================================================================
;---------------------------------------------------------------------------
; 通常の食らい状態（Statedef 5000～5199間）でも、
; 相手に（「P2StateNo」や「TargetState」等で）制御を奪われても、
; 常に登録したステートコントローラが有効になります。
; サブシステム等を制御する時に重宝するでしょう。
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞの手を表示する
[Statedef -2]

[State -2];調整
type = null;powerset
trigger1 = !numtarget
value = 0
ignorehitpause = 1

[State -2]
type = helper
trigger1 = numhelper(1001) = 0
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(1001) = 0
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;-----------------------------------
[State -2];AI用コンボカウント初期化(AI用)
type = varset
triggerall = var(59)
trigger1 = stateno = 0 || stateno = 11
trigger1 = !numtarget
trigger2 = movetype = H
var(50) = 0

[State -2]
type = varset
triggerall = var(59)= 1
triggerall = var(50) = 0
trigger1 = stateno = 2220
;trigger1 = !time
v = 50
value = 1
ignorhitpause = 0
;-----------------------------------
;ゲージ管理
[State -2]
type = VarSet
trigger1 = stateno = 5900
trigger2 = stateno = [190,194]
trigger3 = stateno = [25192,25199]
v = 7
value = 10000
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = var(7) < 0
v = 7
value = 0
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = var(7) > 10000
v = 7
value = 10000
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = roundstate = 2
v = 16
value = 1
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = stateno = 150 ||  stateno = 152 ||  stateno = 154
trigger2 = stateno = 950
v = 16
value = 0
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = var(7) < 10000
trigger1 = var(16) > 200
v = 7
value = 10
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = !time
trigger1 = prevstateno = 150 ||  prevstateno = 152 ||  prevstateno = 154
trigger1 = stateno = 150 ||  stateno = 152 ||  stateno = 154
v = 7
value = -50
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = !time
trigger1 = prevstateno = 151 ||  prevstateno = 153 ||  prevstateno = 155
trigger1 = stateno = 150 ||  stateno = 152 ||  stateno = 154
v = 7
value = -150
ignorehitpause = 1

[State -2]
type = Varadd
trigger1 = prevstateno != 150 &&  prevstateno != 152 &&  prevstateno != 154
trigger1 = prevstateno != 151 &&  prevstateno != 153 &&  prevstateno != 155
trigger1 = !time
trigger1 = stateno = 150 ||  stateno = 152 ||  stateno = 154
v = 7
value = -300
ignorehitpause = 1
;-----------------------------------
;ゲージヘルパー
[state -2, ゲージヘルパー]
type = helper
trigger1 = !numhelper(7050)
trigger1 = !ishelper
helpertype = normal
name = "gauge"
stateno = 7050
ID = 7050
postype = p1
pos = 0,9999
keyctrl = 0
pausemovetime = 2147483647
supermovetime = 2147483647
;-----------------------------------
[State -2];SM処理
type = ChangeState
trigger1 = numhelper(960) > 0
trigger1 = helper(960),stateno = 961
trigger1 = stateno != 960
value = 950
ctrl = 0

[State -2]
type = VarAdd
trigger1 = var(13) > 0
v = 13
value = 1

[State -2]
type = VarSet
triggerall = var(13) <= 0
triggerall = var(7) > 4000
trigger1 = var(59) = 0
trigger1 = command = "holdback"
trigger2 = var(59) = 1
trigger2 = var(7) > 5000
v = 13
value = 1

;無敵変数減少
[State -2]
type = VarAdd
trigger1 = var(14) > 0
v = 14
value = -1

[State -2]
type = VarSet
trigger1 = var(13) >= 25
trigger1 = var(59) = 0
trigger1 = command != "holdback"
trigger2 = var(59) = 0
trigger2 = command = "holdfwd"
trigger2 = command != "holdback"
trigger3 = stateno = 900 && time = 1
trigger4 = var(13) < 0
trigger5 = stateno = [5000,5100];movetype = H && (stateno != [120,155])
v = 13
value = 0

[State -2]
type = Helper
trigger1 = numhelper(910) = 0
trigger1 = var(13) = [1,9]
trigger1 = var(14) <= 0
helpertype = normal
name = "SM"
ID = 960
pos = 0, 0
postype = p1
facing = 1
stateno = 960
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
;-----------------------------------
[State -2];ガークラ
type = ChangeState
trigger1 = var(7) <= 0
trigger1 = alive
trigger1 = stateno = [120,155]
value = 5910
ctrl = 0
;-----------------------------------
;ゴゴゴモード
[State -2]
type = helper
triggerall = roundstate = 2 
trigger1 = !Numhelper(8500)
trigger1 = 1
stateno = 8500
id = 8500
pos = 0,0
pausemovetime = 999999
supermovetime = 999999
sprpriority = -1
postype = p1
ownpal = 1
size.xscale = 0.95
size.yscale = 1.02
;-----------------------------------
[State 12200, StopSound];挑発ボイス停止
type = StopSnd
trigger1 = stateno = [120,159]
channel = 0
;-----------------------------------
[State -2, エフェクトを消す];挑発KQ腕
type = RemoveExplod
trigger1 = stateno != 195
trigger2 = var(10) = 0
trigger2 = stateno = 195 && animelem = 27
trigger3 = var(10) = 1
trigger3 = stateno = 195 && animelem = 47
ID = 9198

[State -2, エフェクトを消す];猫草ルーペ
type = RemoveExplod
trigger1 = stateno != [3300,3301]
trigger1 = stateno != [13300,13302]
ID = 3390
;-----------------------------------
[State -2];早人
type = helper
triggerall = var(34)
trigger1 = numhelper(8810) = 0
helpertype = normal
postype = p1
pos = -30,0
sprpriority = -1
ownpal = 1
stateno = 8810
id = 8810
size.xscale = 1
size.yscale = 1
size.shadowoffset = -7
;-----------------------------------
;爆弾ランプ 表示
[State -2]
type = helper
triggerall = roundstate = 2 
trigger1 = !Numhelper(6000)
trigger1 = 1
stateno = 6000
id = 6000
pos = 50,15;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
[State 810, HitBy]
type = HitBy
trigger1 = numhelper(11602)
value = SCA, NT,ST,HT
time = 1
;---------------------------------------------------------------------------
;EB解除
[State -2]
type = varset
trigger1 = ctrl
var(8) = 0
;---------------------------------------------------------------------------
[State -2];スタンド出現時にガード不可にする
type = AssertSpecial
trigger1 = NumHelper(1001) = 1 
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1
;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
[State -2]
type = null;ChangeState
trigger1 = var(11) != 0
trigger1 = stateno != [16502,16504]
value = ifelse(StateType=S,16502,(ifelse(StateType=C,16503,16504)))
ctrl = 0
;---------------------------------------------------------------------------
;コンボ補正
[State -2, 補正リセット]
type=varset
;trigger1=!var(54)
trigger1=!numtarget
var(40)=0

[State -2, ヒット数加算]
type=varadd
triggerall=numtarget
triggerall=enemynear,movetype=h
triggerall=enemynear,gethitvar(hitcount)>var(40)
triggerall=stateno != 11000 && stateno != 11010 && stateno != 11020
;triggerall=stateno != 10220
trigger1=movehit
trigger2=projhittime(0)=0
;ヘルパー用
trigger3=numhelper(1001)
trigger3=helper(1001),movehit=1+(movetype!=a)
var(40)=1

[State -2, ヒット数加算] 
type = null;varadd
trigger1 = stateno = 10220
trigger1 = time <= 16
trigger1 = movehit = 1
v = 40
value = 1


;補正値
[State -2, 補正レベル1]
type=varset
trigger1= var(40) = 0
fvar(1) = 1

[State -2, 補正レベル2]
type=varset
trigger1= var(40) >= 3
fvar(1) = 0.88

[State -2, 補正レベル2]
type=varset
trigger1= var(40) >= 5
fvar(1) = 0.80

[State -2, 補正レベル3]
type=varset
trigger1= var(40) >= 8
fvar(1) = 0.73

[State -2, 補正レベル4]
type=varset
trigger1= var(40) >= 11
fvar(1) = 0.67

[State -2, 補正レベル5]
type=varset
trigger1= var(40) >= 14
fvar(1) = 0.60

[State -2, 補正レベル6]
type=varset
trigger1= var(40) >= 17
fvar(1) = 0.52

[State -2, 補正レベル7]
type=varset
trigger1= var(40) >= 20
fvar(1) = 0.42

[State -2, 補正レベル8]
type=varset
trigger1= var(40) >= 25
fvar(1) = 0.32

[State -2, 補正レベル9]
type=varset
trigger1= var(40) >= 30
fvar(1) = 0.2

[State -2, 補正適用]
type=attackmulset
trigger1=1
value=ifelse(life <= 300,1.2,1)
;-----------------------------------
[State -2];財布
type = null;helper
trigger1 = stateno = 0
trigger1 = numhelper(1900) = 0
helpertype = normal
postype = p1
sprpriority = 2
ownpal = 1
stateno = 1900
id = 1900
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;---------------------------------------------------------------------------
[State -2];本体ダミー
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 999999
;-----------------------------------
[State -2];スタンドを本体に戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000
trigger1 = alive = 0
trigger1 = animTime = 0

trigger2 = var(49) = 10000 && movetype = H
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14000,14005]
trigger2 = movetype = H && anim != [15000,15210]
trigger2 = stateno != [14400,14405]
trigger3 = var(49) = 10000
trigger3 = anim = 5110 && movetype = H
;-----------------------------------
[State -2, デバッグ(変数確認)]
Type = DisplayToClipBoard
Trigger1 = 1
Text = "var(50)=%d,var(40)=%d,var(47)=%d,fvar(6)=%f,3101 x=%f"
Params = var(50),var(40),var(47),fvar(6),helper(3101),pos x
IgnoreHitPause = 1

;[State -2, クリップボード（追加専用）]
;type = AppendToClipboard
;trigger1 = 1
;text = "Position X=%d,Y=%d, Velocity X=%f,Y=%f, Hit=%d \n"
;params = floor(Pos X),floor(Pos Y),(Vel X),(Vel Y),(MoveHit)
;===========================================================================
; 準常時監視ステート（－３）
;===========================================================================
;---------------------------------------------------------------------------
; こちらは通常の食らい状態以外の「P2StateNo」や「TargetState」等で制御された、
; 作成者が任意に指定した相手側の食らいステートに限り、
; 登録したステートコントローラが有効にはなりません。
; －１や－２と上手く使い分けて行きましょう。
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = S
value = 15000
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = C
value = 15010
ctrl = 0
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(1001)
trigger1 = helper(1001),stateno = 9500
trigger1 = !helper(1001),time
trigger1 = statetype = A
value = 15020
ctrl = 0
;---------------------------------------------------------------------------
;必殺技キャンセル時の効果音
[State -3]
type = PlaySnd
triggerall = time = 1
triggerall = prevstateno = [200,620]
trigger1 = stateno = [450,454]
trigger2 = stateno = [1000,1020]
trigger3 = stateno = [1100,1120]
trigger4 = stateno = [1200,1220]
trigger5 = stateno = [1300,1320]
trigger6 = stateno = [1400,1420]
value = 6, 10

;必殺技キャンセル時のエフェクト(キラキラ)
[State 10820, おまけ]
type = Explod
triggerall = time = 1
triggerall = numexplod(890) = 0
triggerall = prevstateno = [200,620]
trigger1 = stateno = [450,454]
trigger2 = stateno = [1000,1020]
trigger3 = stateno = [1100,1120]
trigger4 = stateno = [1200,1220]
trigger5 = stateno = [1300,1320]
trigger6 = stateno = [1400,1420]
facing = 1                 
postype = p1
pos = 0,-60
anim = 890
id = 890
sprpriority = 5
ownpal = 1
scale = 1,1
;removetime = 1

;必殺技キャンセル時のエフェクト(キラキラB)
[State 10820, おまけ]
type = Explod
triggerall = time = 5
triggerall = numexplod(891) = 0
triggerall = prevstateno = [200,620]
trigger1 = stateno = [450,454]
trigger2 = stateno = [1000,1020]
trigger3 = stateno = [1100,1120]
trigger4 = stateno = [1200,1220]
trigger5 = stateno = [1300,1320]
trigger6 = stateno = [1400,1420]
facing = 1                 
postype = p1
pos = 0,-80
anim = 890
id = 891
sprpriority = 5
ownpal = 1
scale = .5,.5
;removetime = 1

;必殺技キャンセル時の効果音(Son)
[State -2]
type = PlaySnd
triggerall = time = 1
triggerall = prevstateno = [10200,10620]
trigger1 = stateno = [11000,11020]
trigger2 = stateno = 11030
trigger3 = stateno = [11100,11120]
trigger4 = stateno = [11400,11420]
value = 6, 10

;必殺技キャンセル時のエフェクト(キラキラ)(Son)
[State 10820, おまけ]
type = Explod
triggerall = time = 1
triggerall = numexplod(890) = 0
triggerall = prevstateno = [10200,10620]
trigger1 = stateno = [11000,11020]
trigger2 = stateno = 11030
trigger3 = stateno = [11100,11120]
trigger4 = stateno = [11400,11420]
facing = 1                 
postype = p1
pos = 0,-60
anim = 890
id = 890
sprpriority = 6
ownpal = 1
scale = 1,1
;removetime = 1

;必殺技キャンセル時のエフェクト(キラキラB)(Son)
[State 10820, おまけ]
type = Explod
triggerall = time = 5
triggerall = numexplod(891) = 0
triggerall = prevstateno = [10200,10620]
trigger1 = stateno = [11000,11020]
trigger2 = stateno = 11030
trigger3 = stateno = [11100,11120]
trigger4 = stateno = [11400,11420]
facing = 1                 
postype = p1
pos = 0,-80
anim = 890
id = 891
sprpriority = 6
ownpal = 1
scale = .5,.5
;removetime = 1
;-----------------------------------
[State -3, 音を鳴らす]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52  ;着地ステート
trigger2 = stateno = 106 ;バックステップ後の着地ステート
value = 40, 0
;-----------------------------------
; 飛び道具検知用ヘルパー
[State -3,]
type=helper
trigger1=!NumHelper(40005)
trigger1=roundstate=2
trigger1=alive
helpertype=normal
name="AI"
stateno=40005
ID=40005
pos=9999,9999
keyctrl=0
pausemovetime=0
supermovetime=0
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(40005)
trigger1= stateno!=40005
value=40005
;-----------------------------------
[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(50000)
trigger1=roundstate=2
trigger1=alive
;trigger1=var(59) = 0
;Trigger1=(PrevStateNo=[190,194])||PrevStateNo=5900||(PrevStateNo=[25195,25199])
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(50000)
trigger1= stateno!=50000
value=50000
;---------------------------------------------------------------------------
;-AIフラグ-
[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58) 
triggerall = RoundState = [1,2]
trigger1 = Command = "AI_58"
trigger2 = Command = "AI_01"
trigger3 = Command = "AI_02"
trigger4 = Command = "AI_03"
trigger5 = Command = "AI_04"
trigger6 = Command = "AI_05"
trigger7 = Command = "AI_06"
trigger8 = Command = "AI_07"
trigger9 = Command = "AI_08"
trigger10 = Command = "AI_09"
trigger11 = Command = "AI_10"
trigger12 = Command = "AI_11"
trigger13 = Command = "AI_12"
trigger14 = Command = "AI_13"
trigger15 = Command = "AI_14"
trigger16 = Command = "AI_15"
trigger17 = Command = "AI_16"
trigger18 = Command = "AI_17"
trigger19 = Command = "AI_18"
trigger20 = Command = "AI_19"
trigger21 = Command = "AI_20"
trigger22 = Command = "AI_21"
trigger23 = Command = "AI_22"
trigger24 = Command = "AI_23"
trigger25 = Command = "AI_24"
trigger26 = Command = "AI_25"
trigger27 = Command = "AI_26"
trigger28 = Command = "AI_27"
trigger29 = Command = "AI_28"
trigger30 = Command = "AI_29"
trigger31 = Command = "AI_30"
trigger32 = Command = "AI_31"
trigger33 = Command = "AI_32"
trigger34 = Command = "AI_33"
trigger35 = Command = "AI_34"
trigger36 = Command = "AI_35"
trigger37 = Command = "AI_36"
trigger38 = Command = "AI_37"
trigger39 = Command = "AI_38"
trigger40 = Command = "AI_39"
trigger41 = Command = "AI_40"
trigger42 = Command = "AI_41"
trigger43 = Command = "AI_42"
trigger44 = Command = "AI_43"
trigger45 = Command = "AI_44"
trigger46 = Command = "AI_45"
trigger47 = Command = "AI_46"
trigger48 = Command = "AI_47"
trigger49 = Command = "AI_48"
trigger50 = Command = "AI_49"
trigger51 = Command = "AI_50"
trigger52 = Command = "AI_51"
trigger53 = Command = "AI_52"
trigger54 = Command = "AI_53"
trigger55 = Command = "AI_54"
trigger56 = Command = "AI_55"
trigger57 = Command = "AI_56"
trigger58 = Command = "AI_57"
Trigger59 = Helper(20000),var(59)
;trigger60 = RoundState = 2  ;常時AI起動トリガー　
var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58
Value = 8 ;1～12の値で変更
;---------------------------------------------------------------------------
[Statedef 40005];飛び道具検出用ヘルパー
type = A
ctrl = 0
anim = 36400
movetype = I
physics = N
sprpriority = 1

;保険等---------------------
[State 40005]
type = SelfState
trigger1 = !IsHelper
Value = 0
[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible
[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------

[State 40005];スイッチリセット
type = parentvarset
trigger1 = 1
var(47)=0

[State 40005, 検出P];相手projが存在するときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = Enemy(0),numproj > 0
trigger2 = Enemy(numenemy=2),numproj > 0
var(47)=1

[State 40005, 検出H];相手ヘルパーが攻撃判定を持つときスイッチON
type = parentvarset
triggerall = NumEnemy
trigger1 = playerIDexist(ID-1)=1 ;このヘルパーの１つ前のプレイヤーIDが存在するとき。
trigger1 = (playerID(ID-1),hitdefattr = SCA,AA,AT,AP || playerID(ID-1),movetype = A) && playerID(ID-1),teamside != root,teamside && playerID(ID-1),ishelper
trigger2 = playerIDexist(ID-2)=1 ;このヘルパーの２つ前のプレイヤーIDが存在するとき。以下同様
trigger2 = (playerID(ID-2),hitdefattr = SCA,AA,AT,AP || playerID(ID-2),movetype = A) && playerID(ID-2),teamside != root,teamside && playerID(ID-2),ishelper
trigger3 = playerIDexist(ID-3)=1
trigger3 = (playerID(ID-3),hitdefattr = SCA,AA,AT,AP || playerID(ID-3),movetype = A) && playerID(ID-3),teamside != root,teamside && playerID(ID-3),ishelper
trigger4 = playerIDexist(ID-4)=1
trigger4 = (playerID(ID-4),hitdefattr = SCA,AA,AT,AP || playerID(ID-4),movetype = A) && playerID(ID-4),teamside != root,teamside && playerID(ID-4),ishelper
trigger5 = playerIDexist(ID-5)=1
trigger5 = (playerID(ID-5),hitdefattr = SCA,AA,AT,AP || playerID(ID-5),movetype = A) && playerID(ID-5),teamside != root,teamside && playerID(ID-5),ishelper
trigger6 = playerIDexist(ID-6)=1
trigger6 = (playerID(ID-6),hitdefattr = SCA,AA,AT,AP || playerID(ID-6),movetype = A) && playerID(ID-6),teamside != root,teamside && playerID(ID-6),ishelper
trigger7 = playerIDexist(ID-7)=1
trigger7 = (playerID(ID-7),hitdefattr = SCA,AA,AT,AP || playerID(ID-7),movetype = A) && playerID(ID-7),teamside != root,teamside && playerID(ID-7),ishelper
trigger8 = playerIDexist(ID-8)=1
trigger8 = (playerID(ID-8),hitdefattr = SCA,AA,AT,AP || playerID(ID-8),movetype = A) && playerID(ID-8),teamside != root,teamside && playerID(ID-8),ishelper
trigger9 = playerIDexist(ID-9)=1
trigger9 = (playerID(ID-9),hitdefattr = SCA,AA,AT,AP || playerID(ID-9),movetype = A) && playerID(ID-9),teamside != root,teamside && playerID(ID-9),ishelper
trigger10= playerIDexist(ID-10)=1
trigger10= (playerID(ID-10),hitdefattr = SCA,AA,AT,AP || playerID(ID-10),movetype = A) && playerID(ID-10),teamside != root,teamside && playerID(ID-10),ishelper
trigger11= playerIDexist(ID-11)=1
trigger11= (playerID(ID-11),hitdefattr = SCA,AA,AT,AP || playerID(ID-11),movetype = A) && playerID(ID-11),teamside != root,teamside && playerID(ID-11),ishelper
trigger12= playerIDexist(ID-12)=1
trigger12= (playerID(ID-12),hitdefattr = SCA,AA,AT,AP || playerID(ID-12),movetype = A) && playerID(ID-12),teamside != root,teamside && playerID(ID-12),ishelper
trigger13= playerIDexist(ID-13)=1
trigger13= (playerID(ID-13),hitdefattr = SCA,AA,AT,AP || playerID(ID-13),movetype = A) && playerID(ID-13),teamside != root,teamside && playerID(ID-13),ishelper
trigger14= playerIDexist(ID-14)=1
trigger14= (playerID(ID-14),hitdefattr = SCA,AA,AT,AP || playerID(ID-14),movetype = A) && playerID(ID-14),teamside != root,teamside && playerID(ID-14),ishelper
trigger15= playerIDexist(ID-15)=1
trigger15= (playerID(ID-15),hitdefattr = SCA,AA,AT,AP || playerID(ID-15),movetype = A) && playerID(ID-15),teamside != root,teamside && playerID(ID-15),ishelper
trigger16= playerIDexist(ID-16)=1
trigger16= (playerID(ID-16),hitdefattr = SCA,AA,AT,AP || playerID(ID-16),movetype = A) && playerID(ID-16),teamside != root,teamside && playerID(ID-16),ishelper
trigger17= playerIDexist(ID-17)=1
trigger17= (playerID(ID-17),hitdefattr = SCA,AA,AT,AP || playerID(ID-17),movetype = A) && playerID(ID-17),teamside != root,teamside && playerID(ID-17),ishelper
trigger18= playerIDexist(ID-18)=1
trigger18= (playerID(ID-18),hitdefattr = SCA,AA,AT,AP || playerID(ID-18),movetype = A) && playerID(ID-18),teamside != root,teamside && playerID(ID-18),ishelper
trigger19= playerIDexist(ID-19)=1
trigger19= (playerID(ID-19),hitdefattr = SCA,AA,AT,AP || playerID(ID-19),movetype = A) && playerID(ID-19),teamside != root,teamside && playerID(ID-19),ishelper
trigger20= playerIDexist(ID-20)=1
trigger20= (playerID(ID-20),hitdefattr = SCA,AA,AT,AP || playerID(ID-20),movetype = A) && playerID(ID-20),teamside != root,teamside && playerID(ID-20),ishelper
var(47)=ceil(playerID(ID-1),p2bodydist x)

[State 40005];検出にかからなかったら消滅
type = destroyself
trigger1 = root,var(47)=0
;-------------------------------------------------------------------------
;AI起動用ヘルパー
[Statedef 50000]
anim=36400;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible

[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1
;----------------------------------------------------------------------------------
; AIフラグセット
;----------------------------------------------------------------------------------
[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,ﾌﾗｸﾞON]
type=parentvarset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1
;----------------------------------------------------------------------------------
; 暗転計測
;----------------------------------------------------------------------------------
[State -1]
type = VarSet
trigger1 = root,var(59) > 0
trigger1 = enemynear,time = 1
v = 15
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = root,var(59)
v = 15
value = 1
ignorehitpause = 1
;----------------------------------------------------------------------------------
; ガードしている時間の計測(ガーキャン条件用)
;----------------------------------------------------------------------------------
[State -1]
type = Varadd
trigger1 = root,var(59)
trigger1 = (root,stateno = [150,153]); || root,stateno = 710
var(16) = 1
ignorehitpause = 1

[State -1]
type = Varset
trigger1 = root,stateno != [150,153]
;trigger1 = root,stateno != 710
var(16) = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
;SRコンボ-Dash
[Statedef 98000]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = !numtarget
trigger3 = helper(1001),numtarget = 0
value = 101

[State 52, 4]
type = ChangeState
trigger1 = p2bodydist x = [-20,40]
value = 98001
;---------------------------------------------------------------------------
;SRコンボ-しゃがみ弱
[Statedef 98001]
type    = C
movetype= A
physics = C
ctrl = 0
anim = 400
sprpriority = 2
facep2 = 1

[State 400, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 400, 0
channel = 0

[State 200, 1]
type = Hitdef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = back
fall.animtype = back
priority = 3,Hit
damage = 12*fvar(1)
pausetime = 8,7
getpower = ifelse(helper(8500),fvar(8)=0,20,20*1.1)
givepower = 20
guard.pausetime = 8,7
sparkno = s810
guard.sparkno = S840
sparkxy = -10,-60
hitsound = S1,0
guardsound = S1,5
ground.type = Low
air.type = Low
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -2.5
guard.velocity = -2.5
air.velocity = -3
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
persistent = 0
fall = 0
fall.recover = 0
air.fall = 0
yaccel = .44

[State 52, 4]
type = ChangeState
trigger1 = !animtime
trigger1 = !numtarget
value = 11
ctrl = 1

[State 52, 4]
type = ChangeState
trigger1 = !animtime
trigger1 = numtarget
value = 98002
;---------------------------------------------------------------------------
;SRコンボ-Dash
[Statedef 98002]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 52, 4]
type = ChangeState
trigger1 = time = 6
value = 400

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 101
;---------------------------------------------------------------------------
;親父-Dash
[Statedef 98005]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 100, 1]
type = VarSet
trigger1 = 1
var(50) = 1

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 52, 4]
type = ChangeState
trigger1 = time = 2
value = 2200

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = !numtarget
value = 101
;---------------------------------------------------------------------------
;親父-Jump Start
[Statedef 98006]
type    = S
physics = S
anim = 40+var(49)
ctrl = 0
sprpriority = 1

[State 40]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = !var(59)
trigger1 = command = "holdfwd"
trigger2 = var(59)
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = !var(59)
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0 
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
Triggerall = var(30) = 1
trigger1 = time = 0
var(5) = 0

;ショートジャンプフラグ設定
[State 40, 0]
type = VarSet
trigger1 = !var(59)
Triggerall = var(30) = 1
trigger1 = command != "holdup" ;上を押しっぱなしじゃなかたら
var(5) = 1

[State 40, 0];ショートジャンプ
type = VelSet
Triggerall = var(30) = 1
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
triggerall = !var(50)
trigger1 = var(59) = 1
value = 0
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;プツキャンから-Dash
[Statedef 98007]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 52, 4]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = p2bodydist x = [-20,20]
value = 10400

[State 52, 4]
type = ChangeState
triggerall = !var(49)
trigger1 = p2bodydist x = [-20,20]
value = 400

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = !numtarget
value = 101
;---------------------------------------------------------------------------
;SRコンボ-Dash-Part2
[Statedef 98050]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 0, vel]
type = varset
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time = 0
var(50) = 3

[State 52, 4]
type = ChangeState
trigger1 = time = 4
value = 200

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 101
;---------------------------------------------------------------------------
;SRコンボ-Dash-Part3
[Statedef 98060]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 0, vel]
type = varset
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time = 0
var(50) = 3

[State 52, 4]
type = ChangeState
trigger1 = time > 6
trigger1 = p2bodydist x = [-20,10]
value = 98061

[State 52, 4]
type = ChangeState
trigger1 = time > 6
trigger1 = target,pos y > -40
trigger1 = p2bodydist x = [-20,45]
value = 200

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 101
;---------------------------------------------------------------------------
;ゲージ欠乏コンボ-待ち-Part2
[Statedef 98061]
type    = S
physics = S
anim = 0
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = !time
x = 0

[State 52, 4]
type = ChangeState
trigger1 = target,pos y > -50
trigger1 = p2bodydist x = [-20,45]
value = 200

[State 101, 3]
type = ChangeState
trigger1 = !var(59)
trigger2 = var(59) = 1
trigger2 = !numtarget
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ゲージ欠乏コンボ-Dash-Part3
[Statedef 98070]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 52, 4]
type = ChangeState
trigger1 = p2bodydist x = [-20,20]
value = 98071

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = !numtarget
value = 101
;---------------------------------------------------------------------------
;ゲージ欠乏コンボ-待ち-Part3
[Statedef 98071]
type    = S
physics = S
anim = 0
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = !time
x = 0

[State 52, 4]
type = ChangeState
trigger1 = target,vel y >= 0
trigger1 = target,pos y > -55
trigger1 = p2bodydist x = [-20,45]
value = 200

[State 101, 3]
type = ChangeState
trigger1 = !var(59)
trigger2 = var(59) = 1
trigger2 = !numtarget
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ゲージ欠乏コンボ-待ちB-Part3
[Statedef 98072]
type    = S
physics = S
anim = 0
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = !time
x = 0

[State 52, 4]
type = ChangeState
trigger1 = numhelper(1003) = 1
trigger1 = numtarget
trigger1 = numhelper(1001) = 0
value = 1005

[State 101, 3]
type = ChangeState
trigger1 = !var(59)
trigger2 = var(59) = 1
trigger2 = !numtarget
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = numhelper(1003) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;SRコンボ-Dash-Part2
[Statedef 98073]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 0, vel]
type = varset
triggerall = var(59)=1&& RoundState = 2 
trigger1 = time = 0
var(50) = 11

[State 52, 4]
type = ChangeState
trigger1 = time > 6
trigger1 = p2bodydist x = [-20,45]
value = 200

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = !numtarget
value = 101
;---------------------------------------------------------------------------
;打ち上げバイツァ準備DUSH
[Statedef 98090]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = 6.5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, vel]
type = velset
trigger1 = anim = 101+var(0)
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 52, 4]
type = ChangeState
trigger1 = p2bodydist x = [-20,20]
value = 98091

[State 101, 3]
type = ChangeState
triggerall = time >= 8
trigger1 = !var(59)
trigger1 = command != "holdfwd"
trigger2 = time = 30
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
trigger4 = var(59) = 1
trigger4 = !numtarget
value = 101
;---------------------------------------------------------------------------
;ゲージ欠乏コンボ-待ち-Part3
[Statedef 98091]
type    = S
physics = S
anim = 0
sprpriority = 1
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = !time
x = 0

[State 52, 4]
type = ChangeState
trigger1 = target,pos y > -50
trigger1 = p2bodydist x = [-20,45]
value = 200

[State 101, 3]
type = ChangeState
trigger1 = !var(59)
trigger2 = var(59) = 1
trigger2 = !numtarget
trigger3 = var(59) = 1
trigger3 = P2BodyDist X < -80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;QUEENの『good old fashioned lover boy』好き。ホント良い曲。BITE A DUSTも好き。
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ■最後に『コモンステート』について■
; コモンステートとは、全キャラ共通の基本動作のステートです。
; 通常は特に変更しない限り、M.U.G.E.N本体のdataフォルダにある
;「common1.cns（コモンステートファイル）」を使います。
;
; しかし、もしもあなたのキャラのステートファイルでcommon1.cnsと同じ番号の
; 基本動作のステートを作った場合は処理が上書きされ、
; common1.cns側の同じ番号のステートは無効になります。
;
; common1.cnsのプログラム優先度は最低に属しているので、
; ステートの作成には番号に注意しないといけません。
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
