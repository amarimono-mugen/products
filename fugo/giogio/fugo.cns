; KFM's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

; これはKFMの定数と状態のファイルです。
; このファイルの中には注釈が散らされているので、CNSを習いたいお方は
; 読んでみたらいいです。

[Data]
;Amount of life to start with
;体力ゲージの初期値
life = 1000
;パワーゲージの最大値
power = 10000 
;attack power (more is stronger)
;攻撃ダメージ
attack = 100
;defensive power (more is stronger)
;体力パワー
defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 0
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex  = 56,59     ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める（※１）
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める（※１）

[Size]
xscale      = .833    ;キャラの横の大きさ（絶対値・float）
yscale      = 1.00     ;キャラの縦の大きさ（絶対値・float）
ground.back = 15     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.4      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 5.6, 0    ;Run forward (x, y)
run.back = -5.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-10.8		;垂直ジャンプの速度
jump.back = -3.18		;後ジャンプの速度
jump.fwd = 3.42		;前ジャンプの速度
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .54			;重力
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
;---------------------------------------------------------------------------
; 勝利メッセージ
;---------------------------------------------------------------------------
[ja.Quotes]
victory1 = "ド低能がァーーーッ"
;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

[State 0, var]
type = varrandom
trigger1 = !time
v = 8
range = 0,1

[State 180, 1]
type = ChangeState
trigger1 = var(49) = 10000 ;スタンドモード時
value = 183

[State 180, 1]
type = ChangeState
trigger1 = var(8) = 1
trigger1 = var(49) != 10000 
trigger1 = Time = 0
value = 181

[State 180, 1]
type = ChangeState
trigger1 = var(8) = 0
trigger1 = var(49) != 10000 
trigger1 = Time = 0
value = 186
;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 181]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 180, 1]
type = ChangeState
trigger1 = TeamMode = simul
trigger1 = Time = 0
value = 185

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(182) = 0
helpertype = normal
name = "ph"
stateno = 182
id = 182
pos = -10, 0
postype = p1
ownpal = 1
facing = 1

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 25
value = 3,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;ヘイズ helper
[Statedef 182]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 184
sprpriority = 3

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------------------------------------------------------------
; Win pose 1 - Bow son
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
[Statedef 185]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 191, 99] 
type = AssertSpecial
trigger1 = Time = [0,200]
flag = roundnotover

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 3,6

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(187) = 0
helpertype = normal
name = "ph"
stateno = 187
id = 187
pos = 15, 0
postype = p1
ownpal = 1
facing = 1

[State 191, 99] 
type = AssertSpecial
trigger1 = Time = [0,100]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;ヘイズ helper
[Statedef 187]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 187
sprpriority = 0

[State 181, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------------------------------------------------------------
;イントロ
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = P2Name = "Giorno" || P4Name = "Giorno"
trigger2 = P2Name = "Bruno" || P4Name = "Bruno"
trigger3 = P2Name = "mista" || P4Name = "mista"
trigger4 = P2Name = "abbacchio" || P4Name = "abbacchio"
trigger5 = P2Name = "Fugo" || P4Name = "Fugo"
value = 192

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = 1
value = 191
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 191, 3] ;Change to stand state when done
type = ChangeState
triggerall = 1
trigger1 = P2Name = "Giorno" || P4Name = "Giorno"
trigger2 = P2Name = "Bruno" || P4Name = "Bruno"
trigger3 = P2Name = "mista" || P4Name = "mista"
trigger4 = P2Name = "abbacchio" || P4Name = "abbacchio"
value = 192

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 45
value = 3,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 50
value = 4,10

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = Time = 270
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 198
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = ChangeState
triggerall = var(49) = 10000
trigger1 = Time = 0
value = 197

[State 0, var]
type = varrandom
trigger1 = !time
v = 9
range = 0,2

[State 195, 2]
type = Changeanim
trigger1 = var(9) = 1
trigger1 = time = 0
trigger1 = anim != 199
value = 199

[State 195, 2]
type = Changeanim
trigger1 = var(9) = 2
trigger1 = time = 0
trigger1 = anim != 194
value = 194

[State 210, 5]
type = poweradd
trigger1 = var(9) = 0
trigger1 = time = 0
value = 100

[State 210, 5]
type = poweradd
trigger1 = var(9) = 1
trigger1 = time = 0
value = 200

[State 191, Snd 2]
type = PlaySnd
trigger1 = var(9) = 0
trigger1 = time = 0
value = 3,0

[State 191, Snd 2]
type = PlaySnd
trigger1 = var(9) = 1
trigger1 = time = 0
value = 300,0

[State 191, Snd 2]
type = PlaySnd
trigger1 = var(9) = 2
trigger1 = time = 0
value = 2,0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 196]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 15
value = 3,0

[State 195, 1]
type = CtrlSet
trigger1 = Time = 99
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 197]
type = S
ctrl = 0
anim = 10195
velset = 0,0
movetype = I
physics = S
sprpriority = -1

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 300,0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type = S
movetype = A
physics = S
ctrl = 0
anim = ifelse((prevstateno=[100,105]),201,200)
poweradd = 0
sprpriority = 0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 20

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(9) = 1
x = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23*fVar(25), 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = s810                      ;Spark anim no (Def: set above)
sparkxy = -10, -76               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s1, 0                  ;Sound to play on hit
guardsound = s1, 6                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 205]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 0                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 20

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 7, 7                 ;Time attacker pauses, time opponent shakes
sparkno = s810                      ;Spark anim no (Def: set above)
sparkxy = -10, -76               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s1, 0                  ;Sound to play on hit
guardsound = s1, 6                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 65

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0

[State 1000, 1]
type = Helper
trigger1 = AnimElem = 5
triggerall = numhelper(11011) = 0
trigger1 = numhelper(10010) = 0
helpertype = normal
name = "ph"
stateno = 211
id = 10010
pos = 80, 20
postype = p1
ownpal = 1
facing = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 2, 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 40*fVar(25)
guardflag = MA
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1,1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = midium
damage    = 18*root,fVar(25)
guardflag = MA
pausetime = 0,6
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-100
hitsound   = s1,2
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 1
air.velocity = -1,-1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = hard
damage    = 35*root,fVar(25)
guardflag = MA
pausetime = 0,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-100
hitsound   = s1,3
guardsound = s1,6
ground.type = High
ground.slidetime = 15
ground.hittime  = 13
ground.velocity = -12.5
air.velocity = -2.5,-4

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = 0, 2

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = -20, 20

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 210
trigger2 = parent,stateno != 212
;---------------------------------------------------------------------------
[Statedef 212]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
anim = 212
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 5
trigger2 = movecontact
x = 0

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 35

[State 1000, 1]
type = Helper
trigger1 = AnimElem = 5
trigger1 = numhelper(10010) = 0
helpertype = normal
name = "ph"
stateno = 211
id = 10010
pos = 80, 20
postype = p1
ownpal = 1
facing = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 2, 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 40*fVar(25)
guardflag = MA
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1,1
guardsound = s1,6
ground.type = High
ground.slidetime = 18
ground.hittime  = 13
ground.velocity = -10.5
air.velocity = -2.5,-4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.7
persistent = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
sprpriority = -1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 65

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 2, 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 40*fVar(25)
guardflag = MA
pausetime = 10,12
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-70
hitsound   = s1,1
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 241
id = 11011
pos = 30, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70,5
pausetime = 14,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -3.5,8  
air.fall = 1           

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[State 3101, ChangeState]
type = ChangeState
triggerall = time >= 8
trigger1 = parent,command = "QCB_x"
trigger2 = parent,command = "QCB_y"
trigger3 = parent,command = "QCB_z"
value = 1301

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = animTime = 0
value = 242
;---------------------------------------------------------------------------
; 終了(スタンド)
[Statedef 242]
type = U
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = -2

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, pos]
type = posadd
trigger1 = !time
x = 12

[State 0, pos]
type = posadd
trigger1 = prevstateno != 1001
trigger1 = prevstateno != 1101
trigger1 = prevstateno != 3051
trigger1 = prevstateno != 241
trigger1 = !time
y = 10

[State 0, anim]
type = changeanim
trigger1 = !time
value = 905

[State 0, anim]
type = changeanim
trigger1 = prevstateno = 1001
trigger2 = prevstateno = 3051
value = 906

[State 0, anim]
type = changeanim
trigger1 = prevstateno = 1101
value = 907

[State 0, anim]
type = null;changeanim
trigger1 = prevstateno = 1502
value = 908

[State 0, anim]
type = null;changeanim
trigger1 = prevstateno = 1001
trigger2 = prevstateno = 1101
value = anim
elem = animelemno(0)

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 10000, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, pos]
type = null;posset
trigger1 = time = 1
y = 0

[State 0, scale]
type = angledraw
trigger1 = time > 20
scale = (const(size.xscale)-(.08*(time-20))),(const(size.yscale)+(.06*(time-20)))

[State 191, 3]
type = PlaySnd
trigger1 = time = 20
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = time = 32
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 245]
type    = S
movetype= A
physics = N
juggle  = 5
poweradd= 65
ctrl = 0
anim = 245
sprpriority = 2

[State 220, ヒット定義]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype  = Heavy
air.animtype = Back
fall.animtype = Back
hitflag = MAF
guardflag = L
priority = 5,Hit
damage    = 70*fVar(25),5
pausetime = 15,28
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1,4
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 11
ground.hittime = 11
air.hittime = 11
guard.ctrltime = 11
ground.velocity = -12.5
guard.velocity = -12.5
air.hittime = 15
air.velocity = -6,0  
air.cornerpush.veloff = 0
air.fall = 1           
fall.recover = 0
guard.kill = 0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 6
trigger2 = movecontact
x = 0

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 246
id = 11011
pos = 30, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1];つかまえた!へ派生
type = ChangeState
value = 1300
triggerall = var(49) != 10000
triggerall = movecontact
trigger1 = command = "QCB_x"
trigger2 = command = "QCB_y"
trigger3 = command = "QCB_z"

[State 240, 1];スタンド出現攻撃へ派生
type = ChangeState
value = 14000
triggerall = var(49) != 10000
triggerall = movecontact
trigger1 = command = "syutugen"

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 2, 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 246]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 246
sprpriority = 4

[State 3150, 1]
type = BindToParent
trigger1 = 1
pos = 15,-10

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 245
;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 0
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
sprpriority = 2

[State 400, 1]
type = VarSet
trigger1 = Time = [4,8]
trigger1 = command = "FF"
var(34) = 1
ignorhitpause = 1

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 15

State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
trigger2 = animelemtime(8) = 1
x = 0
y = 0

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23*fVar(25)
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = s810
sparkxy = -10,-5
hitsound   = s1,0
guardsound = s1,6
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0
ignorehitpause = 1

[State 400, 3]
type = VarSet
triggerall = Var(59)=1 && roundstate = 2
trigger1 = movecontact
trigger1 = numtarget
trigger1 = target,statetype != A
var(33) = 1
ignorhitpause = 1

[State 400, 4]
type = ChangeState
triggerall = Var(59)=1 && roundstate = 2
TriggerAll = EnemyNear,StateType != A
trigger1 = var(33) = 1
trigger1 = movecontact
trigger1 = p2bodydist x = [-20,50]
trigger1 = Time = 8
value = 400
ignorhitpause = 1

[State 400, 4]
type = ChangeState
triggerall = Var(59)=0
trigger1 = var(34)
trigger1 = Time = 8
value = 100
;ctrl = 1
ignorhitpause = 0

[State 400, 3]
type = CtrlSet
trigger1 = anim = 400
trigger1 = Time = 8
value = 1
ignorhitpause = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS レベル: 易
; 詳細:
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 410
sprpriority = 2

[State 220, ヒット定義]
type = HitDef
trigger1 = !movecontact
attr = C, NA
animtype  = Medium
air.animtype = Back
fall.animtype = Back
hitflag = MAF
guardflag = M
damage    = 41,5
pausetime = 0,13
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1,2
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-6
air.hittime = 15
air.velocity = -6,-6  
air.cornerpush.veloff = 0
guard.kill = 0
air.fall = 1     
fall = 1
fall.recovertime = 40

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 411
id = 11011
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 12

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 411]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 411
sprpriority = -1

[State 3150, 1]
type = BindToParent
trigger1 = 1
pos = 0,-15

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 410
;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 418]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 0
ctrl = 0
anim = 418
sprpriority = 2

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 50

State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(8) = 1
x = 0
y = 0

State 0, vel]
type = velset
trigger1 = Time = 8
trigger1 = prevstateno != [100,105]
x = 4

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 1]
type = PlaySnd
trigger1 = Time = 8
value = 3, 12

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = s810
sparkxy = -10,-5
hitsound   = s1,0
guardsound = s1,6
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS レベル: 易
; 詳細:
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2
velset = 0,0

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 441
id = 11011
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 441]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 441
sprpriority = 4

[State 3150, 1]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = !movecontact
attr = C, NA
animtype  = Heavy
air.animtype = Back
fall.animtype = Back
hitflag = MAF
guardflag = L
damage    = 70,5
pausetime = 0,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8,-1
air.hittime = 15
air.velocity = -6,0  
air.cornerpush.veloff = 0
air.fall = 1           
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 36
guard.kill = 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 440
trigger2 = parent,stateno != 442
;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS レベル: 易
; 詳細:
[Statedef 442]
type    = C
movetype= A
physics = C
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 441
id = 11011
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 7

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;空中弱
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 25

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 12
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = Back
fall.animtype = Back
getpower = 20
givepower = 10
priority = 3
pausetime = 7,9
sparkno = s810
guard.sparkno = s840
sparkxy = -11,-45
hitsound   = s1,0
guardsound = s1,6
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
guard.velocity = -5
air.type = High
air.velocity = -1.3,-3
air.hittime = 12
fall = 0
air.fall = 0
fall.recovertime = 22
yaccel = .36
;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 7
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 65

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 45*fVar(25), 5
animtype = Medium
guardflag = HA
hitflag = MAF
priority = 2, Hit
pausetime = 10, 12
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -36
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime  = 18
ground.velocity = -11*const(size.xscale),0
air.type = High
air.velocity = -3.5,8  
air.fall = 1           
fall.recover = 0
air.hittime = 15

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 611
id = 11011
pos = 0, 0
postype = p1
ownpal = 1
facing = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 3, 12
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 611]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 611
sprpriority = 4

[State 3150, 1]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 610
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 618]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 0
ctrl = 0
anim = 618
sprpriority = 2

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = Numhelper(11011) = 0 
value = 60

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2, 1
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30
hitflag = MAF
guardflag = HA
animtype = middle
air.animtype = Back
fall.animtype = Back
getpower = 25
givepower = 15
priority = 3
pausetime = 10,14
sparkno = s820
guard.sparkno = s840
sparkxy = -11,-45
hitsound   = s1,1
guardsound = s1,6
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
guard.velocity = -5
air.type = High
air.velocity = -1.3,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 
y = -3

[State 220, ヒット定義]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype  = Heavy
air.animtype = Back
fall.animtype = Back
hitflag = MAF
guardflag = HA
priority = 5,Hit
damage    = 70,5
pausetime = 15,15
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-40
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = ifelse(prevstateno = 600||prevstateno = 610,15,22)
ground.hittime  = ifelse(prevstateno = 600||prevstateno = 610,15,22)
guard.slidetime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
guard.hittime = ifelse(prevstateno = 600||prevstateno = 610,8,16)
air.hittime = 24
ground.velocity = -6
guard.velocity = -5.5
air.hittime = 15
air.velocity = -6,0  
air.cornerpush.veloff = 0
air.fall = 1           
fall.recover = 0
guard.kill = 0

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 2, 0

[State 1000, 1]
type = Helper
trigger1 = !time
trigger1 = numhelper(11011) = 0
trigger2 = !time
trigger2 = prevstateno = 610
helpertype = normal
name = "ph"
stateno = 641
id = 11011
pos = 0, 20
postype = p1
ownpal = 1
facing = 1
;---------------------------------------------------------------------------
[Statedef 641]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 641
sprpriority = 4

[State 3150, 1]
type = BindToParent
trigger1 = 1
pos = 0,-20

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 640
;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents KFM from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Throwing the opponent
; Description: In this state, KFM throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of KFM. That puts him around where KFM's hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he may get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

; Here a variable, var(2), is used to remember whether or not the
; player was holding forward at the start of the state. This variable
; is checked later on to turn KFM around if necessary.
[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdfwd"

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 800, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 58, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 47, 0

[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 6

[State 810, holdfwd - Pos 6] ;If was holding fwd before, move a little
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 6
x = -37

[State 810, holdfwd - Turn Target 6] ;If was holding fwd before, turn target too
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 6
value = -1

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -78

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by KFM's throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get stuck in this thrown state.
[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw - thrown into the air
; (a custom gethit state)
; Description: This state has the opponent flying through the air and
;     falling down onto the ground. The SelfState controller sets the
;     opponent back using to his own state file when he his the ground.
;     Controllers 821,2 and 821,3 allow the opponent to recover by
;     hitting his recovery command when he is falling.
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
; つかんだ！
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 2

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 30
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1301
id = 11011
pos = -5, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;つかまえた！　ヘイズ
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1301
sprpriority = 3

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 810, AfterImage]
type = Afterimage
trigger1 = time = 0
time = 15
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 1
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time > 0
x = 15

[State 215]
type = VelSet
trigger1 = time > 5
x = 8

[State 215]
type = VelSet
trigger1 = time > 10
x = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
damage    = 0
hitflag = MA
guardflag = M
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
hitsound = s1,700
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0
air.velocity = 0
p1stateno = 1302
p2stateno = 1305
fall = 0
air.fall = 1

[State 0, end]
type = changestate
trigger1 = movehit
value = 1302

[State 0, end]
type = changeanim
trigger1 = movehit
value = 1302

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 22
value = 242
;---------------------------------------------------------------------------
;つかまえた！　ヘイズ 捕獲
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1302
sprpriority = 3
velset = 0,0

[State 3005, bind]
type = TargetBind
Trigger1 = 1
pos =  35,0
time = 1

[State 0, push]
type = playerpush
trigger1 = 1
value = 1

[State 0, width]
type = width
trigger1 = 1
edge = 60,0

[State 0, snd]
type = playsnd
trigger1 = time = 0
value = 1,7

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1010
time = 0
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 20
value = 1303
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 1303];つかまえた！　ヘイズ 攻撃
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1303
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*root,fVar(25),5
pausetime = 20,20
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -3.5,-8  
air.fall = 1     
fall = 1
fall.recover = 0  

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1010
time = 0
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = animTime = 0
value = 242
;------------------------------------------------------------------------------
;つかまえた！　(ENEMY)
[Statedef 1305]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, anim]
type = changeanim2
trigger1 = !time
value = 1305

[State 0, self]
type = SelfState
trigger1 = time >= 30
value = 5050
;---------------------------------------------------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3000
sprpriority = -1

[state 3000]
type = nothitby
trigger1 = time = 4
value = SCA
time = 53

[state 3000]
type = pause
trigger1 = time = 4
time = 40
movetime = 40

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s4,0

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s4,2
channel = 0

[state 3003]
type = helper
trigger1 = time = 4
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 4
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 191, Wood 1]
type = helper
trigger1 = time = 30
stateno = 3005
id = 3005
postype = p1
pos = -30,-100
sprpriority = 1
ownpal = 1
keyctrl = 0
sprpriority = 5
supermovetime = 9999999
pausemovetime = 9999999

[State 0, vel]
type = velset
trigger1 = animelem = 16
x = 20

[State 0, vel]
type = velset
trigger1 = animelem = 17
x = 10

[State 0, vel]
type = velset
trigger1 = animelem = 18
x = 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 43
value = 0, 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 43
value = 3, 0
channel = 0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 18
attr = S, HA
animtype  = up
damage    = 80*fVar(25)
guardflag = MA
pausetime = 20,20
sparkno = s880
guard.sparkno = s840
sparkxy = -10,-75
hitsound   = s1,5
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 10,-5
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.freq = 55
envshake.ampl = -4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 19
attr = S, HA
animtype  = up
damage    = 100*fVar(25)
guardflag = MA
pausetime = 30,30
sparkno = s880
guard.sparkno = s840
sparkxy = -10,-75
hitsound   = s1,5
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5,-10.5
air.velocity = -2.5,-10.5
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 75
envshake.time = 18
envshake.freq = 73
envshake.ampl = -6

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.9
persistent = 0
ignorehitpause = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 3005]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
velset = 0,0
anim = 3005
sprpriority = 5

[State 5201, 1]
type = turn
trigger1 = time = 0
trigger1 = root,facing = -1

[State 810, StateChange]
type = DestroySelf
trigger1 = animtime = 0
;-----------------------------------------------
;カットイン

[Statedef 23100]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3100
sprpriority = -3

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = 1
anim = 3100
id = 23107
pos = 0+var(14)*1,239+var(14)*3
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = 1
anim = 3100
id = 23107
pos = 30,330
postype = left
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
random = 60,60
scale = 2.6,2.6
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time < 30
trigger1 = parent,facing = -1
anim = 3100
id = 23107
pos = 0-var(14)*1,239+var(14)*3
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time % 1= 0
trigger1 = time >= 30
trigger1 = parent,facing = -1
anim = 3100
id = 23107
pos = -30,330
postype = right
sprpriority = -3
removetime = 1
bindtime = -1
pausemovetime = 999999
removeongethit = 1
facing = -1
random = 30,30
scale = 2.6,2.6
ownpal = 1
getpower = 0

[State 1000, 3]
type = ModifyExplod
trigger1 = Time < 30
ID = 23107
scale = (0.4+Var(14)/15.0), 0.4+Var(14)/15.0
pausemovetime = 999999

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 14
value = 1

[state 3000]
type = removeexplod
trigger1 = time >= 40
id = 23100

[state 3000]
type = destroyself
trigger1 = time >= 40


;-----------------------------------------------
;SC背景

[Statedef 23101]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3101
sprpriority = -5

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 2]
type = Varset
trigger1 = Time = 0
trigger2 = Time = 21
v = 14
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
v = 14
value = 15

[State 1000, 3]
type = PalFx
trigger1 = Time = 0
time = 1
add = 255,255,255
mul = 255,255,255

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3101
pos = 0,239
postype = left
sprpriority = -5
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
removetime = 41
ownpal = 0

[State 1000, 3]
type = PalFx
trigger1 = Time >= 0
trigger1 = Time <= 20
trigger2 = Time >= 21
trigger2 = Time <= 40
time = 1
add = 255-Var(14),255-Var(14),255-Var(14)

[state 3000]
type = destroyself
trigger1 = time >= 41
;---------------------------------------------------------------------------
; ド低脳がッ　on
[Statedef 13000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
velset = 0,0
anim = 13000
ctrl = 0
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 50

[state 3000]
type = pause
trigger1 = time = 0
time = 40
movetime = 40

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s4,0

[state 3003]
type = helper
trigger1 = time = 0
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 0
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 191, Wood 1]
type = helper
trigger1 = time = 30
stateno = 3005
id = 3005
postype = p1
pos = -30,-100
sprpriority = 1
ownpal = 1
keyctrl = 0
sprpriority = 5
supermovetime = 9999999
pausemovetime = 9999999

[State 3900 e];連続使用禁止
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 11308
id = 11308
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 7
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 40
value = 7, 0

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 810, AfterImage]
type = Afterimage
trigger1 = time = 0
time = 55
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 2
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time > 40
x = 10

[State 215]
type = VelSet
trigger1 = time > 45
x = 5

[State 215]
type = VelSet
trigger1 = time > 50
x = 1

[State 3900 e];本体
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 13006
id = 13006
pos = -10,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
damage    = 0
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
hitsound = s1,2000
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0
air.velocity = 0
p1stateno = 13001
p2stateno = 13003
fall = 0
air.fall = 1

[State 0, end]
type = changestate
trigger1 = movehit
value = 13001

[State 0, end]
type = changeanim
trigger1 = movehit
value = 13001

[State 0, end]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;つかんだ！　ヘイズ 捕獲
[Statedef 13001]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 13001
sprpriority = 3
velset = 0,0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s3,0
channel = 0

[State 3900 e];本体攻撃
type = Helper
trigger1 = time = 4
helpertype = normal
stateno = 13005
id = 13005
pos = -10,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3005, bind]
type = TargetBind
Trigger1 = 1
pos =  35,0
time = 1

[State 0, width]
type = width
trigger1 = 1
edge = 60,0

[State 0, snd]
type = playsnd
trigger1 = time = 0
value = 1,7

[State 1000, 7]
type = ChangeState
trigger1 = Time = 60
value = 13002
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 13002];つかんだ！　ヘイズ 攻撃
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13003
sprpriority = 2

[State 610, 3]
type = playsnd
trigger1 = time = 0
value = s3,10
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
animtype  = hard
guardflag = MA
damage    = 120*fVar(25),12
pausetime = 20,20
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 0,0
givepower = 0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -4.5,-8  
air.velocity = -4.5,-8  
air.fall = 1     
fall = 1
fall.recover = 0  
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.91
persistent = 0
ignorehitpause = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[State 1000, 7]
type = changestate
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
;つかんだ！　(ENEMY)
[Statedef 13003]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, anim]
type = changeanim2
trigger1 = !time
value = 1305

[State 0, self]
type = SelfState
trigger1 = time >= 30
value = 5050
;---------------------------------------------------------------------------
[Statedef 13005]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13002
sprpriority = -1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = up
damage    = 20
guardflag = MA
pausetime = 20,30
sparkno = s880
guard.sparkno = s840
sparkxy = -10,-75
hitsound   = s1,5
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.freq = 55
envshake.ampl = -4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
animtype  = up
damage    = 40
guardflag = MA
pausetime = 30,30
sparkno = s880
guard.sparkno = s840
sparkxy = -10,-75
hitsound   = s1,5
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 18
envshake.freq = 73
envshake.ampl = -6

[State 210, 5]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = parent,ctrl = 1
trigger3 = parent,movetype = H
;---------------------------------------------------------------------------
[Statedef 13006]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 13005
sprpriority = -1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 13000
time = 1
pos = -10,0

[State 210, 5]
type = destroyself
trigger1 = parent,ctrl = 1
trigger2 = parent,movetype = H
trigger3 = parent,Anim != 13000
;---------------------------------------------------------------------------
;殺人ウィルスsp （ON時）
[Statedef 13050]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= -2000
ctrl = 0
anim = 13050
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 10
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 10
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3000]
type = nothitby
trigger1 = time = 4
value = SCA
time = 40

[state 3000]
type = pause
trigger1 = time = 4
time = 40
movetime = 40

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s4,0

[state 3003]
type = helper
trigger1 = time = 4
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 4
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time = 50
x = -10

[State 215]
type = VelSet
trigger1 = time = 71
x = -0 

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 50
value = 7, 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10
channel = 0

[State 1000, 1]
type = Helper
trigger1 = Time = 50
helpertype = normal
name = "dokuA"
stateno = 3052
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 50
helpertype = normal
name = "dokuB"
stateno = 3053
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 50
helpertype = normal
name = "dokuC"
stateno = 3054
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;真・殺人ウィルス （ON時）
[Statedef 13100]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= -3000
ctrl = 0
anim = 13050
sprpriority = 3

[state 3000]
type = PalFX
trigger1 = time = 0
time = 40
add = 128,24,0
mul = 90,64,90
sinadd = 90,90,90,40
invertall = 0
color = 150

[state 3000]
type = nothitby
trigger1 = time = 4
value = SCA
time = 40

[state 3000]
type = pause
trigger1 = time = 4
time = 40
movetime = 40

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s4,0

[state 3003]
type = helper
trigger1 = time = 4
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 4
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time = 50
x = -10

[State 215]
type = VelSet
trigger1 = time = 71
x = -0 

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 50
value = 7, 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 1
channel = 0

[State 1000, 1]
type = Helper
trigger1 = Time = 50
helpertype = normal
name = "sin v"
stateno = 13101
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;真・ウイルス 
[Statedef 13101]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11010
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10

[State 1000, 1]
type = Helper
trigger1 = movecontact
helpertype = normal
name = "sin v"
stateno = 13103
id = 10010
pos = 00, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 13102
ignorehitpause = 1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 13102]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0.3

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 0,0
hitflag = MAFP
guardflag = 
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 610, 3]
type = Helper
triggerall = numhelper(30000) = 0
trigger1 = movehit
helpertype = normal
name = "poison"
pos = 0, 0
postype = p2
ID = 30000
stateno = 30000
keyctrl = 0

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 13103]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0.3

[State 210, 2]
type = HitDef
trigger1 = time %8 = 0
animtype = hard
attr = S, SA
damage = ceil(ifelse((85*fvar(25))<27,27,(85*fvar(25))))
priority  = 7, Hit
guardflag = A
pausetime = 0,0
sparkno = s830
guard.sparkno = s840
sparkxy = 0,-30
hitsound = s1, 3
guardsound = s1, 5
guard.dist = 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -1*const(size.xscale),0
air.velocity = -1*const(size.xscale),0
guard.kill = 0
hitonce = 1
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4
affectteam = F

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;poison
[Statedef 30000]
type    = A
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 30000
sprpriority = 2

[State 210, 2]
type = PosSet
trigger1 = 1
x = enemynear,pos x
y = enemynear,pos y

[State 191, Snd 2]
type = PlaySnd
trigger1 = movehit
trigger1 = AnimElemTime(2) = 1
value = 300,1

[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
animtype = heavy
damage    = 200
priority  = 7, Hit
guardflag = A
pausetime = 0,5
sparkno = s830
guard.sparkno = s-840
sparkxy = 0,-80
hitsound = s1, 3
guardsound = s-1, 5
guard.dist = 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 20
ground.velocity = -1*const(size.xscale),0
air.velocity = -1*const(size.xscale),0
guard.kill = 0
hitonce = 1
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State -1,1]
type = destroyself
trigger1 = roundstate != 2;バトル中
trigger2 = enemy,life = 0
;---------------------------------------------------------------------------
; ヘイズ スパコン
[Statedef 3050]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= -2000
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = time = 4
value = SCA
time = 40

[state 3000]
type = pause
trigger1 = time = 4
time = 40
movetime = 40

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s4,0

[State 610, 3]
type = playsnd
trigger1 = time = 4
value = s3,10
channel = 0

[state 3003]
type = helper
trigger1 = time = 4
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 4
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 3051
id = 11011
pos = -10, -5
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ヘイズ スパコン　スタンド
[Statedef 3051]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 3051
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 10
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 10
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 10
x = -15

[State 215]
type = VelSet
trigger1 = time = 12
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "dokuA"
stateno = 3052
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "dokuB"
stateno = 3053
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "dokuC"
stateno = 3054
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1010
time = 0
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
;ウイルス helper A
[Statedef 3052]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11010
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 5
y = 1

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 1011
ignorehitpause = 1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス helper B
[Statedef 3053]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11010
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = 
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 1011
ignorehitpause = 1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス helper C
[Statedef 3054]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11010
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = 
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 15
y = -1

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 3055
ignorehitpause = 1

[State 3010, 2]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
trigger2 = pos y >= 0 
;---------------------------------------------------------------------------
;ウイルス拡散 helper sp
[Statedef 3055]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11011
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0.3

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = ceil(ifelse((85*fvar(25))<17,17,(85*fvar(25))))
hitflag = MAFP
guardflag = 
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
; 殺人ウィルス
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1001
id = 11011
pos = -10, -5
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;殺人ウィルス helper
[Statedef 1001]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1001
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 10
x = -15

[State 215]
type = VelSet
trigger1 = time = 12
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "doku"
stateno = 1011
id = 10011
pos = 40, -82
postype = p1
ownpal = 1
facing = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
;被ダメ時スタンド消去(スタンド被ダメ)
[Statedef 9500]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9500
velset = 0,0
sprpriority = -1

[State -2, エフェクトを消す];挑発KQ腕
type = RemoveExplod
trigger1 = root,stateno != 195
ID = 9198

[State 230, 2]
type = assertspecial
triggerall = root,var(49) = 10000
trigger1 = 1
flag = invisible

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[state 301, ]
type=null;parentvarset
trigger1 = !time 
var(54) = 0

[State 0, var]
type = parentvarset
trigger1 = !time
var(9) = 1

[State 0, stopsnd]
type = stopsnd
trigger1 = time = 1
channel = 0

[State 0, end]
type = changestate
trigger1 = HitShakeOver
value = 9520
;---------------------------------------------------------------------------
;被ダメ時スタンド消去2
[Statedef 9520]
type = U
movetype = H
physics = N
ctrl = 0
anim = 9501
velset = 0,0
sprpriority = -1

[State 230, 2]
type = assertspecial
triggerall = root,var(49) = 10000
trigger1 = 1
flag = invisible

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, vel]
type = veladd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, hitvel]
type = null;hitvelset
trigger1 = prevstateno = 9500
trigger1 = !time
x = 1
y = 1

[State 0, hitvel]
type = null;velset
trigger1 = prevstateno = 9505
trigger1 = !time
x = -2
y = -4

[State 0, pos]
type = posfreeze
trigger1 = time >= 4

[State 0, scale]
type = angledraw
trigger1 = time < 12
scale = (const(size.xscale)-(.08*time)),(const(size.yscale)+(.03*time))

;[State 0, scale]
;type = angledraw
;trigger1 = time < 12
;scale = (const(size.xscale)+(.04*time)),(const(size.yscale)-(.075*time))

[State 0, anim]
type = changeanim
trigger1 = time = 12
value = 29999

[State 230, 2]
type = destroyself
triggerall = !time
trigger1 = prevstateno = 10099

[State 191, 3]
type = PlaySnd
triggerall = root,var(49) = 0
trigger1 = time = 10
value = 6,0

[State 0, 円]
type = explod
triggerall = root,var(49) = 0
trigger1 = time = 5
anim = 866
id = 867
pos = 0,-80
postype = p1
sprpriority = 0
ownpal = 1
shadow = 0,0,0
scale = .508,.645
pausemovetime = 999999
supermovetime = 999999

[State 0, end]
type = destroyself
trigger1 = HitOver && time >= 12
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
;---------------------------------------------------------------------------
; 食らい(スタンド)
[Statedef 1010]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 16500]
type = ParentVarSet
trigger1 = time = 0
v = 11
value = GetHitVar(damage)

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = time = 20
value = 100, 1

[State 0, scale]
type = angledraw
trigger1 = time > 20
scale = (const(size.xscale)-(.08*(time-20))),(const(size.yscale)+(.06*(time-20)))

[State 16500]
type = DestroySelf
trigger1 = time = 32
;-------------------------------------------------------------------
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
[Statedef 16502];立ち
type    = S
movetype= H
physics = S
velset = -2,0
anim = 5000

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1 ;指定した値が増減されます。省略時0で、相手の防御力が考慮される

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 0
ctrl = 1
;-------------------------------
[Statedef 16503];しゃがみ
type    = C
movetype= H
physics = S
velset = -2,0
anim = 5020

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = time= 20
value = 11
ctrl = 1
;-------------------------------
[Statedef 16504];空中
type    = A
movetype= H
physics = A
velset = -2,0
anim = 5050

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 0]
type = LifeAdd
trigger1 = time = 0
value = -var(11)
absolute = 1

[State 0];リセット
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 0, なにぃっ]
type = PlaySnd
trigger1 = time = 0
value = 5,1
channel = 0

[State -2]
type = ChangeState
trigger1 = Vel Y > 0    ;下方に移動している場合、正の値
trigger1 = Pos Y >= -10 ;地面を0、下方向を正、上方向を負
value = 5100;地面に激突
;---------------------------------------------------------------------------
;殺人ウィルス helper
[Statedef 1011]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 1012
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 1012]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0.3

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 27, 5
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
; ヘイズ 対空
[Statedef 1100]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1101
id = 11011
pos = -10, -5
postype = p1
ownpal = 1
facing = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ヘイズ helper
[Statedef 1101]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1100
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 10
x = -15

[State 215]
type = VelSet
trigger1 = time = 12
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "doku"
stateno = 1102
id = 10011
pos = 30, -112
postype = p1
ownpal = 1
facing = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
;ウイルス helper
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = 
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
guard.dist = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10
y = -10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 1103
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = Pos Y <= -240
value = 1110

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = Pos Y <= -280
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1112
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 35, 10
hitflag = MAFP
guardflag = 
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;カラス
[Statedef 1110]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1110
sprpriority = 4

[State 191, 3]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = screenbound
trigger1 = 1
value = 1

[State 1027, Spark]
type = veladd
trigger1 = 1
y = .3*parent,const(size.yscale)

[State 1000, 7]
type = changestate
trigger1 = Pos Y >= 0
value = 1111
;---------------------------------------------------------------------------
;カラス 着地
[Statedef 1111]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1111
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6, 5

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "doku"
stateno = 1113
id = 10011
pos = 30, -112
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = posset
trigger1 = time = 0
y = 0

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 1113]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1112
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 1

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 35, 10
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
; 終了(スタンド)
[Statedef 1104]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1104
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 1104
id = 10012
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 11104
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 違うねッ　弱
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1201
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;違うねッ　弱
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1221
sprpriority = 3

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 1
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = animelem = 1
x = -20

[State 215]
type = VelSet
trigger1 = animelem = 2
x = 0 

[State 215]
type = VelSet
trigger1 = animelem = 5
x = 6

[State 215]
type = VelSet
trigger1 = animelem = 7
x = 0 

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*root,fVar(25),5
pausetime = 20,19
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -7.5
air.velocity = -3.5,8  
air.fall = 1           

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
; 違うねッ　中
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1211
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;違うねッ　中
[Statedef 1211]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1221
sprpriority = 3

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 1
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = animelem = 1
x = -25

[State 215]
type = VelSet
trigger1 = animelem = 2
x = 0 

[State 215]
type = VelSet
trigger1 = animelem = 5
x = 6

[State 215]
type = VelSet
trigger1 = animelem = 7
x = 0 

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*root,fVar(25),5
pausetime = 20,19
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -7.5
air.velocity = -3.5,8  
air.fall = 1           

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
; 違うねッ 強
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 80
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(29) = 1

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1221
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;違うねッ　強
[Statedef 1221]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1222
sprpriority = 3

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 1
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = -1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 10
value = 7, 0

[State 215]
type = Velset
trigger1 = animelem = 1
x = -43

[State 215]
type = VelSet
trigger1 = animelem = 2
x = 0 

[State 215]
type = VelSet
trigger1 = animelem = 4
x = 6

[State 215]
type = VelSet
trigger1 = animelem = 7
x = 0 

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*root,fVar(25),5
pausetime = 20,19
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -12.5
air.velocity = -3.5,8  
air.fall = 1           

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 9500
time = 0
ignorehitpause = 1

[State 230, 2];プッツン時スタンド消去
type = destroyself
trigger1 = root,stateno = 700
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = Time = 40
value = 242
;---------------------------------------------------------------------------
;殺人ウィルス （ON時）
[Statedef 11000]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= -500
ctrl = 0
anim = 11051
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time = 16
x = -15

[State 215]
type = VelSet
trigger1 = time = 37
x = -0 

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 3, 10

[State 1000, 1]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "doku"
stateno = 11001
id = 10011
pos = 40, -84
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;殺人ウィルス カプセルhelper
[Statedef 11001]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 11002
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 11002]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0.3

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 27, 15
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;殺人ウィルス ハッタリ （ON時）
[Statedef 11050]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
anim = 11061
sprpriority = 3

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0

[State 1000, 1]
type = PlaySnd
trigger1 = time = 20
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;殺人ウィルス　対空 （ON時）
[Statedef 11100]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= -500
ctrl = 0
anim = 11102
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 18
x = -15

[State 215]
type = VelSet
trigger1 = time = 32
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 15
helpertype = normal
name = "doku"
stateno = 11101
id = 10011
pos = 30, -127
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ウイルス helper
[Statedef 11101]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 215]
type = VelSet
trigger1 = time >= 0
x = 5
y = -10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 11102
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = Pos Y <= -240
value = 11103

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = Pos Y <= -280
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 11102]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1112
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 35, 10
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;カラス
[Statedef 11103]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1110
sprpriority = 4

[State 191, 3]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = screenbound
trigger1 = 1
value = 1

[State 1027, Spark]
type = veladd
trigger1 = 1
y = .3*parent,const(size.yscale)

[State 1000, 7]
type = changestate
trigger1 = Pos Y >= 0
value = 11104
;---------------------------------------------------------------------------
;カラス 着地
[Statedef 11104]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= 0
velset = 0,0
ctrl = 0
anim = 1111
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 6, 5

[State 1000, 1]
type = Helper
trigger1 = Time = 10
helpertype = normal
name = "doku"
stateno = 11105
id = 10011
pos = 30, -112
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = posset
trigger1 = time = 0
y = 0

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 11105]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1112
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0, 0

[State 0]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 1

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 35, 10
hitflag = MAFP
guardflag = 
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;殺人ウィルス　対空 中 （ON時）
[Statedef 11110]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= -500
ctrl = 0
anim = 11101
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 24
x = -15

[State 215]
type = VelSet
trigger1 = time = 40
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 15
helpertype = normal
name = "doku"
stateno = 11111
id = 10011
pos = 50, -122
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ウイルス helper
[Statedef 11111]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 10
y = -10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 11102
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = Pos Y <= -240
value = 11103

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = Pos Y <= -280
;---------------------------------------------------------------------------
;殺人ウィルス　対空 強 （ON時）
[Statedef 11120]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= -500
ctrl = 0
anim = 11101
sprpriority = 3

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 7, 0

[State 215]
type = VelSet
trigger1 = time = 24
x = -15

[State 215]
type = VelSet
trigger1 = time = 40
x = -0 

[State 1000, 1]
type = Helper
trigger1 = Time = 15
helpertype = normal
name = "doku"
stateno = 11121
id = 10011
pos = 50, -122
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ウイルス helper
[Statedef 11121]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 15
y = -10

[State 1000, 7]
type = changestate
trigger1 = movecontact
value = 11102
ignorehitpause = 1

[State 1000, 7]
type = changestate
trigger1 = Pos Y <= -240
value = 11103

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = Pos Y <= -280
;---------------------------------------------------------------------------
; 終了(スタンド)
[Statedef 11104]
type    = S
movetype= I
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11104
sprpriority = 0

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 11104
id = 10012
pos = 0,0
postype = p1
sprpriority = 0
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = parent,var(14) * 9999999999999

[State 1000, 3]
type = ModifyExplod
trigger1 = time >= 2
ID = 11104
scale = 1-time/11.5 , 1+time/11.5
pausemovetime = parent,var(14) * 9999999999999

[State 191, 3]
type = PlaySnd
trigger1 = animtime = 0
value = 100,1

[State 230, 2]
type = destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; 違うねッ　弱
[Statedef 11200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(49) = 0

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1201
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 違うねッ　中
[Statedef 11210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(49) = 0

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1211
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 違うねッon　強
[Statedef 11220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 0]
type = varset
trigger1 = time = 0
var(49) = 0

[State 400, コントロール]
type = CtrlSet
trigger1 = time > 39
value = 1

[State 1000, 1]
type = Helper
trigger1 = Time = 1
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1221
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = -1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 5
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; つかんだon　
[Statedef 11300]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 11301
ctrl = 0
sprpriority = 2

[State 3900 e];連続使用禁止
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 11308
id = 11308
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 170, 1]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 13

[State 240, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2, 0
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 10
value = 7, 0

[State 191, Wood 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 810, AfterImage]
type = Afterimage
trigger1 = time = 0
time = 27
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 191, Wood 1]
type = Explod
trigger1 = animelem = 3
anim = 875
id = 870
postype = p1
pos = 0,0
sprpriority = 1
bindtime = 1
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
facing = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 215]
type = VelSet
trigger1 = time > 12
x = 12

[State 215]
type = VelSet
trigger1 = time > 17
x = 6

[State 215]
type = VelSet
trigger1 = time > 22
x = 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype = Heavy
air.animtype = Back
fall.animtype = Back
damage    = 0
hitflag = MA
guardflag = M
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-70
hitsound = s1,700
guardsound = s1,6
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0
air.velocity = 0
p1stateno = 11301
p2stateno = 11303
fall = 0
air.fall = 1

[State 0, end]
type = changestate
trigger1 = movehit
value = 11301

[State 0, end]
type = changeanim
trigger1 = movehit
value = 11301

[State 0, end]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;つかんだ！　ヘイズ 捕獲
[Statedef 11301]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 11302
sprpriority = 3
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3005, bind]
type = TargetBind
Trigger1 = 1
pos =  35,0
time = 1

[State 0, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, width]
type = width
trigger1 = 1
edge = 60,0

[State 0, snd]
type = playsnd
trigger1 = time = 0
value = 1,7

[State 1000, 7]
type = ChangeState
trigger1 = Time = 20
value = 11302
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 11302];つかんだ！　ヘイズ 攻撃
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,0
anim = 11303
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70,5
pausetime = 20,20
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -8.5
air.velocity = -1.5,-8  
air.fall = 1     
fall = 1
fall.recover = 0  

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 3, 10
channel = 0

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[State 1000, 7]
type = changestate
trigger1 = animTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
;つかんだ！　(ENEMY)
[Statedef 11303]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, anim]
type = changeanim2
trigger1 = !time
value = 1305

[State 0, self]
type = SelfState
trigger1 = time >= 30
value = 5050
;---------------------------------------------------------------------------
[Statedef 11308];つかんだ！　
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
;空中殺人ウィルス （OFF時）
[Statedef 1500]
type    = A
movetype= I
physics = N
juggle  = 5
poweradd= 80
ctrl = 0
anim = 1500
sprpriority = 3
velset = 0,0

[State 1000, 1]
type = Helper
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1501
id = 11011
pos = -10, 0
postype = p1
ownpal = 1
facing = 1

[State 2005, ]
type = VelSet
trigger1 = time = 9
trigger2 = time = 10
X = -8;const(velocity.run.fwd.x)
Y = -4;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time = 11
trigger2 = time = 12
X = -4;const(velocity.run.fwd.x)
Y = -2;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 13
trigger2 = time = 14
X = -2;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[state 3000]
type = veladd
trigger1 = time >= 18
trigger1 = time <= 24
y = 0.16

[state 3000]
type = veladd
trigger1 = time >= 24
y = 0.33

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 1050, ステート変更]
type = ChangeState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = time >= 10
value = 1550
;---------------------------------------------------------------------------
;空中ウィルス 着地
[Statedef 1550]
type    = C
movetype= I
physics = N
velset = 0,0
anim = 1550+var(49)
ctrl = 0
sprpriority = 2

[State 1260, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 6,4

[State 1260, posset]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1260, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;空中殺人ウィルス （OFF時スタンド）
[Statedef 1501]
type    = A
movetype= I
physics = N
juggle  = 5
poweradd= 80
ctrl = 0
anim = 11500
sprpriority = 3
velset = 0,0

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 1000, 1]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "doku"
stateno = 1503
id = 10011
pos = 55, -58
postype = p1
ownpal = 1
facing = 1

[State 2005, ]
type = VelSet
trigger1 = time = 9
trigger2 = time = 10
X = -8;const(velocity.run.fwd.x)
Y = -4;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time = 11
trigger2 = time = 12
X = -4;const(velocity.run.fwd.x)
Y = -2;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 13
trigger2 = time = 14
X = -2;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[state 3000]
type = veladd
trigger1 = time >= 20
trigger1 = time <= 26
y = 0.16

[state 3000]
type = veladd
trigger1 = time >= 26
y = 0.33

[State 200, 7]
type = statetypeset
trigger1 = animelem = 3
movetype = I

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != 1500
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1010
time = 0
ignorehitpause = 1

[State 1010, 8]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1502
;---------------------------------------------------------------------------
;空中殺人ウィルス （OFF時スタンド着地）
[Statedef 1502]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd= 80
ctrl = 0
anim = 1502
sprpriority = 3
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1010, 8]
type = ChangeState
trigger1 = time = 6
value = 242
;---------------------------------------------------------------------------
;殺人ウィルス カプセル helper
[Statedef 1503]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 12
y = 10

[State 1000, 7]
type = changestate
trigger1 = movecontact
trigger2 = Pos Y >= 0
value = 1504
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 1504]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = 27, 5
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;空中殺人ウィルス （ON時）
[Statedef 11500]
type    = A
movetype= I
physics = N
juggle  = 5
poweradd= -500
ctrl = 0
anim = 11500
sprpriority = 3
velset = 0,0

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 1000, 1]
type = Helper
trigger1 = Time = 16
helpertype = normal
name = "doku"
stateno = 11501
id = 10011
pos = 55, -58
postype = p1
ownpal = 1
facing = 1

[State 2005, ]
type = VelSet
trigger1 = time = 9
trigger2 = time = 10
X = -8;const(velocity.run.fwd.x)
Y = -4;const(velocity.run.fwd.x)

[State 2005, ]
type = VelSet
trigger1 = time = 11
trigger2 = time = 12
X = -4;const(velocity.run.fwd.x)
Y = -2;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 13
trigger2 = time = 14
X = -2;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[State 2005,]
type = VelSet
trigger1 = time = 15
X = 0;const(velocity.run.fwd.x)
Y = 0;const(velocity.run.fwd.x)

[state 3000]
type = veladd
trigger1 = time >= 18
trigger1 = time <= 24
y = 0.16

[state 3000]
type = veladd
trigger1 = time >= 24
y = 0.33

[State 200, 7]
type = Sprpriority
trigger1 = time >= 18
value = 0

[State 200, 7]
type = statetypeset
trigger1 = animelem = 3
movetype = I

[State 1050, ステート変更]
type = ChangeState
trigger1 = (Vel y > -1) && (Pos y >= -1)
trigger1 = time >= 10
value = 1550
;---------------------------------------------------------------------------
;殺人ウィルス カプセル helper
[Statedef 11501]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1011
sprpriority = 4

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SP
damage = 1, 1
hitflag = MAFP
guardflag = MA
animtype = light
priority = 5, Hit
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-55
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 9

[State 215]
type = VelSet
trigger1 = time >= 0
x = 12
y = 10

[State 1000, 7]
type = changestate
trigger1 = movecontact
trigger2 = Pos Y >= 0
value = 11502
ignorehitpause = 1

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
;---------------------------------------------------------------------------
;ウイルス拡散 helper
[Statedef 11502]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 0
ctrl = 0
anim = 1012
sprpriority = 4

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 4, 12

[State 215]
type = VelSet
trigger1 = time >= 0
x = 0
y = 0

[State 610, 3]
type = HitDef
trigger1 = time %8 = 0
attr = A, SP
damage = ceil(ifelse((85*fvar(25))<27,27,(85*fvar(25))))
hitflag = MAFP
guardflag = MA
animtype = hard
priority = 5, Hit
pausetime = 0,5
hitsound = s1,3
guardsound = s1,6
sparkno = s830
guard.sparkno = s840
sparkxy = -10,0
hitsound   = -1
guardsound = -1
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
getpower = 0,0
guard.kill = 0
affectteam = B
guard.dist = 0
palfx.color = 150
palfx.time = 40
palfx.add = 128,24,0
palfx.mul = 90,64,90
palfx.sinadd = 90,90,90,4

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.8
persistent = 0
ignorehitpause = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 215　ヘルパー消滅]
type = destroyself
trigger1 = animTime = 0
;---------------------------------------------------------------------------
;スタンド出現通常攻撃
;---------------------------------------------------------------------------
;立ち弱スタンド出現攻撃
[Statedef 10202]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10200
poweradd = 30

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 15*fVar(25), 2
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 12
channel = 0  

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち中スタンド出現攻撃
[Statedef 10212]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10210
poweradd = 30

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30*fVar(25), 5
animtype = middle
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 12
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 12
channel = 0  

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 7,0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,1

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;スタンド出現攻撃
[Statedef 14000]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 14000
poweradd = 30

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*fVar(25),5
pausetime = 14,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -18.5
air.velocity = -3.5,8  
fall = 1   
air.fall = 1            
fall.recover = 0  

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 1
channel = 0  

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 7,3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,2

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;立ち強スタンド出現攻撃
[Statedef 10222]
type    = S  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10220
poweradd = 30

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*fVar(25),5
pausetime = 14,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -12.5
air.velocity = -3.5,8  
air.fall = 1    

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 4
channel = 0  

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 7,3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 3
value = 0,2

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;屈み弱スタンド出現攻撃
[Statedef 10402]
type    = C  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10400
poweradd = 30

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 15*fVar(25), 2
animtype = Light
guardflag = L
hitflag = MAF
priority = 2, Hit
pausetime = 11, 11
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -46
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 12
channel = 0  

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 1
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み中スタンド出現攻撃
[Statedef 10412]
type    = C  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10410
poweradd = 40

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 35*fVar(25), 6
animtype  = Medium
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 13, 13
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -2*const(size.xscale),-8.5
air.type = High
air.velocity = -2.5*const(size.xscale),-6.5
air.hittime = 12

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 12
channel = 0  

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 7,0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 1
value = 0,1

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.92
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;屈み強スタンド出現攻撃
[Statedef 10422]
type    = C  ;Stand
movetype= A  ;Attack
physics = S  ;Stand
juggle  = 1
velset = 0,0 ;ぴたっと止まる
ctrl = 0
anim = 10420
poweradd = 50

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 65*fVar(25), 10
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 16, 17
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 2
guardsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -11*const(size.xscale),0
air.type = High
air.velocity = -3.5,8  
air.fall = 1           
fall.recover = 0
air.hittime = 15

[State 0, けむり]
type = Explod
trigger1 = AnimElem = 1
postype = p1
pos = 0,0
anim = 20019
sprpriority = 4
ownpal = 1

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 12
channel = 0  

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 0
value = 7,3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 1
value = 0,2

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.90
persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 空中弱スタンド出現攻撃
; CNS difficulty: easy
[Statedef 10602]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10600
sprpriority = 2

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 42,7
guardflag = HA
priority = 2, hit
pausetime = 10,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7
air.velocity = -3,-6
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 10,0
guard.kill = 0
;---------------------------------------------------------------------------
; 空中中スタンド出現攻撃
; CNS difficulty: easy
[Statedef 10612]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10610
sprpriority = 2

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 53,14
guardflag = HA
priority = 2, hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 1
guardsound = s1, 6
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7
air.velocity = -3,-6
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 10,0
guard.kill = 0
;---------------------------------------------------------------------------
; 空中強スタンド出現攻撃
; CNS difficulty: easy
[Statedef 10622]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10620
sprpriority = 2

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 0]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 0]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 66,17
pausetime = 13,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,ceil(-30*const(size.yscale))
hitsound = s1, 2
guardsound = s1, 6
ground.type = High
air.type = High
ground.slidetime = 14
ground.hittime = 14
air.hittime = 14
guard.ctrltime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -5.5
airguard.velocity = -3.5,-3.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 60
givepower = 30
persistent = 0
air.fall = 1
fall.recover = 1
yaccel = .35;44
guard.kill = 0
p2facing = 1
;---------------------------------------------------------------------------
;on時の通常攻撃
;---------------------------------------------------------------------------
; 立ち弱s
[Statedef 10200]
type    = S
movetype= A
physics = S
juggle  = 0;1
velset = 2*const(size.xscale),0
ctrl = 0
anim = 10200
poweradd = 30 
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 15*fVar(25), 3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000]
type = playsnd
trigger1 = time = 0
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち弱SonD
[Statedef 10205]
type    = S
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10205
poweradd = 30 
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
damage = 15*fVar(25), 3
animtype = Light
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 11, 11
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000]
type = playsnd
trigger1 = time = 0
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち中s
[Statedef 10210]
type    = S
movetype= A
physics = S
juggle  = 0;1
velset = 4*const(size.xscale),0
ctrl = 0
anim = 10210
poweradd = 30 
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30*fVar(25), 5
animtype = middle
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 12
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000]
type = playsnd
trigger1 = time = 4
value = 0,1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.92
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち中sD
[Statedef 10215]
type    = S
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10215
poweradd = 36
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 30*fVar(25), 5
animtype = middle
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 8, 12
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000]
type = playsnd
trigger1 = time = 4
value = 0,1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.92
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち強s
[Statedef 10220]
type    = S
movetype= A
physics = S
juggle  = 0;1
velset = 5*const(size.xscale),0
ctrl = 0
anim = 10220
poweradd = 30 
sprpriority = 2
facep2 = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*fVar(25),8
pausetime = 14,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.slidetime = 16
guard.hittime  = 16
ground.velocity = -12.5
air.velocity = -3.5,8  
air.fall = 1            
fall.recover = 0  

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[state 3000]
type = playsnd
trigger1 = time = 0
value = 2,1
channel = 0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.88
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 立ち強sonD
[Statedef 10225]
type    = S
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10225
poweradd = 42
sprpriority = 2
facep2 = 1

[State 220, ヒット定義]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
guardflag = MA
damage    = 70*fVar(25),8
pausetime = 14,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-70
hitsound = s1,3
guardsound = s1,6
getpower = 30,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -12.5
air.velocity = -3.5,8  
air.fall = 1           

[State 240, 1]
type = PlaySnd
trigger1 = Time = 6
value = 0, 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 7
value = 7, 3

[state 3000]
type = playsnd
trigger1 = time = 0
value = 2,1
channel = 0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.88
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 屈み弱s
[Statedef 10400]
type    = C
movetype= A
physics = S
juggle  = 0;1
velset = 0*const(size.xscale),0
ctrl = 0
anim = 10400
poweradd = 30 
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 15*fVar(25), 2
animtype = Light
guardflag = L
hitflag = MAF
priority = 2, Hit
pausetime = 11, 11
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -46
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み弱sonD
[Statedef 10405]
type    = C
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10405
poweradd = 20 
sprpriority = 2
facep2 = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 15*fVar(25), 2
animtype = Light
guardflag = L
hitflag = MAF
priority = 2, Hit
pausetime = 11, 11
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -46
hitsound = s1, 0
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -8*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0
air.hittime = 12

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み中s
[Statedef 10410]
type    = C
movetype= A
physics = S
juggle  = 0;1
velset = 0*const(size.xscale),0
ctrl = 0
anim = 10410
poweradd = 40 
sprpriority = 2
facep2 = 1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 35*fVar(25), 6
animtype  = Medium
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 13, 13
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -2*const(size.xscale),-8.5
air.type = High
air.velocity = -4.5*const(size.xscale),-3.5
air.hittime = 12

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,1

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み中sonD
[Statedef 10415]
type    = C
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10415
poweradd = 30 
sprpriority = 2
facep2 = 1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 35*fVar(25), 6
animtype  = Medium
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 13, 13
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -2*const(size.xscale),-8.5
air.type = High
air.velocity = -4.5*const(size.xscale),-3.5
air.hittime = 12

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,1

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み強s
[Statedef 10420]
type    = C
movetype= A
physics = S
juggle  = 0;1
velset = 0*const(size.xscale),0
ctrl = 0
anim = 10420
poweradd = 40 
sprpriority = 2
facep2 = 1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 65*fVar(25), 10
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 16, 17
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 2
guardsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -11*const(size.xscale),0
air.type = High
air.velocity = -3.5,8  
air.fall = 1           
fall.recover = 0
air.hittime = 15

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,2

[state 3000]
type = playsnd
trigger1 = time = 0
value = 2,1
channel = 0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み強sonD
[Statedef 10425]
type    = C
movetype= A
physics = S
juggle  = 0;1
ctrl = 0
anim = 10425
poweradd = 44
sprpriority = 2
facep2 = 1

[state 3000]
type = playsnd
trigger1 = time = 0
value = 7,3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 65*fVar(25), 10
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 16, 17
sparkno = s830
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 2
guardsound = s1,6
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -11*const(size.xscale),0
air.type = High
air.velocity = -3.5,8  
air.fall = 1           
fall.recover = 0
air.hittime = 15

[state 3000,]
type = playsnd
trigger1 = time = 1
value = 0,2

[state 3000]
type = playsnd
trigger1 = time = 0
value = 2,1
channel = 0

[State 200];乗算補正
type = Varset
trigger1 = movehit
fv = 25
value = fVar(25)*0.95
persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 空中弱
; CNS difficulty: easy
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10600
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 42,7
guardflag = HA
priority = 2, hit
pausetime = 10,10
sparkno = s810
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 0
guardsound = s1, 6
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-6
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 10,0
guard.kill = 0
;---------------------------------------------------------------------------
; 空中中
; CNS difficulty: easy
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10610
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 0
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 53,14
guardflag = HA
priority = 2, hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,ceil(-41*const(size.yscale))
hitsound = s1, 1
guardsound = s1, 6
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -7
air.velocity = -3,-6
p2facing = 1
air.fall = 1
getpower = 30 
givepower = 10,0
guard.kill = 0
;---------------------------------------------------------------------------
; 空中強
; CNS difficulty: easy
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 10620
sprpriority = 2

[State 1027, vel];キャンセル補正
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 10600 || prevstateno = 10610 
y = -3

[State 240, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7, 3
channel = 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 220, 1]
type = Hitdef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = HA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 66,17
pausetime = 13,13
sparkno = s830
guard.sparkno = s840
sparkxy = -10,ceil(-30*const(size.yscale))
hitsound = s1, 2
guardsound = s1, 6
ground.type = High
air.type = High
ground.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
ground.hittime  = ifelse(prevstateno = 10600||prevstateno = 10610,15,22)
guard.slidetime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
guard.hittime = ifelse(prevstateno = 10600||prevstateno = 10610,8,16)
air.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -5.5
airguard.velocity = -3.5,-3.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 60
givepower = 30
persistent = 0
air.fall = 1
fall.recover = 1
yaccel = .35;44
guard.kill = 0
p2facing = 1
;---------------------------------------------------------------------------
;ガード受付
[Statedef 7777]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 133
sprpriority = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0+IfElse(parent,StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [130,132]
value = 7779
;---------------------------------------------------------------------------
;ガード
[Statedef 7778]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 134
sprpriority = 1

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 150
time = 1
facing = 0
pos = 0,0

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 151
time = 1
facing = 0
pos = 0,30

[State 10001 固定]
type = BindToParent
trigger1 = 1
trigger1 = parent,Anim = 152
time = 1
facing = 0
pos = 15,0

[State 215　ステート]
type = ChangeState
trigger1 = parent,Anim != [150,155];ガード硬直
value = 7779
;---------------------------------------------------------------------------
;ガードさよなら
[Statedef 7779]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 135
sprpriority = 3

[State 181, 1]
type = AssertSpecial
trigger1 = time %2 = 0
flag = invisible

[State 230, 2]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 192, 128

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = AnimTime = 0
;===========================================================================
; 特殊技
;===========================================================================
;掴み
[Statedef 900]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 900
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 910
p2facing = 1
p2stateno = 920
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（放り投げる）
[Statedef 910]
type    = S
movetype= A
physics = N
anim = 901
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1000, Spark]
type = helper
trigger1 = time = 0
stateno = 911
id = 11011
pos = 10, -5
sprpriority = 4
facing = ifelse(facing=1,1,-1)
postype = P1
ownpal = 1
size.xscale = .833
size.yscale = 1

[State 10820,]
type = Explod
trigger1 = Time = 31
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 1,3

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = !var(49) && time = 0
pos = 80, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 30
value = -65

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 5
value = 3,4

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（helper）
[Statedef 911]
type    = S
movetype= A
physics = N
anim = 904
poweradd = 0
sprpriority = 1

[State 0, 1]
type = Offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 31
value = 7,3

[State 1065, 3]
type = bindtoparent
trigger1 = parent,stateno = 910
pos = 30,-5
time = 1
ignorehitpause = 1

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 230, 2]
type = changestate
trigger1 = animtime = 0
trigger2 = root,stateno = 930
value = 242
;---------------------------------------------------------------------------
;投げぬけ 自分（y.y氏製作）
[Statedef 930]
type = A
movetype = I
physics = A
anim = Ifelse(var(49)=10000,15040,5210)
velset = -3,-5

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 940

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA
;---------------------------------------------------------------------------
;投げ抜け　相手
[Statedef 940]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1
;---------------------------------------------------------------------------
;掴み son
[Statedef 10900]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 900
sprpriority = 2

[State 900, 1]
type = HitDef
triggerall = P2movetype != H
triggerall = P2bodydist X = [-const(size.ground.front),22]
trigger1 = AnimElem = 1
attr = S, NT
hitflag = M-
priority = 3, Miss    
sparkno = -1
p1facing = 1
p1stateno = 10910
p2facing = 1
p2stateno = 920
guard.dist = 0
getpower = 0,0
givepower = 0,0
air.fall = 1
fall = 1
fall.recover = 0
hitonce = 1
numhits = 0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;成功（放り投げる）son
[Statedef 10910]
type    = S
movetype= A
physics = N
anim = 10901
poweradd = 60
sprpriority = 2

[State 0, end]
type = changestate
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 930

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1,7

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 1,3

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 31
value = 7,3

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 5
value = 3,4

[State 10820,]
type = Explod
trigger1 = Time = 30
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p2
pos = 0,-80
anim = 830
sprpriority = 5
ownpal = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = time = 30
value = 1,3

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 100,0

[State 901,1]
type = targetBind
trigger1 = var(49) && time = 0
pos = 35, 0
postype = P1
time = 1

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = time = 30
value = -65

[State 230, 2]
type = playerpush
trigger1 = 1
value = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;相手側
[Statedef 920]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 903

[State 1061, 2]
type = Velset
trigger1 = time = 32
y = -4
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 34
y = -3.675
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 36
y = -3.35
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 38
y = -3
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 40
y = -1.5
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 42
y = -0.75
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 44
y = -0.375
x = -9

[State 1061, 2]
type = Velset
trigger1 = time = 46
y = 0
x = -8.5

[State 1061, 2]
type = Velset
trigger1 = time = 48
y = 0.25
x = -8

[State 1061, 2]
type = Velset
trigger1 = time = 50
y = 0.5
x = -7.5

[State 1061, 2]
type = Velset
trigger1 = time = 52
y = 1
x = -7

[State 1061, 2]
type = Velset
trigger1 = time = 53
y = 2
x = -6.5

[State 1061, 2]
type = Velset
trigger1 = time = 54
y = 4
x = -6

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 6
x = -5.5

[State 1061, 2]
type = Velset
trigger1 = time = 55
y = 8
x = -5

[State 1061, 2]
type = Velset
trigger1 = time = 56
y = 9
x = -4.5

[State 1061, 2]
type = Velset
trigger1 = time > 57
y = 10
x = -4

[State 1061, 2]
type = Velset
trigger1 = time > 55
trigger1 = Pos Y >= 0
y = 0
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 4]
type = SelfState;キャラのコントロールを相手に返します。
trigger1 = time > 35
trigger1 = Pos Y >= 0
value = 5110
;---------------------------------------------------------------------------
; ガーキャン soff
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 110
velset = 0,0
anim = 1800
ctrl = 0
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 3, 4

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 1000, 7]
type = Helper
triggerall = var(49) = 0
triggerall = numhelper(11011) = 0
trigger1 = Time = 0
trigger1 = numhelper(11011) = 0
helpertype = normal
name = "ph"
stateno = 1801
id = 11011
pos = 10, 0
postype = p1
ownpal = 1
facing = 1

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;ガーキャンPH
[Statedef 1801]
type    = S
movetype= A
physics = S
juggle  = 0;4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1801
sprpriority = 0
facep2 = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 7, 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 25, 6
animtype  = Medium
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 13, 13
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -6*const(size.xscale),-8.5
air.type = High
air.velocity = -7.5*const(size.xscale),-6.5
air.hittime = 12
fall = 1

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State -2,***]
type = sprpriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 230, 2]
type = statetypeset
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 230, 2]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 230, 2]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = parent,movetype = H
trigger1 = root,stateno != [0,155];立ち～ガード以外。
value = 1010

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1010
time = 0
ignorehitpause = 1

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 242
;---------------------------------------------------------------------------
; ガーキャン son
[Statedef 11800]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 110
velset = 0,0
anim = 11800
ctrl = 0
sprpriority = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 3
add = 255,255,255

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 7, 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 3, 4

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 25, 6
animtype  = Medium
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 13, 13
sparkno = s820
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 1
guardsound = s1,6
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -6*const(size.xscale),-8.5
air.type = High
air.velocity = -7.5*const(size.xscale),-6.5
air.hittime = 12
fall = 1

[State 191, Wood 1]
type = nothitby
trigger1 = Time = 0
value = SCA
time = 10

[State 230, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;回り込み
[Statedef 30]
type = S
physics = N
movetype = I
anim = 30
ctrl = 0
velset = 0,0

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = time <= 29
value = SCA,NT,ST,HT
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1

[State 30]
type = PlaySnd
trigger1 = time = 1
value = 3,3
channel = 0

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================
;擬似プッツンキャンセル
[Statedef 700]
type = S
physics = N
movetype = I
anim = 700+var(49)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 710
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

;プッツーン
[State 0, helper]
type = helper
trigger1 = !time
stateno = 720
id = 720
facing = ifelse(facing=1,1,-1)
postype = p1
pos = -10,-50
sprpriority = 3
ownpal = 1
size.xscale = .5
size.yscale = .5
pausemovetime = 999999
supermovetime = 999999

[State 0, super]
type = superpause
trigger1 = time = 1
time = 29
movetime = 29
anim = -1
sound = -1
darken = 0
p2defmul = 1
poweradd = -1000
ignorehitpause = 1
persistent = 0

[State 3000,03]
type = BGPalfx
trigger1 = time = 1
mul = 128,128,128
time = 29
ignorehitpause = 1
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 6,9
ignorehitpause = 1
persistent = 0

[State 0, end]
type = changestate
trigger1 = time = 30
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 0
;---------------------------------------------------------------------------
;プッツーン
[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700
;---------------------------------------------------------------------------
; アドバンシング（立ち）
[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）
[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシング（立ち）S
[Statedef 14100]
type    = U
movetype= H
physics = N
anim = 10160
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151
;===========================================================================
; アドバンシング（しゃがみ）S
[Statedef 14105]
type    = C
movetype= H
physics = N
anim = 10161
ctrl = 0
velset = 0,0
poweradd = -250

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153
;---------------------------------------------------------------------------
; アドバンシングヘルパー
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,4
channel = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,8

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0;time = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------
;まずon、offの記述はこんな感じ。
;ｽｲｯﾁ式？ではなく、直接10000を入れてます。var(49)は10000か0

;スタンド発現（立ち）
[Statedef 10820]
type = S
physics = S
ctrl = 0
anim = 10001
velset = 0,0

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State ]
type = PosAdd
trigger1 = time = 0
x = 10

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, ]
type = PlaySnd
trigger1 = time = 0
value = 7,3

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 10820, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,1
channel = 0       ;チャンネル0は、ボイス再生専用

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 0];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = time = 0
var(2) = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9999
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------
;紫のけむり
[Statedef 21000]
type = S
physics = S
ctrl = 0
anim = 21000
velset = 0,0
sprpriority = 4

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 215]
type = VelSet
trigger1 = time > 0
x = 3

[State 215]
type = VelSet
trigger1 = time > 10
x = 0.5

[State 215]
type = VelSet
trigger1 = time > 20
x = 0.1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = time = 30
;----------------------------------------
;紫のけむり
[Statedef 21001]
type = S
physics = S
ctrl = 0
anim = 21000
velset = 0,0
sprpriority = 4

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 215]
type = VelSet
trigger1 = time > 0
x = -3

[State 215]
type = VelSet
trigger1 = time > 10
x = -0.5

[State 215]
type = VelSet
trigger1 = time > 20
x = -0.1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = time = 30
;----------------------------------------
;スタンド発現（しゃがみ）
[Statedef 10821]
type = C
physics = S
ctrl = 1
anim = 10011
velset = 0,0

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10820, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 10820, けむり]
type = Explod
trigger1 = AnimElem = 1
facing = 1                 ;キャラと同じ向きに表示（デフォ
postype = p1
pos = 0,0
anim = 20019;875
sprpriority = 4
ownpal = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9998
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 10820, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,1
channel = 0       ;チャンネル0は、ボイス再生専用

[State 10820, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-----------------------------------
;スタンド発現（空中）
[Statedef 10822]
type     = A;A（空中）、S（立ち状態）、C（屈み状態）、L（倒れている
physics  = A;キャラの物理状態SNA
juggle   = 0
ctrl     = 0
anim     = 10043;10122
poweradd = 0
;velset = 0,0 ;これしたら速度が0,0になる。ぴたっと止まってしまう。

[State 10820, 紫のけむり]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21000
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10820, 紫のけむりB]
type = helper
trigger1 = time = 0
helpertype = normal
name = "are"
pos = 10,-30
postype = p1
stateno = 21001
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 10822, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 10822, 0]
type = PosAdd
trigger1 = time = 0
x = 10

[State 810,出してすぐ消せないようにする]
type = helper
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5656
ownpal = 1
size.xscale = 0.91
size.yscale = 1

[State 10820, おまけ]
type = Explod
trigger1 = time = 0
facing = 1                 
postype = p1
pos = -10,-5
anim = 9997
sprpriority = 2
ownpal = 1
removetime = 1
scale = 0.833, 1.00

[State 0, ばひゅーん]
type = PlaySnd
trigger1 = AnimElem = 1
value = 6,1

[State 10820, ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,1
channel = 0       ;チャンネル0は、ボイス再生専用

;[State 10822, 3];type = Aなのでいらない。tabun
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 51
;ctrl = 1

[State 10822, 0]
type = CtrlSet
trigger1 = time >= 5
value = 1
;----------------------------------------------------------------
;スタンド解除（立ち）
[Statedef 16003]
type = S
physics = S
ctrl = 1
anim = 0;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 0, 0]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;スタンド解除（しゃがみ）
[Statedef 16004]
type = C
physics = S
ctrl = 1
anim = 11;ifelse(statetype = S,830,831)
velset = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-----------------------------
;スタンド解除（空中）
[Statedef 16005]
type    = A
physics = A
ctrl    = 0
anim = 41;132;ifelse(statetype = S,830,831)
;velset = 0,0
juggle   = 0
poweradd = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State ]
type = PosAdd
trigger1 = time = 0
x = -10

[State 1002, 0]
type = CtrlSet
trigger1 = time >= 1
value = 1
;---------------------------------------------------------------------------
;あれれー
[Statedef 5656]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 0
var(44) = 1

[state 301, ]
type=parentvarset
trigger1 = time = 40
var(44) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 41      
;---------------------------------------------------------------------------
;あれれれー
[Statedef 5657]
type = S
physics = S
ctrl = 1
anim = 29999
velset = 0,0

[state 301, ]
type=parentvarset
trigger1 = time = 200
var(43) = 0

[State 301,けす]
type = destroyself
trigger1 = Time = 201    
;---------------------------------------------------------------------------
[Statedef 10000]
type = U;前のステートの状態を引き継ぐ
physics = N
;anim = 1
velset = 0,0

[State 0, anim]
type = changeanim
trigger1 = root,var(39)
value = anim
elem = animelemno(0)

[State 0, var]
type = parentvarset
trigger1 = 1
var(39) = 1

[State 10000]
type = NotHitBy 
trigger1 = 1    
value = SCA

[State 301,]
type = PlayerPush;プレイヤーのぶつかり判定の有無を指定します
trigger1 = 1
value = 0

[State 0, pos]
type = posadd
trigger1 = !root,hitshakeover
x = 1*ifelse(time%2=0,-1,1)

[State 10000]
type = BindToParent  ;読んで字の如く
trigger1 = root,hitshakeover
pos = -10,0

[State 10000]
type = Turn      ;親と違う向きなら振り返る。
trigger1 = facing != parent,facing

[State 10000]
;プレイヤーのステートタイプ、行動状態、物理状態を変更します。
;技の途中で宙に浮いたりする場合に使用します。
type = StateTypeSet
trigger1 = parent,statetype = S
statetype = S
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = A
statetype = A
ignorehitpause = 1

[State 10000]
type = StateTypeSet
trigger1 = parent,statetype = C
statetype = C
ignorehitpause = 1

[State 10000,けす]
type = destroyself
trigger1 = parent,var(49) = 0 && parent,alive
trigger2 = parent,var(49) = 0 && !parent,alive && parent,hitshakeover
trigger3 = parent,movetype = H && parent,stateno != [5000,5210]
trigger3 = parent,movetype = H && parent,anim != [10000,15210]

;destroy
[State 0, end]
type = null;destroyself
trigger1 = root,stateno = 16003
trigger2 = root,stateno = 16005
trigger3 = root,stateno = [11200,11220]
trigger4 = root,anim < 10000 && root,anim != 183 
trigger5 = root,stateno = 16010
trigger6 = root,stateno = 16011
;trigger7 = !root,var(0) && ((root,var(46)=gametime+1)||(anim!=root,anim-10000))

[State 10000,上に表示したい]
type = SprPriority
trigger1 = 1
value = 2

[State 10000]
type = ChangeAnim
triggerall = anim != 10044
trigger1 = parent,stateno = 10822
value = 10044

[State 10000]
type = ChangeAnim
triggerall = anim != parent,anim-10000
trigger1 = parent,anim = 10000
trigger2 = parent,anim = 10005
trigger3 = parent,anim = 10006
trigger4 = parent,anim = 10010
trigger5 = parent,anim = 10011
trigger6 = parent,anim = 10012
trigger7 = parent,anim = 10020
trigger8 = parent,anim = 10021
trigger9 = parent,anim = 10040
trigger10 = parent,stateno != 10822
trigger10 = parent,anim = [10041,10046]
trigger11 = parent,anim = 10105
trigger12 = parent,anim = [15000,15027]
trigger13 = parent,anim = 15040
trigger14 = parent,anim = 15050
trigger15 = parent,anim = 15051
trigger16 = parent,anim = 15061
trigger17 = parent,anim = [15070,15071]
trigger18 = parent,anim = 10101
trigger19 = parent,anim = 10047
trigger20 = parent,anim = 10048
trigger21 = parent,anim = 15005
trigger22 = parent,anim = 10044
trigger23 = parent,anim = [10120,10160]
value = parent,anim-10000

[State 10000] 
type = ChangeAnim
triggerall = anim != 10185
trigger1 = parent,anim = 183
value = 10185

[State 10000] 
type = ChangeAnim
triggerall = anim != 5031
trigger1 = parent,anim = 15030
value = 5031

[State 10000] 
type = ChangeAnim
triggerall = anim != 108
trigger1 = parent,anim = 10100
value = 108

[State 10000] 
type = ChangeAnim
triggerall = anim != 109
trigger1 = parent,anim = 10105
value = 109

[State 10000] 
type = ChangeAnim
triggerall = anim != 500
trigger1 = parent,anim = 10001
value = 500

[State 10000]
type = ChangeAnim
triggerall = anim != 6000
trigger1 = parent,anim = 15000
value = 6000

[State 10000]
type = ChangeAnim
triggerall = anim != 6001
trigger1 = parent,anim = 15001
value = 6001

[State 10000]
type = ChangeAnim
triggerall = anim != 6002
trigger1 = parent,anim = 15002
value = 6002

[State 10000]
type = ChangeAnim
triggerall = anim != 6010
trigger1 = parent,anim = 15010
value = 6010

[State 10000]
type = ChangeAnim
triggerall = anim != 6011
trigger1 = parent,anim = 15011
value = 6011

[State 10000]
type = ChangeAnim
triggerall = anim != 6012
trigger1 = parent,anim = 15012
value = 6012

[State 10000]
type = ChangeAnim
triggerall = anim != 6020
trigger1 = parent,anim = 15020
value = 6020

[State 10000]
type = ChangeAnim
triggerall = anim != 6021
trigger1 = parent,anim = 15021
value = 6021

[State 10000]
type = ChangeAnim
triggerall = anim != 6022
trigger1 = parent,anim = 15022
value = 6022

[State 10000]
type = ChangeAnim
triggerall = anim != 170
trigger1 = parent,anim = 10170
value = 170

[State 10000]
type = ChangeAnim
triggerall = anim != 10196
trigger1 = parent,anim = 10195
value = 10196

[State 10000]
type = ChangeAnim
triggerall = anim != 10201
trigger1 = parent,anim = 10200
trigger2 = parent,anim = 10205
value = 10201

[State 10000]
type = ChangeAnim
triggerall = anim != 10211
trigger1 = parent,anim = 10210
trigger2 = parent,anim = 10215
value = 10211

[State 10000]
type = ChangeAnim
triggerall = anim != 10221
trigger1 = parent,anim = 10220
trigger2 = parent,anim = 10225
trigger3 = parent,anim = 14000
value = 10221

[State 10000]
type = ChangeAnim
triggerall = anim != 10401
trigger1 = parent,anim = 10400
trigger2 = parent,anim = 10405
value = 10401

[State 10000]
type = ChangeAnim
triggerall = anim != 10411
trigger1 = parent,anim = 10410
trigger2 = parent,anim = 10415
value = 10411

[State 10000]
type = ChangeAnim
triggerall = anim != 10421
trigger1 = parent,anim = 10420
trigger2 = parent,anim = 10425
value = 10421

[State 10000]
type = ChangeAnim
triggerall = anim != 10601
trigger1 = parent,anim = 10600
value = 10601

[State 10000]
type = ChangeAnim
triggerall = anim != 10611
trigger1 = parent,anim = 10610
value = 10611

[State 10000]
type = ChangeAnim
triggerall = anim != 10621
trigger1 = parent,anim = 10620
value = 10621

[State 10000];プツキャン
type = ChangeAnim
triggerall = anim != 701
trigger1 = parent,anim = 10700
value = 701

[State 10000]
type = ChangeAnim
triggerall = anim != 10902
trigger1 = parent,anim = 10901
value = 10902

[State 10000]
type = ChangeAnim
triggerall = anim != 11050
trigger1 = parent,anim = 11051
value = 11050

[State 10000]
type = ChangeAnim
triggerall = anim != 11060
trigger1 = parent,anim = 11061
value = 11060

[State 10000]
type = ChangeAnim
triggerall = anim != 11100
trigger1 = parent,anim = 11101
value = 11100

[State 10000]
type = ChangeAnim
triggerall = anim != 11100
trigger1 = parent,anim = 11102
value = 11100

[State 10000]
type = ChangeAnim
triggerall = anim != 11305
trigger1 = parent,anim = 11301
value = 11305

[State 10000]
type = ChangeAnim
triggerall = anim != 11306
trigger1 = parent,anim = 11302
value = 11306

[State 10000]
type = ChangeAnim
triggerall = anim != 11307
trigger1 = parent,anim = 11303
value = 11307

[State 10000]
type = ChangeAnim
triggerall = anim != 11501
trigger1 = parent,anim = 11500
value = 11501

[State 10000]
type = ChangeAnim
triggerall = anim != 1550
trigger1 = parent,anim = 11550
value = 1550

[State 10000]
type = ChangeAnim
triggerall = anim != 13004
trigger1 = parent,anim = 13000
value = 13004

[State 10000]
type = ChangeAnim
triggerall = anim != 13004
trigger1 = parent,anim = 13001
value = 13004

[State 10000]
type = ChangeAnim
triggerall = anim != 13051
trigger1 = parent,anim = 13050
value = 13051

[State -3];spr
type = SprPriority
trigger1 = parent,stateno = [120,160]
trigger2 = parent,stateno = 10200
trigger3 = parent,stateno = 10202
trigger4 = parent,stateno = 10210
trigger5 = parent,stateno = 10212
trigger6 = parent,stateno = 10220
trigger7 = parent,stateno = 10222
trigger8 = parent,stateno = 10400
trigger9 = parent,stateno = 10402
trigger10 = parent,stateno = 10600
trigger11 = parent,stateno = 10606
trigger12 = parent,stateno = 10602
trigger13 = parent,stateno = 10610
trigger14 = parent,stateno = 10612
trigger15 = parent,stateno = 10620
trigger16 = parent,stateno = 10622
value = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;スタンドゲージヘルパー
[Statedef 20032]
type = S
sprpriority = -10
anim = 29999

;スタンドゲージ - 枠（20032）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20032);このｹﾞｰｼﾞ枠が出てないとき
trigger1 = 1
anim = 16000
id = 20032
pos = 120,45;140,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = null;Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
anim = ifelse((parent,stateno=[5000,5081]),16004,16001)
;ifelseにparent,～的なのは使えないのか・・
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 青ゲージ（20033）
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20033)
trigger1 = 1
trigger1 = parent,stateno != [5000,5081]
anim = 16001
id = 20033
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -2
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

;スタンドゲージ - 赤ゲージ（20035）
[State 20026, 0]
type = Explod
triggerall = !NumExplod(20035)
triggerall = 1
trigger1 = parent,stateno = [5000,5081] ;くらいｽﾃｰﾄ
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger2 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下の時
anim = 16004
id = 20035
pos = 120,45
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -1
postype = Back
ownpal = 1
scale = 0.5,0.5;1,1

[State -3];standの文字
type = explod
trigger1 = parent,var(49) = 10000
trigger1 = numexplod(16004) = 0 ;このstandの文字が出てないとき
bindtime = -1
anim = 16002
id = 16004
sprpriority = -1
pos = 120,45;125,50
postype = back
ownpal = 1
supermovetime = -1
pausemovetime = -1
facing = ifelse(facing=1,1,-1)
scale = 0.5,0.5

;青ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20033
scale = parent,fvar(1)*0.0125*0.5,1*0.5

;赤ゲージ増減ロジック
[State 20026, 0]
type = ModifyExplod
trigger1 = parent,fvar(1) < 80
trigger1 = roundstate = 2
id = 20035
scale = parent,fvar(1)*0.0125*0.5,1*0.5

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20032

[State 20026, 0]
type = RemoveExplod
trigger1 = win
trigger2 = lose
id = 20033

[State 20026, 0];赤ゲージ（20035
type = RemoveExplod
trigger1 = parent,stateno != [5000,5081] ;くらいｽﾃｰﾄじゃなくて
trigger1 = parent,fvar(1) >= 10   ;ｹﾞｰｼﾞが10以上の時
trigger2 = win
trigger3 = lose
id = 20035

[State -3];スタンドの文字を消す
type = removeexplod
trigger1 = parent,var(49) = 0
trigger2 = win
trigger3 = lose
id = 16004

[State 20026, 0]
type = DestroySelf
trigger1 = win
trigger2 = lose

;スタンドゲージに罰印つける
[State 20026, 0]
type = Explod
trigger1 = !NumExplod(20034)
trigger1 = parent,var(7) = 1;スタンド発現不可のとき
anim = 16003
id = 20034
pos = 120,45
postype = back
bindtime = 999999999999999
pausemovetime = 999999999999999
ownpal = 1
sprpriority = 0

[State -3];罰印を消す
type = removeexplod
trigger1 = parent,var(7) = 0;スタンド発現可のとき
id = 20034

;STAND CRUSH!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = !NumHelper(20028)     ;=0と同じような意味っぽいですね。
trigger1 = parent,stateno = 16010;スタンドクラッシュ立ち食らい
ID = 20028
stateno = 20028
pos = 0,0
pausemovetime = 99999

;DANGER!のﾒｯｾｰｼﾞｱｲｺﾝ
[State -3]
type = helper
trigger1 = parent,var(49) = 10000 ;スタンドモード時
trigger1 = parent,fvar(1) <= 10   ;ｹﾞｰｼﾞが10以下になった時
trigger1 = parent,movetype = H    ;くらい状態
trigger1 = NumHelper(20030) = 0   ;これがでてないとき
ID = 20030
stateno = 20030
pos = 0,0
pausemovetime = 999

;STAND ON!のﾒｯｾｰｼﾞｱｲｺﾝ
[State 1000, 0]
type = helper
trigger1 = parent,stateno = [10820,10822];スタンド発現ｽﾃｰﾄ
trigger1 = NumHelper(20026) = 0
ID = 20026
stateno = 20026
pos = 0,0
pausemovetime = 999

;---------------------------------------------------------------------------
;スタンドクラッシュ地上
[Statedef 16010]
type    = U 
movetype= H ;hit状態
physics = S
velset = 0,0
anim = ifelse((prevstateno = [5000,5001]),16012,ifelse((prevstateno = [5070,5071]),16014,16013))

[State 16010]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16010, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16010, 仮面]
type = Explod      
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16010]
type = PlaySnd
trigger1 = time = 0
value = 6, 400     ;ﾊﾞﾘｰﾝ

[State 16010]  
type = varset  
trigger1 = time = 0       
var(49) = 0

[State 16010];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16010];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16010, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 100, 100     ;ｽﾀﾝﾄﾞ消滅

[State 16010];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16010];うちあげ系を食らってｸﾗｯｼｭしてた場合
type = ChangeState
trigger1 = GetHitVar(yvel) != 0      ;上に浮く攻撃くらった時で、
trigger1 = prevstateno != [5070,5071];足払いじゃないとき
trigger1 = AnimElem = 35             ;velSetと同じﾀｲﾐﾝｸﾞで
value = 5050                         ;吹っ飛びｽﾃｰﾄへ。

[State 16010];足払いを食らって
type = ChangeState
trigger1 = prevstateno = [5070,5071]
trigger1 = AnimElem = 35
value = 5071;足払いでこけるｽﾃｰﾄへ
ctrl = 1;これはいらないかも。

[State 16010];立ちアニメに変更
type = Changeanim      ;同じく
trigger1 = statetype = S
trigger1 = time = 0
value = 16012

[State 16010];たち
type = ChangeState      ;しびれｱﾆﾒが終わってから立ちに移行する
trigger1 = AnimTime = 0 ;5000や5001はvel0,0設定なのでとまってしまうから。
trigger1 = statetype = S
trigger1 = GetHitVar(yvel) = 0      ;上に浮く攻撃じゃない場合
value = 0
ctrl = 1

[State 16010];しゃがみ
type = ChangeState      ;同じく
trigger1 = statetype = C
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;スタンドクラッシュ空中
[Statedef 16011]
type    = A ;air
movetype= H ;hit状態
physics = N ;重力も摩擦もかかりません
velset = 0,0;ぴたっと止まる。
anim = 16014

[State 16011]
type = pause;画面上の全てのスプライト、キャラクター、背景を止める
trigger1 = time = 0
time = 2    ;停止時間

[State 16011, Effect]
type = AssertSpecial
trigger1 = NumExplod(20035)
flag = NoFG   ;背景の手前のレイヤーを非表示にします
flag2 = NoBG  ;背景を非表示にします。

[State 16011, 仮面];Explodのleftは左上が原点、helperは左下っぽい。
type = Explod      ;いや違うような。。
trigger1 = time = 0
id = 20035
postype = left
pos = 0,0   ;0,239
anim = 16011
sprpriority = -1
ownpal = 0
bindtime = -1
pausemovetime = 999999
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
removetime = 10
;scale = 0.785,0.75    ;0.833,1.07

[State 16011]
type = PlaySnd
trigger1 = time = 0
value = 3, 13     ;ﾊﾞﾘｰﾝ

[State 16011]  ;-2でｸﾗｯｼｭ時(1)=0にしてるから別にいらんとは思う。
type = varset  ;ってたのに、これ必須です！ここで即(1)=0にする！
trigger1 = time = 0       ;じゃないとこのｽﾃｰﾄがｴﾝﾄﾞﾚｽで発動ｗ
var(1) = 0

[State 16011];スタンド発現不可にする。
type = varset
trigger1 = time = 0
trigger1 = var(7) = 0
var(7) = 1

[State 16011];しびれ→消滅のｱﾆﾒ
type = Explod
trigger1 = time = 0
anim = 16010
postype = p1
pos = 10,0
removeongethit = 1;1にすると、プレイヤーが攻撃を受けた場合、消滅します
sprpriority = 0

[State 16011, 音を鳴らす]
type = PlaySnd
trigger1 = time = 28
value = 6, 0     ;ｽﾀﾝﾄﾞ消滅

[State 16011];しびれのあと、ﾋｯﾄﾊﾞｯｸとかの値をもっかいｾｯﾄする
type = Velset
trigger1 = AnimElem = 35
x = gethitvar(xvel)*facing
y = gethitvar(yvel)
persistent = 0

[State 16011];重力をかける
type = Gravity
trigger1 = Time >= 35;現在のステートに移行して48フレーム後
trigger1 = 1         ;ずっと

[State 16011];ふっとば
type = ChangeAnim
trigger1 = AnimElem = 35
value = 5030

[State 16011];されるよ。ｱﾆﾒを変える。
type = ChangeAnim
trigger1 = anim = 5030
trigger1 = animTime = 0
value = 5050

;physics = N ;重力も摩擦もかかりません
;のままなので(Airではないので)、着地ｽﾃｰﾄがいります。

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = CanRecover   ;ﾘｶﾊﾞｰ可でﾘｶﾊﾞｰ入力したらﾘｶﾊﾞｰ
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
trigger1 = CanRecover   ;おなじく
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6];吹っ飛び後地面に激突
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5050+var(1),5059+var(1)]) || (anim = [5061+var(1),5069+var(1)]), 0, 25)
trigger1 = var(1) = 0
value = 5100 ;HIT_BOUNCE;吹っ飛び後地面に激突

;--------------------------------------------------------------------------

;ヘルパーのヘルパーで上3つのﾒｯｾｰｼﾞｱｲｺﾝを。

;STAND ON!の表示。ヘルパーでやります
[Statedef 20026]
type = S
sprpriority = 3
anim = 29999

[State 20026, 0];消えてる
type = Explod
trigger1 = time = 0
id = 20026
pos = -90,70
;30,70までもってく
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
anim = ifelse(facing=1,20026,20027)
ownpal = 1
ontop = 1
bindtime = -1
scale = 0.5,0.5
facing = facing 

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20026)
Id = 20026
postype = back
;自分が背を向けている方向の画面上端。画面中央方向が正数
pos = ceil(-90+(time*8)),70;ceil切り上げ整数化
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20026)
trigger1 = time = 60
trigger2 = NumHelper(20036);STAND CRUSH!
trigger3 = NumHelper(20030);DANGER!
ID = 20026

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60

;-------------------------------------------------
;STAND CRUSH!ヘルパー
[Statedef 20028]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20036
pos = -90,70
postype = back
anim = ifelse(facing=1,20036,20037)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20036)
Id = 20036
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20036)
trigger1 = time = 62
ID = 20036

[State 20026, 0]
type = DestroySelf
trigger1 = time = 62

;-------------------------------------------------
;DANGER!ヘルパー
[Statedef 20030]
type = S
sprpriority = -2
anim = 29999

[State 20026, 0];きえてる
type = Explod
trigger1 = time = 0
id = 20030
pos = -90,70
postype = back
anim = ifelse(facing=1,20038,20039)
ownpal = 1
ontop = 1
sprpriority = -2
bindtime = -1
scale = 0.5,0.5
facing = facing

[State 20026, 0];でてくる
type = ModifyExplod
trigger1 = time >= 0 && time <= 15
trigger1 = Numexplod(20030)
Id = 20030
postype = back
pos = ceil(-90+(time*8)),70
facing = facing

[State 20026, 0]
type = RemoveExplod
triggerall = Numexplod(20030)
trigger1 = time = 60
trigger2 = NumHelper(20028);STAND CRUSH!
ID = 20030

[State 20026, 0]
type = DestroySelf
trigger1 = time = 60
;---------------------------
;『WIN』ヘルパー
[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 6, 8

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2;バトル中
;---------------------------
;『to be continued』ヘルパー
[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)
;-------------------------------------------------------------------
;KO勝利時の集中線と音helper
[Statedef 20053]
type    = S
;movetype= I
;physics = N
anim = 29999 ;空アニメ
;velset = 0,0
ctrl = 0

[State 20053]
type = Explod
trigger1 = time = 0
anim = 20053
pos = 0,0
postype = left
sprpriority = 10
ownpal = 1
bindtime = -1	;発生させた親に常にくっ付ける
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1	;「ヒット硬直」を無視

[State 20053]
type = PlaySnd
trigger1 = Time = 0
value = 6, 7
persistent = 0  ;1回しかステコンが実行されません
ignorehitpause = 1;とるすと、ヒット停止時間を無視

[State 20053]
type = DestroySelf
trigger1 = time = 120 && RoundState != 3
;-------------------------------------------------------------------
;敗北カットイン
[Statedef 20054]
type = A
anim = 29999
sprpriority = 4

[State 20054]
type = Palfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = Bgpalfx
trigger1 = time <= 70
add = 0+time*2, 0+time*2, 0+time*2
time = 1

[State 20054]
type = PlaySnd
trigger1 = time = 0
value = 6,0;ドーン
persistent = 0  ;1回しかステコンが実行されません

[State 20054];敗北カットイン顔の部分
type = helper
trigger1 = time = 0
trigger1 = NumHelper(20058) = 0
stateno = 20058
id = 20058
sprpriority = 1
pos = 0,0
postype = p1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 0
keyctrl = 0
size.xscale = 1
size.yscale = 1

;青の背景
[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20054
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 510,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20055
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20056
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 496,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 0,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = Explod
trigger1 = time = 0
anim = 20057
id = 20054
sprpriority = -5
removetime = -1
bindtime = -1
pos = 500,240
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = -1,-1,1))
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1

[State 20054]
type = RemoveExplod
trigger1 = time = 70
trigger1 = RoundState = 4 
trigger2 = time = 80
id = 20054

[State 20054]
type = AssertSpecial
trigger1 = time = [0,69]
flag = nobg
flag2 = nofg
flag3 = nobardisplay

[State 20054]
type = null;DestroySelf
trigger1 = RoundState != 3
;trigger1 = time = 70 || RoundState != 3
;trigger2 = RoundState = 4 
;----------------------------------------------------
;敗北カットイン顔の部分
[Statedef 20058]
type    = A
;movetype= I
;physics = N
;velset = 0,0
anim = 29999
sprpriority = 4

[State 20058]
type = Explod
trigger1 = time = 0
trigger1 = NumExplod(20058) = 0
anim = 20058
id = 20058
sprpriority = -4
;removetime = -1
bindtime = -1
pos = ifelse(ishometeam=1,ifelse(root,facing = 1,160,180),ifelse(root,facing = -1,180,160)),120
postype = back
ownpal = 0
supermovetime = -1
pausemovetime = -1
scale = 1.5*parent,const(size.xscale),1.5
facing = ifelse(ishometeam=1,ifelse(root,facing = 1,-1,1),ifelse(root,facing = 1,1,-1))
persistent = 0

[State 20058]
type = RemoveExplod
trigger1 = RoundState != 3
id = 20058

[State 20058]
type = DestroySelf
trigger1 = RoundState != 3

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;AI起動ヘルパー
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 12355]
anim=12355;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,立ったら消失]
Type = DestroySelf
triggerAll = isHelper
Trigger1 = root,var(59)||var(59)=-1
trigger2=command="up"&&root,command="up"
trigger3=command="down"&&root,command="down"
trigger4=command="back"&&root,command="back"
trigger5=command="fwd"&&root,command="fwd"
trigger6=command="a"&&root,command="a"
trigger7=command="b"&&root,command="b"
trigger8=command="c"&&root,command="c"
trigger9=command="x"&&root,command="x"
trigger10=command="y"&&root,command="y"
trigger11=command="z"&&root,command="z"
trigger12=command="start"&&root,command="start"

[State 10000,ﾌﾗｸﾞON]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1
;-------------------------------------------------
;カプセル残量アイコン
[Statedef 7000]
type = S
sprpriority = 8
anim = 29999

[State 8000, 0];0個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7000) = 0
trigger1 = root,var(56) = 0
anim = 7000;ifelse(facing=1,7001,6006)
id = 7000
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];1個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7001) = 0
trigger1 = root,var(56) = 1
anim = 7001;ifelse(facing=1,7001,6006)
id = 7001
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];2個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7002) = 0
trigger1 = root,var(56) = 2
anim = 7002;ifelse(facing=1,7001,6006)
id = 7002
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];3個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7003) = 0
trigger1 = root,var(56) = 3
anim = 7003;ifelse(facing=1,7001,6006)
id = 7003
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];4個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7004) = 0
trigger1 = root,var(56) = 4
anim = 7004;ifelse(facing=1,7001,6006)
id = 7004
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];5個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7005) = 0
trigger1 = root,var(56) = 5
anim = 7005;ifelse(facing=1,7001,6006)
id = 7005
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];6個
type = Explod
triggerall = teamside = 1
triggerall = roundstate = 2
trigger1 = numexplod(7006) = 0
trigger1 = root,var(56) = 6
anim = 7006;ifelse(facing=1,7001,6006)
id = 7006
pos = 25,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

;以下2p側

[State 8000, 0];0個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7000) = 0
trigger1 = root,var(56) = 0
anim = 7000;ifelse(facing=1,7001,6006)
id = 7000
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];1個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7001) = 0
trigger1 = root,var(56) = 1
anim = 7001;ifelse(facing=1,7001,6006)
id = 7001
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];2個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7002) = 0
trigger1 = root,var(56) = 2
anim = 7002;ifelse(facing=1,7001,6006)
id = 7002
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];3個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7003) = 0
trigger1 = root,var(56) = 3
anim = 7003;ifelse(facing=1,7001,6006)
id = 7003
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];4個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7004) = 0
trigger1 = root,var(56) = 4
anim = 7004;ifelse(facing=1,7001,6006)
id = 7004
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];5個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7005) = 0
trigger1 = root,var(56) = 5
anim = 7005;ifelse(facing=1,7001,6006)
id = 7005
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

[State 8000, 0];6個
type = Explod
triggerall = teamside = 2
triggerall = roundstate = 2
trigger1 = numexplod(7006) = 0
trigger1 = root,var(56) = 6
anim = 7006;ifelse(facing=1,7001,6006)
id = 7006
pos = 30,222;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = 8
postype = Back
ownpal = 1
scale = .5, .5
removetime = -1
facing = 1
ignorhitpause = 1

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 0
trigger2 = roundstate = 3
ID = 7000

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 1
trigger2 = roundstate = 3
ID = 7001

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 2
trigger2 = roundstate = 3
ID = 7002

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 3
trigger2 = roundstate = 3
ID = 7003

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 4
trigger2 = roundstate = 3
ID = 7004

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 5
trigger2 = roundstate = 3
ID = 7005

;ランプ切り替え(BOM)
[State 6000, 0]
type = RemoveExplod
trigger1 = root,var(56) != 6
trigger2 = roundstate = 3
ID = 7006

;カプセル自動回復計測
[State -2]
type = varadd
trigger1 = root,var(56) != 6
trigger1 = roundstate = 2
trigger1 = 1
var(55) = 1

;カプセル自動回復計測
[State -2]
type = varset
trigger1 = var(55) > 600
var(55) = 0
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]

[State -2];先行入力解除
type = varset
trigger1 = stateno != 400 
var(34) = 0

[State -2];コンボ解除
type = varset
trigger1 = !numtarget
var(33) = 0

[State -2];スタンドを本体に戻す
type = varset
var(49) = 0
trigger1 = var(49) = 10000
trigger1 = alive = 0
trigger1 = animTime = 0

trigger2 = var(49) = 10000 && movetype = H
trigger2 = stateno != 0
trigger2 = stateno != [10,12]
trigger2 = stateno != [20,21]
trigger2 = stateno != 40
trigger2 = stateno != 120
trigger2 = stateno != [130,132]
trigger2 = stateno != 140
trigger2 = stateno != [150,155]
trigger2 = stateno != [5000,5001]
trigger2 = stateno != [5010,5011]
trigger2 = stateno != 5020
trigger2 = stateno != 5030
trigger2 = stateno != 5035
trigger2 = stateno != 5040
trigger2 = stateno != 5050
trigger2 = stateno != [5070,5071]
trigger2 = stateno != [5080,5081]
trigger2 = stateno != [5100,5101]
trigger2 = stateno != 5110
trigger2 = stateno != 5120
trigger2 = stateno != 5150
trigger2 = stateno != [5200,5201]
trigger2 = stateno != 5210
trigger2 = stateno != [15000,15001]
trigger2 = stateno != [15010,15011]
trigger2 = stateno != 15020
trigger2 = stateno != 15030
trigger2 = stateno != 15035
trigger2 = stateno != 15040
trigger2 = stateno != 15050
trigger2 = stateno != [15070,15071]
trigger2 = stateno != [15080,15081]
trigger2 = stateno != [15100,15101]
trigger2 = stateno != 15110
trigger2 = stateno != 15120
trigger2 = stateno != 15150
trigger2 = stateno != [15200,15201]
trigger2 = stateno != 15210
trigger2 = stateno != [14100,14105]
trigger2 = movetype = H && anim != [15000,15210]
trigger3 = anim = 170

[State -2]
type = null;varset
var(49) = 0
trigger1 = var(49) = 10000
trigger1 = alive = 0
trigger1 = animTime = 0
trigger2 = var(49) = 10000 ;ｽﾀﾝﾄﾞonかつ
trigger2 = movetype = H && stateno != [5000,5210]
trigger2 = movetype = H && anim != [10000,15210]
trigger3 = anim = 170
;-----------------------------------
;カプセル残量 初期化
[State -2]
type = varset
trigger1 = stateno = [190,192]
trigger1 = var(56) != 6
trigger2 = var(56) > 6
var(56) = 6

;カプセル残量 0に
[State -2]
type = varset
trigger1 = var(56) < 0
var(56) = 0

;カプセル残量 回復1
[State -2]
type = varadd
trigger1 = helper(7000),var(55) = 600
v = 56
value = 1

;カプセル残量 回復3
[State -2]
type = varadd
trigger1 = stateno = 5900 && !time
v = 56
value = 3

;カプセル残量 消費1
[State -2]
type = varadd
trigger1 = helper(11011),stateno = 1001
trigger1 = helper(11011),time = 10
trigger2 = helper(11011),stateno = 1101
trigger2 = helper(11011),time = 10
trigger3 = helper(11011),stateno = 1501
trigger3 = helper(11011),time = 16
trigger4 = stateno = 11000
trigger4 = time = 16
trigger5 = stateno = 11100
trigger5 = time = 15
trigger6 = stateno = 11110
trigger6 = time = 15
trigger7 = stateno = 11120
trigger7 = time = 15
trigger8 = stateno = 11500
trigger8 = time = 16
trigger9 = stateno = 13100
trigger9 = time = 50
v = 56
value = -1

;カプセル残量 消費3
[State -2]
type = varadd
trigger1 = helper(11011),stateno = 3051
trigger1 = helper(11011),time = 10
trigger2 = stateno = 13050
trigger2 = time = 50
v = 56
value = -3
;-----------------------------------
;カプセル残量 表示
[State -2]
type = helper
triggerall = roundstate = 2 
trigger1 = !var(37)
trigger1 = !Numhelper(7000)
trigger1 = 1
stateno = 7000
id = 7000
pos = 50,15;50,40
bindtime = 999999999999999
pausemovetime = 999999999999999
sprpriority = -3
postype = Back
ownpal = 1
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
;ガードのときｽﾀﾝﾄﾞの手を表示する
[State -2]
type = helper
trigger1 = Anim = [130,132];ガード受付。
trigger1 = numhelper(7777) = 0
;ｽﾀﾝﾄﾞﾓｰﾄﾞの時は10130のｱﾆﾒなので。
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
;（しゃがみなら30、そうでなければ0）を足す。
sprpriority = 2
ownpal = 1
stateno = 7777
id = 7777
size.xscale = 1
size.yscale = 1

[State -2]
type = helper
trigger1 = numhelper(7778) = 0
trigger1 = Anim = [150,155];ガード硬直
helpertype = normal
postype = p1
pos = 0,0+IfElse(StateType=C,30,0)
sprpriority = 2
ownpal = 1
stateno = 7778
id = 7778
size.xscale = 1
size.yscale = 1
;---------------------------------------------------------------------------
[State -2];違うねッ！判定リセット
type = varset
trigger1 = !numtarget
var(29) = 0
;---------------------------------------------------------------------------
;空中ジャンプ回数リセット
[State -2]
type = VarSet
trigger1 = statetype != A
;trigger1 = var(4) = 0
var(4) = 1
;---------------------------------------------------------------------------
[State -2];スタンド出現時にガード不可にする
type = AssertSpecial
trigger1 = NumHelper(11011) = 1 
trigger2 = Numhelper(11011) = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];ヘルパー野郎
type = helper
trigger1 = var(43) = 1
trigger1 = time = 0  
helpertype = normal
name = "are"
pos = 0,0
postype = p1
stateno = 5657
ownpal = 1
;---------------------------------------------------------------------------
;ｽﾀﾝﾄﾞ被ダメでｽﾀﾝﾄﾞ消滅のとき、本体もダメージ受ける
[State -2]
type = ChangeState
trigger1 = var(11) != 0
trigger1 = stateno != [16502,16504]
value = ifelse(StateType=S,16502,(ifelse(StateType=C,16503,16504)))
ctrl = 0
;---------------------------------------------------------------------------
[State -2];本体ダミー
type = Helper
trigger1 = Var(49) = 10000  ;ｽﾀﾝﾄﾞonかつ
trigger1 = NumHelper(1) = 0 ;このﾍﾙﾊﾟｰが出てない時
helpertype = normal
stateno = 10000
id = 1
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 999999;Pause無視時間 (int)
supermovetime = 999999
;---------------------------------------------------------------------------
[State -2];影消す
type = AssertSpecial
trigger1 = var(49) = 10000
flag = noshadow           
ignorehitpause = 1
;---------------------------------------------------------------------------
;敗北
[State -2]
type = Helper
trigger1 = enemynear,stateno = [2000,4999]
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && LoseKO = 1 && NumHelper(20054) = 0
;RoundState	3: Pre-over - 決着がついた瞬間
;LoseKO		そのラウンドで負けた場合、1を返します
ID = 20054
pos = 0,0
stateno = 20054
ownpal = 1

;KO勝利時集中線と音
[State -2]
type = Helper
trigger1 = TeamMode = single;シングル
trigger1 = RoundState = 3 && WinKO && NumHelper(20053) = 0
ID = 20053
pos = 0,0
stateno = 20053
ignorehitpause = 1;とるすと、ヒット停止時間を無視
ownpal = 1

;WIN
[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180    ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2  ; || は、もしくは
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

;to be continued
[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180            ;勝利ポーズ分岐
trigger1 = Teamside=1 || Teamside=2 ; || は、もしくは
trigger1 = matchover                ;ﾗｳﾝﾄﾞ取って、試合が終わったとき。
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999
;---------------------------------------------------------------------------
;削り無効
[state -2, life]
type = LifeAdd
triggerall = var(49) ;ｽﾀﾝﾄﾞon
triggerall = var(31) - Life > 0
trigger1 = stateno = 120      ;ガード開始＆準備
trigger2 = stateno = [130,132];ガード受付
trigger3 = stateno = 140      ;ガード終了
trigger4 = stateno = [150,155];ガード硬直
value = var(31)-Life
;微妙に数ﾌﾚｰﾑの差があるのか、(ｶﾞｰﾄﾞ前の体力)-(ｶﾞｰﾄﾞ後)になる。
;これを回復させることで実質、削り無効となる。
ignorehitpause = 1

[State -2,]
type = VarSet
trigger1 = 1
var(31) = life ;プレイヤーの現体力を返します。
ignorehitpause = 1
;------------------------------------------------------
;ポーズ認識用
[state -2, var]
type = varset
trigger1 = 1
var(39) = 0
;---------------------------------------------------------------------------
[State -2];補正
type = AttackMulSet
trigger1 = 1
value = 1*fvar(25)
ignorehitpause = 1

[State -2];補正
type = Varset
trigger1 = fvar(25) < 0
fv = 25
value = 0
ignorehitpause = 1

[State -2];補正
type = Varset
trigger1 = enemy,movetype != H
trigger2 = enemy,stateno = [120,155]
fv = 25
value = 1
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2];ちょっとまｽﾀﾝﾄﾞoffれないようにする
type = varset
trigger1 = var(2) = 1
trigger1 = time >= 40
var(2) = 0
;-----------------------------------
[State -2, デバッグ(変数確認)]
Type = DisplayToClipBoard
Trigger1 = 1
Text = "var(49)=%d,var(56)=%d,fvar(25)=%f,fvar(6)=%f,3101 x=%f"
Params = var(49),var(56),fvar(25),fvar(6),helper(3101),pos x
IgnoreHitPause = 1

;[State -2, クリップボード（追加専用）]
;type = AppendToClipboard
;trigger1 = 1
;text = "Position X=%d,Y=%d, Velocity X=%f,Y=%f, Hit=%d \n"
;params = floor(Pos X),floor(Pos Y),(Vel X),(Vel Y),(MoveHit)
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;スタンド被ダメ時
[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(11011)
trigger1 = helper(11011),stateno = 9500
trigger1 = !helper(11011),time
trigger1 = statetype = S
trigger2 = numhelper(11011)
trigger2 = helper(11011),stateno = 9500
trigger2 = !helper(11011),time
trigger2 = statetype = S
value = 15000
ctrl = 0

[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(11011)
trigger1 = helper(11011),stateno = 9500
trigger1 = !helper(11011),time
trigger1 = statetype = C
trigger2 = numhelper(11011)
trigger2 = helper(11011),stateno = 9500
trigger2 = !helper(11011),time
trigger2 = statetype = C
value = 15010
ctrl = 0

[state -3, end]
type = changestate
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
trigger1 = numhelper(11011) = 0
trigger1 = helper(11011),stateno = 9500
trigger1 = !helper(11011),time
trigger1 = statetype = A
trigger2 = numhelper(11011) = 0
trigger2 = helper(11011),stateno = 9500
trigger2 = !helper(11011),time
trigger2 = statetype = A
value = 15020
ctrl = 0
;---------------------------------------------------------------------------
;スタンドゲージ本体ヘルパー
[State -3]
type = Helper
trigger1 = !NumHelper(20032)
trigger1 = roundstate = 2
stateno = 20032
id = 20032
pos = 160,255
postype = Back
pausemovetime = 9999999999
sprpriority = -10

;ゲージ量初期化
[State -3]
type = Varset
;trigger1 = fvar(1) != 80
trigger1 = roundstate = 0 || roundstate = 1
fv = 1
value = 80
;　0: Pre-intro　- 試合前、画面がフェードインしている状態です。
;　1: Intro　- 登場モーション中です。
;「||」は、どちらかの条件が満たされたとき

;スタンドパワー減少させる（食らい）
[State -3]
type = Varadd
trigger1 = stateno != 150 &&  stateno != 152 && stateno != 154
;↑ガーキャン以外ってことかなぁ？
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2 ;バトル中
trigger1 = alive          ;生きてる
trigger1 = movetype = H   ;喰らい状態
trigger1 = fvar(1) != 0   ;ゲージが０じゃない
trigger1 = time = 0
trigger1 = hitshakeover = 0;ヒットシェイク中
fv = 1
value = -(gethitvar(damage)/4)
ignorehitpause = 1

;スタンドパワー減少させる←ガーキャンのとき？
[State -3]
type = Varadd
trigger1 = stateno = 150 ||  stateno = 152 || stateno = 154
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = roundstate = 2
trigger1 = alive
trigger1 = fvar(1) != 0
trigger1 = time = 0
trigger1 = hitshakeover = 0
fv = 1
value = -gethitvar(damage)/4
ignorehitpause = 1

;スタンドクラッシュ（地上）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0   ;ｹﾞｰｼﾞが０以下になった時
trigger1 = statetype != A ;sca
value = 16010
ignorehitpause = 1

;スタンドクラッシュ（空中）
[State -3]
type = ChangeState
trigger1 = var(49) = 10000;スタンドモード時
trigger1 = fvar(1) <= 0
trigger1 = statetype = A
value = 16011
ignorehitpause = 1

;本体モード時、スタンドパワー回復
[State -3]
type = VarAdd
trigger1 = var(49) = 0
trigger1 = fvar(1) < 80
trigger1 = stateno != 16010;地上ｽﾀﾝﾄﾞｸﾗｯｼｭの時は回復しない
;空中もいれないと
fv = 1
value = 0.51

;最大値固定
[State -3]
type = VarSet
trigger1 = fvar(1) > 80
fv = 1
value = 80

;最小値固定
[State -3]
 type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

;スタンド発現可にする。リセット
[State -3, 0]
type = varset
trigger1 = fvar(1) >= 10
var(7) = 0


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;AI用記述
[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(12355)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)!=1
Trigger1=PrevStateNo=5900||PrevStateNo=[190,193]
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=12355
ID=12355
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

;念のため↓も付けておく
[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(12355)
trigger1= stateno!=12355
value=12355

;-AIフラグ-
[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58) 
triggerall = RoundState = [1,2]
trigger1 = Command = "AI0"
trigger2 = Command = "AI1"
trigger3 = Command = "AI2"
trigger4 = Command = "AI3"
trigger5 = Command = "AI4"
trigger6 = Command = "AI5"
trigger7 = Command = "AI6"
trigger8 = Command = "AI7"
trigger9 = Command = "AI8"
trigger10 = Command = "AI9"
trigger11 = Command = "AI10"
trigger12 = Command = "AI11"
trigger13 = Command = "AI12"
trigger14 = Command = "AI13"
trigger15 = Command = "AI14"
trigger16 = Command = "AI15"
trigger17 = Command = "AI16"
trigger18 = Command = "AI17"
trigger19 = Command = "AI18"
trigger20 = Command = "AI19"
trigger21 = Command = "AI20"
trigger22 = Command = "AI21"
trigger23 = Command = "AI22"
trigger24 = Command = "AI23"
trigger25 = Command = "AI24"
trigger26 = Command = "AI25"
trigger27 = Command = "AI26"
trigger28 = Command = "AI27"
trigger29 = Command = "AI28"
trigger30 = Command = "AI29"
trigger31 = Command = "AI30"
trigger32 = Command = "AI31"
trigger33 = Command = "AI32"
trigger34 = Command = "AI33"
trigger35 = Command = "AI34"
trigger36 = Command = "AI35"
trigger37 = Command = "AI36"
trigger38 = Command = "AI37"
trigger39 = Command = "AI38"
trigger40 = Command = "AI39"
trigger41 = Command = "AI40"
trigger42 = Command = "AI41"
trigger43 = Command = "AI42"
trigger44 = Command = "AI43"
trigger45 = Command = "AI44"
trigger46 = Command = "AI45"
trigger47 = Command = "AI46"
trigger48 = Command = "AI47"
trigger49 = Command = "AI48"
trigger50 = Command = "AI49"
trigger51 = Command = "AI50"
Trigger52 = Helper(12355),var(59)
;trigger53 = RoundState = 2  ;常時AI起動トリガー　
var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58	
Value = 10 ;1～11の値で変更


